"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[85532],{98524:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>a,toc:()=>h});const a=JSON.parse('{"id":"security-oauth2","title":"Authentication using OAuth 2.0 access tokens","description":"Get a comprehensive understanding of concepts and configuration methods of OAuth authentication in Pulsar.","source":"@site/docs/security-oauth2.md","sourceDirName":".","slug":"/security-oauth2","permalink":"/docs/next/security-oauth2","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/docs/security-oauth2.md","tags":[],"version":"current","frontMatter":{"id":"security-oauth2","title":"Authentication using OAuth 2.0 access tokens","sidebar_label":"Authentication using OAuth 2.0 access tokens","description":"Get a comprehensive understanding of concepts and configuration methods of OAuth authentication in Pulsar."},"sidebar":"docsSidebar","previous":{"title":"Authentication using Kerberos","permalink":"/docs/next/security-kerberos"},"next":{"title":"Authentication using OpenID Connect","permalink":"/docs/next/security-openid-connect"}}');var i=n(74848),s=n(28453),r=n(11470),c=n(19365);const l={id:"security-oauth2",title:"Authentication using OAuth 2.0 access tokens",sidebar_label:"Authentication using OAuth 2.0 access tokens",description:"Get a comprehensive understanding of concepts and configuration methods of OAuth authentication in Pulsar."},o=void 0,u={},h=[{value:"Enable OAuth2 authentication on brokers/proxies",id:"enable-oauth2-authentication-on-brokersproxies",level:2},{value:"Configure OAuth2 authentication in Pulsar clients",id:"configure-oauth2-authentication-in-pulsar-clients",level:2},{value:"Configure OAuth2 authentication in CLI tools",id:"configure-oauth2-authentication-in-cli-tools",level:2},{value:"Authentication types",id:"authentication-types",level:4}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:'Pulsar supports authenticating clients using OAuth 2.0 access tokens. Using an access token obtained from an OAuth 2.0 authorization service (acts as a token issuer), you can identify a Pulsar client and associate it with a "principal" (or "role") that is permitted to do some actions, such as publishing messages to a topic or consuming messages from a topic.'}),"\n",(0,i.jsxs)(t.p,{children:["After communicating with the OAuth 2.0 server, the Pulsar client gets an access token from the server and passes this access token to brokers for authentication. By default, brokers can use the ",(0,i.jsx)(t.code,{children:"org.apache.pulsar.broker.authentication.AuthenticationProviderToken"}),". Alternatively, you can customize the value of ",(0,i.jsx)(t.code,{children:"AuthenticationProvider"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"enable-oauth2-authentication-on-brokersproxies",children:"Enable OAuth2 authentication on brokers/proxies"}),"\n",(0,i.jsxs)(t.p,{children:["To configure brokers/proxies to authenticate clients using OAuth2, add the following parameters to the ",(0,i.jsx)(t.code,{children:"conf/broker.conf"})," and the ",(0,i.jsx)(t.code,{children:"conf/proxy.conf"})," file. If you use a standalone Pulsar, you need to add these parameters to the ",(0,i.jsx)(t.code,{children:"conf/standalone.conf"})," file:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-properties",children:'# Configuration to enable authentication\nauthenticationEnabled=true\nauthenticationProviders=org.apache.pulsar.broker.authentication.AuthenticationProviderToken\n\n# Authentication settings of the broker itself. Used when the broker connects to other brokers, or when the proxy connects to brokers, either in same or other clusters\nbrokerClientAuthenticationPlugin=org.apache.pulsar.client.impl.auth.oauth2.AuthenticationOAuth2\nbrokerClientAuthenticationParameters={"privateKey":"file:///path/to/privateKey","audience":"https://dev-kt-aa9ne.us.auth0.com/api/v2/","issuerUrl":"https://dev-kt-aa9ne.us.auth0.com"}\n# brokerClientAuthenticationParameters={"privateKey":"data:application/json;base64,privateKey-body-to-base64","audience":"https://dev-kt-aa9ne.us.auth0.com/api/v2/","issuerUrl":"https://dev-kt-aa9ne.us.auth0.com"}\n\n# If using secret key (Note: key files must be DER-encoded)\ntokenSecretKey=file:///path/to/secret.key\n# The key can also be passed inline:\n# tokenSecretKey=data:;base64,FLFyW0oLJ2Fi22KKCm21J18mbAdztfSHN/lAT5ucEKU=\n\n# If using public/private (Note: key files must be DER-encoded)\n# tokenPublicKey=file:///path/to/public.key\n'})}),"\n",(0,i.jsx)(t.h2,{id:"configure-oauth2-authentication-in-pulsar-clients",children:"Configure OAuth2 authentication in Pulsar clients"}),"\n",(0,i.jsx)(t.p,{children:"You can use the OAuth2 authentication provider with the following Pulsar clients."}),"\n",(0,i.jsxs)(r.A,{groupId:"lang-choice",defaultValue:"Java",values:[{label:"Java",value:"Java"},{label:"Python",value:"Python"},{label:"C++",value:"C++"},{label:"Node.js",value:"Node.js"},{label:"Go",value:"Go"}],children:[(0,i.jsxs)(c.A,{value:"Java",children:[(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-java",children:'import org.apache.pulsar.client.impl.auth.oauth2.AuthenticationFactoryOAuth2;\n\nURL issuerUrl = new URL("https://dev-kt-aa9ne.us.auth0.com");\nURL credentialsUrl = new URL("file:///path/to/KeyFile.json");\nString audience = "https://dev-kt-aa9ne.us.auth0.com/api/v2/";\n\nPulsarClient client = PulsarClient.builder()\n    .serviceUrl("pulsar://broker.example.com:6650/")\n    .authentication(\n        AuthenticationFactoryOAuth2.clientCredentials(issuerUrl, credentialsUrl, audience))\n    .build();\n'})}),(0,i.jsx)(t.p,{children:"In addition, you can also use the encoded parameters to configure authentication for Pulsar Java client."}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-java",children:'Authentication auth = AuthenticationFactory\n    .create(AuthenticationOAuth2.class.getName(), "{"type":"client_credentials","privateKey":"./key/path/..","issuerUrl":"...","audience":"..."}");\nPulsarClient client = PulsarClient.builder()\n    .serviceUrl("pulsar://broker.example.com:6650/")\n    .authentication(auth)\n    .build();\n'})})]}),(0,i.jsx)(c.A,{value:"Python",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'from pulsar import Client, AuthenticationOauth2\n\nparams = \'\'\'\n{\n    "issuer_url": "https://dev-kt-aa9ne.us.auth0.com",\n    "private_key": "/path/to/privateKey",\n    "audience": "https://dev-kt-aa9ne.us.auth0.com/api/v2/"\n}\n\'\'\'\n\nclient = Client("pulsar://my-cluster:6650", authentication=AuthenticationOauth2(params))\n'})})}),(0,i.jsx)(c.A,{value:"C++",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-cpp",children:'#include <pulsar/Client.h>\n\npulsar::ClientConfiguration config;\nstd::string params = R"({\n    "issuer_url": "https://dev-kt-aa9ne.us.auth0.com",\n    "private_key": "../../pulsar-broker/src/test/resources/authentication/token/cpp_credentials_file.json",\n    "audience": "https://dev-kt-aa9ne.us.auth0.com/api/v2/"})";\n\nconfig.setAuth(pulsar::AuthOauth2::create(params));\n\npulsar::Client client("pulsar://broker.example.com:6650/", config);\n'})})}),(0,i.jsxs)(c.A,{value:"Node.js",children:[(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"    const Pulsar = require('pulsar-client');\n    const issuer_url = process.env.ISSUER_URL;\n    const private_key = process.env.PRIVATE_KEY;\n    const audience = process.env.AUDIENCE;\n    const scope = process.env.SCOPE;\n    const service_url = process.env.SERVICE_URL;\n    const client_id = process.env.CLIENT_ID;\n    const client_secret = process.env.CLIENT_SECRET;\n    (async () => {\n      const params = {\n        issuer_url: issuer_url\n      }\n      if (private_key.length > 0) {\n        params['private_key'] = private_key\n      } else {\n        params['client_id'] = client_id\n        params['client_secret'] = client_secret\n      }\n      if (audience.length > 0) {\n        params['audience'] = audience\n      }\n      if (scope.length > 0) {\n        params['scope'] = scope\n      }\n      const auth = new Pulsar.AuthenticationOauth2(params);\n      // Create a client\n      const client = new Pulsar.Client({\n        serviceUrl: service_url,\n        tlsAllowInsecureConnection: true,\n        authentication: auth,\n      });\n      await client.close();\n    })();\n"})}),(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsx)(t.p,{children:"The support for OAuth2 authentication is only available in Node.js client 1.6.2 and later versions."})})]}),(0,i.jsx)(c.A,{value:"Go",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:'oauth := pulsar.NewAuthenticationOAuth2(map[string]string{\n\t\t"type":       "client_credentials",\n\t\t"issuerUrl":  "https://dev-kt-aa9ne.us.auth0.com",\n\t\t"audience":   "https://dev-kt-aa9ne.us.auth0.com/api/v2/",\n\t\t"privateKey": "/path/to/privateKey",\n\t\t"clientId":   "0Xx...Yyxeny",\n\t})\nclient, err := pulsar.NewClient(pulsar.ClientOptions{\n\t\tURL:              "pulsar://my-cluster:6650",\n\t\tAuthentication:   oauth,\n})\n'})})})]}),"\n",(0,i.jsx)(t.h2,{id:"configure-oauth2-authentication-in-cli-tools",children:"Configure OAuth2 authentication in CLI tools"}),"\n",(0,i.jsx)(t.p,{children:"This section describes how to use Pulsar CLI tools to connect a cluster through OAuth2 authentication plugin."}),"\n",(0,i.jsxs)(r.A,{groupId:"lang-choice",defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"pulsar-client",value:"pulsar-client"},{label:"pulsar-perf",value:"pulsar-perf"}],children:[(0,i.jsx)(c.A,{value:"pulsar-admin",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:'bin/pulsar-admin --admin-url https://streamnative.cloud:443 \\\n    --auth-plugin org.apache.pulsar.client.impl.auth.oauth2.AuthenticationOAuth2 \\\n    --auth-params \'{"privateKey":"file:///path/to/key/file.json",\n        "issuerUrl":"https://dev-kt-aa9ne.us.auth0.com",\n        "audience":"https://dev-kt-aa9ne.us.auth0.com/api/v2/"}\' \\\n    tenants list\n'})})}),(0,i.jsx)(c.A,{value:"pulsar-client",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:'bin/pulsar-client \\\n    --url SERVICE_URL \\\n    --auth-plugin org.apache.pulsar.client.impl.auth.oauth2.AuthenticationOAuth2 \\\n    --auth-params \'{"privateKey":"file:///path/to/key/file.json",\n        "issuerUrl":"https://dev-kt-aa9ne.us.auth0.com",\n        "audience":"https://dev-kt-aa9ne.us.auth0.com/api/v2/"}\' \\\n    produce test-topic -m "test-message" -n 10\n'})})}),(0,i.jsx)(c.A,{value:"pulsar-perf",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:'bin/pulsar-perf produce --service-url pulsar+ssl://streamnative.cloud:6651 \\\n    --auth-plugin org.apache.pulsar.client.impl.auth.oauth2.AuthenticationOAuth2 \\\n    --auth-params \'{"privateKey":"file:///path/to/key/file.json",\n        "issuerUrl":"https://dev-kt-aa9ne.us.auth0.com",\n        "audience":"https://dev-kt-aa9ne.us.auth0.com/api/v2/"}\' \\\n    -r 1000 -s 1024 test-topic\n'})})})]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Set the ",(0,i.jsx)(t.code,{children:"admin-url"})," parameter to the Web service URL. A Web service URL is a combination of the protocol, hostname and port ID, such as ",(0,i.jsx)(t.code,{children:"pulsar://localhost:6650"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Set the ",(0,i.jsx)(t.code,{children:"privateKey"}),", ",(0,i.jsx)(t.code,{children:"issuerUrl"}),", and ",(0,i.jsx)(t.code,{children:"audience"})," parameters to the values based on the configuration in the key file. For details, see ",(0,i.jsx)(t.a,{href:"#authentication-types",children:"authentication types"}),"."]}),"\n"]}),"\n",(0,i.jsx)(t.h4,{id:"authentication-types",children:"Authentication types"}),"\n",(0,i.jsxs)(t.p,{children:["Currently, Pulsar clients only support the ",(0,i.jsx)(t.code,{children:"client_credentials"})," authentication type. The authentication type determines how to obtain an access token through an OAuth 2.0 authorization service."]}),"\n",(0,i.jsxs)(t.p,{children:["The following table outlines the parameters of the ",(0,i.jsx)(t.code,{children:"client_credentials"})," authentication type."]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter"}),(0,i.jsx)(t.th,{children:"Description"}),(0,i.jsx)(t.th,{children:"Example"}),(0,i.jsx)(t.th,{children:"Required or not"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"type"})}),(0,i.jsx)(t.td,{children:"OAuth 2.0 authentication type."}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"client_credentials"})," (default)"]}),(0,i.jsx)(t.td,{children:"Optional"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"issuerUrl"})}),(0,i.jsx)(t.td,{children:"The URL of the authentication provider which allows the Pulsar client to obtain an access token."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"https://accounts.google.com"})}),(0,i.jsx)(t.td,{children:"Required"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"privateKey"})}),(0,i.jsx)(t.td,{children:"The URL to the JSON credentials file."}),(0,i.jsxs)(t.td,{children:["Support the following pattern formats: ",(0,i.jsx)("br",{})," ",(0,i.jsxs)("li",{children:[" ",(0,i.jsx)(t.code,{children:"file:///path/to/file"})," "]}),(0,i.jsxs)("li",{children:[(0,i.jsx)(t.code,{children:"file:/path/to/file"})," "]}),(0,i.jsxs)("li",{children:[" ",(0,i.jsx)(t.code,{children:"data:application/json;base64,<base64-encoded value>"})," "]})]}),(0,i.jsx)(t.td,{children:"Required"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"audience"})}),(0,i.jsx)(t.td,{children:'The OAuth 2.0 "resource server" identifier for a Pulsar cluster.'}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"https://broker.example.com"})}),(0,i.jsx)(t.td,{children:"Optional"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"scope"})}),(0,i.jsxs)(t.td,{children:["The scope of an access request. ",(0,i.jsx)("br",{}),"For more information, see ",(0,i.jsx)(t.a,{href:"https://datatracker.ietf.org/doc/html/rfc6749#section-3.3",children:"access token scope"}),"."]}),(0,i.jsx)(t.td,{children:"api://pulsar-cluster-1/.default"}),(0,i.jsx)(t.td,{children:"Optional"})]})]})]}),"\n",(0,i.jsxs)(t.p,{children:["The credentials file ",(0,i.jsx)(t.code,{children:"credentials_file.json"})," contains the service account credentials used with the client authentication type. The following is an example of the credentials file. The authentication type is set to ",(0,i.jsx)(t.code,{children:"client_credentials"}),' by default. And the fields "client_id" and "client_secret" are required.']}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n  "type": "client_credentials",\n  "client_id": "d9ZyX97q1ef8Cr81WHVC4hFQ64vSlDK3",\n  "client_secret": "on1uJ...k6F6R",\n  "client_email": "1234567890-abcdefghijklmnopqrstuvwxyz@developer.gserviceaccount.com",\n  "issuer_url": "https://accounts.google.com"\n}\n'})}),"\n",(0,i.jsx)(t.p,{children:"The following is an example of a typical original OAuth2 request, which is used to obtain an access token from the OAuth2 server."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:'curl --request POST \\\n  --url https://dev-kt-aa9ne.us.auth0.com/oauth/token \\\n  --header \'content-type: application/json\' \\\n  --data \'{\n  "client_id":"Xd23RHsUnvUlP7wchjNYOaIfazgeHd9x",\n  "client_secret":"rT7ps7WY8uhdVuBTKWZkttwLdQotmdEliaM5rLfmgNibvqziZ-g07ZH52N_poGAb",\n  "audience":"https://dev-kt-aa9ne.us.auth0.com/api/v2/",\n  "grant_type":"client_credentials"}\'\n'})}),"\n",(0,i.jsx)(t.p,{children:"In the above example, the mapping relationship is shown below."}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"issuerUrl"})," parameter is mapped to ",(0,i.jsx)(t.code,{children:"--url https://dev-kt-aa9ne.us.auth0.com"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"privateKey"})," parameter should contain the ",(0,i.jsx)(t.code,{children:"client_id"})," and ",(0,i.jsx)(t.code,{children:"client_secret"})," fields at least."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"audience"})," parameter is mapped to  ",(0,i.jsx)(t.code,{children:'"audience":"https://dev-kt-aa9ne.us.auth0.com/api/v2/"'}),". This field is only used by some identity providers."]}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},19365:(e,t,n)=>{n.d(t,{A:()=>r});n(96540);var a=n(34164);const i={tabItem:"tabItem_Ymn6"};var s=n(74848);function r({children:e,hidden:t,className:n}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,a.A)(i.tabItem,n),hidden:t,children:e})}},11470:(e,t,n)=>{n.d(t,{A:()=>k});var a=n(96540),i=n(34164),s=n(23104),r=n(56347),c=n(205),l=n(57485),o=n(31682),u=n(70679);function h(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function d(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=t??function(e){return h(e).map((({props:{value:e,label:t,attributes:n,default:a}})=>({value:e,label:t,attributes:n,default:a})))}(n);return function(e){const t=(0,o.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p({value:e,tabValues:t}){return t.some((t=>t.value===e))}function m({queryString:e=!1,groupId:t}){const n=(0,r.W6)(),i=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,l.aZ)(i),(0,a.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(n.location.search);t.set(i,e),n.replace({...n.location,search:t.toString()})}),[i,n])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:i}=e,s=d(e),[r,l]=(0,a.useState)((()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find((e=>e.default))??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:s}))),[o,h]=m({queryString:n,groupId:i}),[f,v]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,i]=(0,u.Dv)(t);return[n,(0,a.useCallback)((e=>{t&&i.set(e)}),[t,i])]}({groupId:i}),x=(()=>{const e=o??f;return p({value:e,tabValues:s})?e:null})();(0,c.A)((()=>{x&&l(x)}),[x]);return{selectedValue:r,selectValue:(0,a.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),v(e)}),[h,v,s]),tabValues:s}}var v=n(92303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=n(74848);function b({className:e,block:t,selectedValue:n,selectValue:a,tabValues:r}){const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,s.a_)(),o=e=>{const t=e.currentTarget,i=c.indexOf(t),s=r[i].value;s!==n&&(l(t),a(s))},u=e=>{let t=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const n=c.indexOf(e.currentTarget)+1;t=c[n]??c[0];break}case"ArrowLeft":{const n=c.indexOf(e.currentTarget)-1;t=c[n]??c[c.length-1];break}}t?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":t},e),children:r.map((({value:e,label:t,attributes:a})=>(0,j.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>c.push(e),onKeyDown:u,onClick:o,...a,className:(0,i.A)("tabs__item",x.tabItem,a?.className,{"tabs__item--active":n===e}),children:t??e},e)))})}function g({lazy:e,children:t,selectedValue:n}){const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=s.find((e=>e.props.value===n));return e?(0,a.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:s.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==n})))})}function y(e){const t=f(e);return(0,j.jsxs)("div",{className:(0,i.A)("tabs-container",x.tabList),children:[(0,j.jsx)(b,{...t,...e}),(0,j.jsx)(g,{...t,...e})]})}function k(e){const t=(0,v.A)();return(0,j.jsx)(y,{...e,children:h(e.children)},String(t))}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>c});var a=n(96540);const i={},s=a.createContext(i);function r(e){const t=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(s.Provider,{value:t},e.children)}}}]);