"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[99432],{89971:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>l,frontMatter:()=>o,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"admin-api-non-partitioned-topics","title":"Managing non-partitioned topics","description":"You can use Pulsar\'s admin API to create and manage non-partitioned topics.","source":"@site/versioned_docs/version-2.5.0/admin-api-non-partitioned-topics.md","sourceDirName":".","slug":"/admin-api-non-partitioned-topics","permalink":"/docs/2.5.0/admin-api-non-partitioned-topics","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/versioned_docs/version-2.5.0/admin-api-non-partitioned-topics.md","tags":[],"version":"2.5.0","frontMatter":{"id":"admin-api-non-partitioned-topics","title":"Managing non-partitioned topics","sidebar_label":"Non-Partitioned topics","original_id":"admin-api-non-partitioned-topics"},"sidebar":"docsSidebar","previous":{"title":"Partitioned topics","permalink":"/docs/2.5.0/admin-api-partitioned-topics"},"next":{"title":"Functions","permalink":"/docs/2.5.0/admin-api-functions"}}');var t=i(74848),s=i(28453);const o={id:"admin-api-non-partitioned-topics",title:"Managing non-partitioned topics",sidebar_label:"Non-Partitioned topics",original_id:"admin-api-non-partitioned-topics"},r=void 0,c={},d=[{value:"Non-Partitioned topics resources",id:"non-partitioned-topics-resources",level:2},{value:"Create",id:"create",level:3},{value:"pulsar-admin",id:"pulsar-admin",level:4},{value:"REST API",id:"rest-api",level:4},{value:"Java",id:"java",level:4},{value:"Delete",id:"delete",level:3},{value:"pulsar-admin",id:"pulsar-admin-1",level:4},{value:"REST API",id:"rest-api-1",level:4},{value:"Java",id:"java-1",level:4},{value:"List",id:"list",level:3},{value:"pulsar-admin",id:"pulsar-admin-2",level:4},{value:"REST API",id:"rest-api-2",level:4},{value:"Java",id:"java-2",level:4}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["You can use Pulsar's ",(0,t.jsx)(n.a,{href:"/docs/2.5.0/admin-api-overview",children:"admin API"})," to create and manage non-partitioned topics."]}),"\n",(0,t.jsx)(n.p,{children:"In all of the instructions and commands below, the topic name structure is:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"\npersistent://tenant/namespace/topic\n\n"})}),"\n",(0,t.jsx)(n.h2,{id:"non-partitioned-topics-resources",children:"Non-Partitioned topics resources"}),"\n",(0,t.jsx)(n.h3,{id:"create",children:"Create"}),"\n",(0,t.jsx)(n.p,{children:"Non-partitioned topics in Pulsar must be explicitly created. When creating a new non-partitioned topic you\nneed to provide a name for the topic."}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["By default, after 60 seconds of creation, topics are considered inactive and deleted automatically to prevent from generating trash data.\nTo disable this feature, set ",(0,t.jsx)(n.code,{children:"brokerDeleteInactiveTopicsEnabled"}),"  to ",(0,t.jsx)(n.code,{children:"false"}),".\nTo change the frequency of checking inactive topics, set ",(0,t.jsx)(n.code,{children:"brokerDeleteInactiveTopicsFrequencySeconds"})," to your desired value.\nFor more information about these two parameters, see ",(0,t.jsx)(n.a,{href:"/docs/2.5.0/reference-configuration#broker",children:"here"}),"."]})}),"\n",(0,t.jsx)(n.h4,{id:"pulsar-admin",children:"pulsar-admin"}),"\n",(0,t.jsxs)(n.p,{children:["You can create non-partitioned topics using the ",(0,t.jsx)(n.a,{href:"/docs/2.5.0/reference-pulsar-admin#create-3",children:(0,t.jsx)(n.code,{children:"create"})}),"\ncommand and specifying the topic name as an argument.\nHere's an example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"\n$ bin/pulsar-admin topics create \\\n  persistent://my-tenant/my-namespace/my-topic\n\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"It's only allowed to create non partitioned topic of name contains suffix '-partition-' followed by numeric value like\n'xyz-topic-partition-10', if there's already a partitioned topic with same name, in this case 'xyz-topic', and has\nnumber of partition larger then that numeric value in this case 11(partition index is start from 0). Else creation of such topic will fail."})}),"\n",(0,t.jsx)(n.h4,{id:"rest-api",children:"REST API"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.0&apiversion=v2#operation/createNonPartitionedTopic",children:["PUT /admin/v2/",":schema","/",":tenant","/",":namespace","/",":topic","/createNonPartitionedTopic"]})}),"\n",(0,t.jsx)(n.h4,{id:"java",children:"Java"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'\nString topicName = "persistent://my-tenant/my-namespace/my-topic";\nadmin.topics().createNonPartitionedTopic(topicName);\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"delete",children:"Delete"}),"\n",(0,t.jsx)(n.h4,{id:"pulsar-admin-1",children:"pulsar-admin"}),"\n",(0,t.jsxs)(n.p,{children:["Non-partitioned topics can be deleted using the ",(0,t.jsx)(n.a,{href:"/docs/2.5.0/reference-pulsar-admin#delete-4",children:(0,t.jsx)(n.code,{children:"delete"})})," command, specifying the topic by name:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"\n$ bin/pulsar-admin topics delete \\\n  persistent://my-tenant/my-namespace/my-topic\n\n"})}),"\n",(0,t.jsx)(n.h4,{id:"rest-api-1",children:"REST API"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.0&apiversion=v2#operation/deleteTopic",children:["DELETE /admin/v2/",":schema","/",":tenant","/",":namespace","/",":topic","/deleteTopic"]})}),"\n",(0,t.jsx)(n.h4,{id:"java-1",children:"Java"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"\nadmin.topics().delete(persistentTopic);\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"list",children:"List"}),"\n",(0,t.jsx)(n.p,{children:"It provides a list of topics existing under a given namespace."}),"\n",(0,t.jsx)(n.h4,{id:"pulsar-admin-2",children:"pulsar-admin"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"\n$ pulsar-admin topics list tenant/namespace\npersistent://tenant/namespace/topic1\npersistent://tenant/namespace/topic2\n\n"})}),"\n",(0,t.jsx)(n.h4,{id:"rest-api-2",children:"REST API"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.0&apiversion=v2#operation/getList",children:["GET /admin/v2/",":schema","/",":tenant","/",":namespace","/getList"]})}),"\n",(0,t.jsx)(n.h4,{id:"java-2",children:"Java"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"\nadmin.topics().getList(namespace);\n\n"})})]})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>r});var a=i(96540);const t={},s=a.createContext(t);function o(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);