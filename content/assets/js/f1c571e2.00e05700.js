"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[54501],{39700:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>h,contentTitle:()=>t,default:()=>o,frontMatter:()=>n,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"versioned/pulsar-2.6.2","title":"Apache Pulsar 2.6.2","description":"2020-11-09","source":"@site/release-notes/versioned/pulsar-2.6.2.md","sourceDirName":"versioned","slug":"/versioned/pulsar-2.6.2","permalink":"/release-notes/versioned/pulsar-2.6.2","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/release-notes/versioned/pulsar-2.6.2.md","tags":[],"version":"current","frontMatter":{"id":"pulsar-2.6.2","title":"Apache Pulsar 2.6.2","sidebar_label":"Apache Pulsar 2.6.2"}}');var i=s(74848),a=s(28453);const n={id:"pulsar-2.6.2",title:"Apache Pulsar 2.6.2",sidebar_label:"Apache Pulsar 2.6.2"},t=void 0,h={},c=[{value:"2020-11-09",id:"2020-11-09",level:4},{value:"Broker",id:"broker",level:4},{value:"Proxy",id:"proxy",level:4},{value:"Pulsar SQL",id:"pulsar-sql",level:4},{value:"Pulsar Functions",id:"pulsar-functions",level:4},{value:"Pulsar Perf",id:"pulsar-perf",level:4},{value:"Pulsar Admin",id:"pulsar-admin",level:4},{value:"Tiered Storage",id:"tiered-storage",level:4}];function p(e){const r={a:"a",code:"code",h4:"h4",li:"li",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h4,{id:"2020-11-09",children:"2020-11-09"}),"\n",(0,i.jsx)(r.p,{children:"The following lists fixes and enhancements in the 2.6.2 release."}),"\n",(0,i.jsx)(r.h4,{id:"broker",children:"Broker"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["[Broker] Catch throwable when start pulsar ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7221",children:"7221"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Protobuf-shaded package can not update version ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7228",children:"7228"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Check for null arguments in Namespaces Rest API ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7247",children:"7247"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Handle SubscriptionBusyException in resetCursor api ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7335",children:"7335"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Converted the namespace bundle unload into async operation ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7364",children:"7364"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Update Jersey to 2.31 ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7515",children:"7515"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Stop to dispatch when skip message temporally since Key_Shared consumer stuck on delivery ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7553",children:"7553"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix bug where producer for geo-replication is not closed when topic is unloaded ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7735",children:"7735"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Make resetting cursor in REST API asynchronous ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7744",children:"7744"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Reestablish namespace bundle ownership from false negative releasing and false positive acquiring ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7773",children:"7773"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] make pulsar executor pool size configurable ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7782",children:"7782"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Redirect Get message by id request when broker not serve for the topic ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7786",children:"7786"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Make zk cache executor thread pool size configurable ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7794",children:"7794"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Implement toString() method for TopicMessageIdImpl class ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7807",children:"7807"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix pending batchIndexAcks bitSet batchSize in PersistentAcknowledgmentsGroupingTracker ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7828",children:"7828"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix deadlock when adding consumer ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7841",children:"7841"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Split message ranges by ledger ID and store them in individualDeletedMessages ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7861",children:"7861"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker]  Fix pulsar metrics providing wrong information ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7905",children:"7905"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Don't fail the health check request when trying to delete the previous subscription ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7906",children:"7906"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Add configuration to set number of channels per bookie ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7910",children:"7910"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix publish buffer of one ServerCnx calculated multi-times when check broker's publish buffer ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7926",children:"7926"})]}),"\n",(0,i.jsxs)(r.li,{children:['[Broker] Add some logging to improve Authentication debugging and Fix typos in code "occured" -> "occurred" ',(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7934",children:"7934"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix NPE when acknowledge messages at the broker side ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7937",children:"7937"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix the wrong issuer url concatenate ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7980",children:"7980"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Upgrade the snakeyaml version to 1.26 ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7994",children:"7994"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Exclude vertx from bookkeeper-http package ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7997",children:"7997"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Check null point before setting auto read ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7999",children:"7999"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix IndexOutOfBoundsException in the KeyShared subscription when dispatching messages to consumers ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8024",children:"8024"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Upgrade jetty-util version to 9.4.31 ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8035",children:"8035"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Add replicated check to checkInactiveSubscriptions ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8066",children:"8066"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Add get-last-message-id admin for v1 api ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8081",children:"8081"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix client lookup hangs when broker restarts ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8101",children:"8101"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Should not cache the owner that does not belong to current server ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8111",children:"8111"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Support to specify multi ipv6 hosts in brokerServiceUrl ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8120",children:"8120"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Intercept messages to consumers and add intercept exception ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8129",children:"8129"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Add ChannelFutures utility class to pulsar-common ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8137",children:"8137"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Support Disable Replicated Subscriptions ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8144",children:"8144"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix error code returned to client when service unit is not ready ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8147",children:"8147"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Skip intercepting multipart requests ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8156",children:"8156"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Enable intercept filters only when interceptors are configured ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8157",children:"8157"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Clean inactive non-persistent subscriptions ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8166",children:"8166"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Add a new state for namespace-level TTL ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8178",children:"8178"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix peek messages failed with subscriptionName not exist ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8182",children:"8182"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix pulsar service close exception ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8197",children:"8197"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Use ThreadPoolExecutor instead of EventLoop ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8208",children:"8208"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Close ZK connections at end of metadata setup ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8228",children:"8228"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Delete associated ledgers before deleting cluster metadata ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8244",children:"8244"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix stuck lookup operations when the broker is starting up ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8273",children:"8273"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix Broker enters an infinite loop in ManagedLedgerImpl.asyncReadEntries ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8284",children:"8284"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix message TTL on Key_Shared subscription and Fix ordering issue when replay messages ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8292",children:"8292"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix race condition in updating readPosition in ManagedCursorImpl ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8299",children:"8299"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Refresh ZooKeeper-data cache in background to avoid deadlock and blocking IO on ZK thread ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8304",children:"8304"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Upgrade hdfs2 version to 2.8.5 ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8319",children:"8319"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Upgrade solr version to 8.6.3 ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8328",children:"8328"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix deadlock that occurred during topic ownership check ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8406",children:"8406"})]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"proxy",children:"Proxy"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["[Proxy] Add advertisedAddress config field to ProxyConfiguration ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7542",children:"7542"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Proxy] Fix deadlock in pulsar proxy ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7690",children:"7690"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Proxy] Handle NPE while updating proxy stats ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7766",children:"7766"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Proxy] Fix the null exception when starting the proxy service ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8019",children:"8019"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Proxy] Add proxy plugin interface to support user defined additional servlet ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8067",children:"8067"})]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"pulsar-sql",children:"Pulsar SQL"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["[Pulsar SQL] Upgrade Presto version to 332 ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7194",children:"7194"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar SQL] Replace com.ning.asynchttpclient with org.asynchttpclient ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8099",children:"8099"})]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"pulsar-functions",children:"Pulsar Functions"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["[Pulsar Functions] During Function update, cleanup should only happen for temp files that were generated ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7201",children:"7201"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Functions] Have metadata tailer use its own thread for processing ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7211",children:"7211"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Functions] Allow kubernetes runtime to customize function instance class path ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7844",children:"7844"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Functions] SinkRecord adds an overridden method  ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8038",children:"8038"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Functions] Set dryrun of KubernetesRuntime is null ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8064",children:"8064"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Functions] Allow disabling forwarding source message properties ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8158",children:"8158"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Functions] Missed dryRun on maintenance of secrets ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8286",children:"8286"})]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"pulsar-perf",children:"Pulsar Perf"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["[Pulsar Perf] Support setting message key ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7989",children:"7989"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Perf] Make pulsar-perf ioThread number configurable ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8090",children:"8090"})]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"pulsar-admin",children:"Pulsar Admin"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["[Pulsar Admin] Support initial namespace of the cluster without startup the broker ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7434",children:"7434"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Admin] Fix some params on consumer broken by #4400 (regex, initialSouscriptionPosition) ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7795",children:"7795"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Admin] Return more informative error message when trying to create subscription on non-persistent through Rest API or pulsar-admin CLI ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7831",children:"7831"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Admin] Add cli command to get last message Id ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8082",children:"8082"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Admin] Support delete all data associated with a cluster ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8133",children:"8133"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Admin] Support delete schema ledgers when delete topics ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8167",children:"8167"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Admin] Add command to delete a cluster's metadata from ZK ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8169",children:"8169"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Admin] Support reset cursor to a batch index for Pulsar Admin ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8329",children:"8329"})]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"tiered-storage",children:"Tiered Storage"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["[Tiered Storage] Refactored JCloud Tiered Storage ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/6335",children:"6335"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Tiered Storage] Remove duplicate updates ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8198",children:"8198"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Tiered Storage] Make the field name in ",(0,i.jsx)(r.code,{children:"OffloadPolicies"})," match with config file ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/8310",children:"8310"})]}),"\n"]})]})}function o(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},28453:(e,r,s)=>{s.d(r,{R:()=>n,x:()=>t});var l=s(96540);const i={},a=l.createContext(i);function n(e){const r=l.useContext(a);return l.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:n(e.components),l.createElement(a.Provider,{value:r},e.children)}}}]);