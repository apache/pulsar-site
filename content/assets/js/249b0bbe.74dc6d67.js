"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[97109],{48598:(e,i,l)=>{l.r(i),l.d(i,{assets:()=>c,contentTitle:()=>n,default:()=>p,frontMatter:()=>t,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"versioned/pulsar-3.3.8","title":"Apache Pulsar 3.3.8","description":"2025-07-31","source":"@site/release-notes/versioned/pulsar-3.3.8.md","sourceDirName":"versioned","slug":"/versioned/pulsar-3.3.8","permalink":"/release-notes/versioned/pulsar-3.3.8","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/release-notes/versioned/pulsar-3.3.8.md","tags":[],"version":"current","frontMatter":{"id":"pulsar-3.3.8","title":"Apache Pulsar 3.3.8","sidebar_label":"Apache Pulsar 3.3.8"}}');var s=l(74848),a=l(28453);const t={id:"pulsar-3.3.8",title:"Apache Pulsar 3.3.8",sidebar_label:"Apache Pulsar 3.3.8"},n=void 0,c={},h=[{value:"2025-07-31",id:"2025-07-31",level:4},{value:"Library updates",id:"library-updates",level:3},{value:"Broker",id:"broker",level:3},{value:"Client",id:"client",level:3},{value:"Pulsar IO and Pulsar Functions",id:"pulsar-io-and-pulsar-functions",level:3},{value:"Others",id:"others",level:3},{value:"Tests &amp; CI",id:"tests--ci",level:3}];function o(e){const i={a:"a",h3:"h3",h4:"h4",li:"li",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h4,{id:"2025-07-31",children:"2025-07-31"}),"\n",(0,s.jsx)(i.h3,{id:"library-updates",children:"Library updates"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["[improve] Upgrade pulsar-client-python to 3.8.0 in Docker image (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24544",children:"#24544"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][misc] Upgrade Netty to 4.1.122.Final and tcnative to 2.0.72.Final (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24397",children:"#24397"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][sec] Upgrade Kafka connector and clients version to 3.9.1 to address CVE-2025-27818 (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24564",children:"#24564"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][sec] Upgrade pulsar-function-go dependencies to address CVE-2025-22868 (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24547",children:"#24547"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][build] replace org.apache.commons.lang to org.apache.commons.lang3 (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24473",children:"#24473"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][broker] Upgrade bookkeeper to 4.17.2/commons-configuration to 2.x/grpc to 1.72.0 and enable ZooKeeper client to establish connection in read-only mode (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24468",children:"#24468"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][sec] Remove dependency on out-dated commons-configuration 1.x (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24562",children:"#24562"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][misc] Upgrade RE2/J to 1.8 (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24530",children:"#24530"}),")"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"broker",children:"Broker"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["[fix][broker] expose consumer name for partitioned topic stats (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24360",children:"#24360"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker] Fix ack hole in cursor for geo-replication (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/20931",children:"#20931"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker] Fix Broker OOM due to too many waiting cursors and reuse a recycled OpReadEntry incorrectly (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24551",children:"#24551"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker] Fix deduplication replay might never complete for exceptions (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24511",children:"#24511"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker] Fix duplicate increment of ADD_OP_COUNT_UPDATER in OpAddEntry (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24506",children:"#24506"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker] Fix exclusive producer creation when last shared producer closes (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24516",children:"#24516"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker] Fix issue that topic policies was deleted after a sub topic deleted, even if the partitioned topic still exists (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24350",children:"#24350"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker] Fix ManagedCursor state management race conditions and lifecycle issues (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24569",children:"#24569"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker] Fix matching of topicsPattern for topic names which contain non-ascii characters (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24543",children:"#24543"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker] Fix maxTopicsPerNamespace might report a false failure (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24560",children:"#24560"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:['[fix][broker] Fix the non-persistenttopic\'s replicator always get error "Producer send queue is full" if set a small value of the config replicationProducerQueueSize (',(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24424",children:"#24424"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker] Ignore metadata changes when broker is not in the Started state (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24352",children:"#24352"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[Fix][broker] Limit replication rate based on bytes (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22674",children:"#22674"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker] No longer allow creating subscription that contains slash (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/23594",children:"#23594"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker] Once the cluster is configured incorrectly, the broker maintains the incorrect cluster configuration even if you removed it (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24419",children:"#24419"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker] replication does not work due to the mixed and repetitive sending of user messages and replication markers (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24453",children:"#24453"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker] Resolve the issue of frequent updates in message expiration deletion rate (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24190",children:"#24190"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker]excessive replication speed leads to error: Producer send queue is full (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24189",children:"#24189"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker]Fix deadlock when compaction and topic deletion execute concurrently (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24366",children:"#24366"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker]Global topic policies do not affect after unloading topic and persistence global topic policies never affect (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24279",children:"#24279"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker]Non-global topic policies and global topic policies overwrite each other (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24286",children:"#24286"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix] Prevent IllegalStateException: Field 'message' is not set (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24472",children:"#24472"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][ml] Cursor ignores the position that has an empty ack-set if disabled deletionAtBatchIndexLevelEnabled (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24406",children:"#24406"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][ml] Enhance OpFindNewest to support skip non-recoverable data (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24441",children:"#24441"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][ml] Enhance OpFindNewest to support skip non-recoverable data (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24441",children:"#24441"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][ml] Fix asyncReadEntries might never complete if empty entries are read from BK (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24515",children:"#24515"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][ml] Fix ManagedCursorImpl.individualDeletedMessages concurrent issue (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24338",children:"#24338"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][ml] Fix the possibility of message loss or disorder when ML PayloadProcessor processing fails (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24522",children:"#24522"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][ml]Received more than once callback when calling cursor.delete (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24405",children:"#24405"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][ml]Revert a behavior change of releasing idle offloaded ledger handle: only release idle BlobStoreBackedReadHandle (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24384",children:"#24384"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][ml]Still got BK ledger, even though it has been deleted after offloaded (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24432",children:"#24432"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][offload] Complete the future outside of the reading loop in BlobStoreBackedReadHandleImplV2.readAsync (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24331",children:"#24331"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][txn] Fix deadlock when loading transaction buffer snapshot (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24401",children:"#24401"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][broker] Add managedCursor/LedgerInfoCompressionType settings to broker.conf (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24391",children:"#24391"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][broker] Added synchronized for sendMessages in Non-Persistent message dispatchers (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24386",children:"#24386"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][broker] change to warn log level for ack validation error (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24459",children:"#24459"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][broker] Deny removing local cluster from topic level replicated cluster policy (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24351",children:"#24351"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][broker] Improve the log when namespace bundle is not available (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24434",children:"#24434"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][broker] Make maxBatchDeletedIndexToPersist configurable and document other related configs (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24392",children:"#24392"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][broker]Improve the log when encountered in-flight read limitation (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24359",children:"#24359"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][ml] Offload ledgers without check ledger length (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24344",children:"#24344"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][ml]Release idle offloaded read handle only the ref count is 0 (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24381",children:"#24381"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][offloaders] Automatically evict Offloaded Ledgers from memory (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/19783",children:"#19783"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker] Fix NPE when getting delayed delivery policy (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24512",children:"#24512"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker] Fix wrong backlog age metrics when the mark delete position point to a deleted ledger (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24518",children:"#24518"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker][branch-3.3] Disable broken ExtensibleLoadManager tests and add closeInternalTopics in follower monitor (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24557",children:"#24557"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][broker]Fix thread safety issues in BucketDelayedDeliveryTracker with StampedLock optimistic reads (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24542",children:"#24542"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][broker] Phase 1 of PIP-370 support disable create topics on remote cluster through replication  (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/23169",children:"#23169"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:['[improve][broker] Part 2 of PIP-370: add metrics "pulsar_replication_disconnected_count" (',(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/23213",children:"#23213"}),")"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"client",children:"Client"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["[fix][client] Close orphan producer or consumer when the creation is interrupted (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24539",children:"#24539"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][client] Fix ClientCnx handleSendError NPE (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24517",children:"#24517"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][client] Fix issue in auto releasing of idle connection with topics pattern consumer (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24528",children:"#24528"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][client] Fix some potential resource leak (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24402",children:"#24402"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][client] NPE in MultiTopicsConsumerImpl.negativeAcknowledge (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24476",children:"#24476"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][client] Prevent NPE when seeking with null topic in TopicMessageId (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24404",children:"#24404"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][client][branch-4.0] Partitioned topics are unexpectedly created by client after deletion (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24554",children:"#24554"}),") (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24571",children:"#24571"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][txn] Fix negative unacknowledged messages in transactions by ensuring that the batch size is added into CommandAck (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24443",children:"#24443"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][client] Terminate consumer.receive() when consumer is closed (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24550",children:"#24550"}),")"]}),"\n",(0,s.jsx)(i.li,{children:"[fix][client] Fix RawReader interface compatibility"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"pulsar-io-and-pulsar-functions",children:"Pulsar IO and Pulsar Functions"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["[fix][io] Acknowledge RabbitMQ message after processing the message successfully (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24354",children:"#24354"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][io] Fix kinesis avro bytes handling (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24316",children:"#24316"}),")"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"others",children:"Others"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["[fix][proxy] Fix default value of connectionMaxIdleSeconds in Pulsar Proxy (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24529",children:"#24529"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][proxy] Fix proxy OOM by replacing TopicName with a simple conversion method (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24465",children:"#24465"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][misc] Optimize topic list hashing so that potentially large String allocation is avoided (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24525",children:"#24525"}),")"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"tests--ci",children:"Tests & CI"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["[fix][build] Add missing <name> to submodules (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24421",children:"#24421"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][test] Fix flaky AutoScaledReceiverQueueSizeTest.testNegativeClientMemory (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24324",children:"#24324"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][test] fix flaky GrowableArrayBlockingQueueTest.testPollBlockingThreadsTermination (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24576",children:"#24576"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[fix][test]fix flaky test BrokerServiceAutoTopicCreationTest.testDynamicConfigurationTopicAutoCreationPartitioned (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24505",children:"#24505"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["[improve][test] Remove EntryCacheCreator from ManagedLedgerFactoryImpl (",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24552",children:"#24552"}),")"]}),"\n",(0,s.jsx)(i.li,{children:"[fix][test][branch-3.3] Fix ExtensibleLoadManager related tests blocking release"}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["For the complete list, check the ",(0,s.jsx)(i.a,{href:"https://github.com/apache/pulsar/compare/v3.3.7...v3.3.8",children:"full changelog"}),"."]})]})}function p(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},28453:(e,i,l)=>{l.d(i,{R:()=>t,x:()=>n});var r=l(96540);const s={},a=r.createContext(s);function t(e){const i=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function n(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(a.Provider,{value:i},e.children)}}}]);