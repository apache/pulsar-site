"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[41716],{2607:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>i,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"helm-upgrade","title":"Upgrade a Pulsar Helm release","description":"Before upgrading your Pulsar installation, you need to check the changelog corresponding to the specific release you want to upgrade","source":"@site/versioned_docs/version-2.4.0/helm-upgrade.md","sourceDirName":".","slug":"/helm-upgrade","permalink":"/docs/2.4.0/helm-upgrade","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/versioned_docs/version-2.4.0/helm-upgrade.md","tags":[],"version":"2.4.0","frontMatter":{"id":"helm-upgrade","title":"Upgrade a Pulsar Helm release","sidebar_label":"Upgrade","original_id":"helm-upgrade"}}');var l=n(74848),t=n(28453);const a={id:"helm-upgrade",title:"Upgrade a Pulsar Helm release",sidebar_label:"Upgrade",original_id:"helm-upgrade"},o=void 0,i={},c=[{value:"Steps",id:"steps",level:2}];function d(e){const s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.p,{children:"Before upgrading your Pulsar installation, you need to check the changelog corresponding to the specific release you want to upgrade\nto and look for any release notes that might pertain to the new Pulsar chart version."}),"\n",(0,l.jsxs)(s.p,{children:["We also recommend that you need to provide all values using ",(0,l.jsx)(s.code,{children:"helm upgrade --set key=value"})," syntax or ",(0,l.jsx)(s.code,{children:"-f values.yml"})," instead of using ",(0,l.jsx)(s.code,{children:"--reuse-values"})," because some of the current values might be deprecated."]}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.strong,{children:"NOTE"}),":"]}),"\n",(0,l.jsxs)(s.p,{children:["You can retrieve your previous ",(0,l.jsx)(s.code,{children:"--set"})," arguments cleanly, with ",(0,l.jsx)(s.code,{children:"helm get values <release-name>"}),". If you direct this into a file (",(0,l.jsx)(s.code,{children:"helm get values <release-name> > pulsar.yml"}),"), you can safely\npass this file via ",(0,l.jsx)(s.code,{children:"-f"}),". Thus ",(0,l.jsx)(s.code,{children:"helm upgrade <release-name> charts/pulsar -f pulsar.yaml"}),". This safely replaces the behavior of ",(0,l.jsx)(s.code,{children:"--reuse-values"}),"."]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"steps",children:"Steps"}),"\n",(0,l.jsx)(s.p,{children:"The following are the steps to upgrade Apache Pulsar to a newer version:"}),"\n",(0,l.jsxs)(s.ol,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"Check the change log for the specific version you would like to upgrade to"}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Go through ",(0,l.jsx)(s.a,{href:"/docs/2.4.0/helm-deploy",children:"deployment documentation"})," step by step"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Extract your previous ",(0,l.jsx)(s.code,{children:"--set"})," arguments with"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"\nhelm get values <release-name> > pulsar.yaml\n\n"})}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"Decide on all the values you need to set"}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Perform the upgrade, with all ",(0,l.jsx)(s.code,{children:"--set"})," arguments extracted in step 4"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"\nhelm upgrade <release-name> charts/pulsar \\\n    --version <new version> \\\n    -f pulsar.yaml \\\n    --set ...\n\n"})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>o});var r=n(96540);const l={},t=r.createContext(l);function a(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);