"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[94448],{80194:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"versioned/pulsar-2.9.5","title":"Apache Pulsar2.9.5","description":"2023-4-23","source":"@site/release-notes/versioned/pulsar-2.9.5.md","sourceDirName":"versioned","slug":"/versioned/pulsar-2.9.5","permalink":"/release-notes/versioned/pulsar-2.9.5","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/release-notes/versioned/pulsar-2.9.5.md","tags":[],"version":"current","frontMatter":{"id":"pulsar-2.9.5","title":"Apache Pulsar2.9.5","sidebar_label":"Apache Pulsar 2.9.5"}}');var l=n(74848),s=n(28453);const o={id:"pulsar-2.9.5",title:"Apache Pulsar2.9.5",sidebar_label:"Apache Pulsar 2.9.5"},t=void 0,a={},c=[{value:"2023-4-23",id:"2023-4-23",level:4},{value:"Broker",id:"broker",level:3},{value:"Proxy",id:"proxy",level:3},{value:"Transaction",id:"transaction",level:3},{value:"Pulsar IO and Pulsar Functions",id:"pulsar-io-and-pulsar-functions",level:3},{value:"Tiered Storage",id:"tiered-storage",level:3},{value:"Pulsar SQL",id:"pulsar-sql",level:3},{value:"CLI",id:"cli",level:3},{value:"Admin",id:"admin",level:2},{value:"Security",id:"security",level:3},{value:"Dependency &amp; Library updates",id:"dependency--library-updates",level:3},{value:"CI &amp; Test",id:"ci--test",level:3},{value:"Others",id:"others",level:3}];function d(e){const i={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.h4,{id:"2023-4-23",children:"2023-4-23"}),"\n",(0,l.jsx)(i.h3,{id:"broker",children:"Broker"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:["[improve][broker] Omit making a copy of CommandAck when there are no broker interceptors ",(0,l.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/18997",children:"#18997"})]}),"\n",(0,l.jsxs)(i.li,{children:["[fix][broker] Copy proto command fields into final variables in ServerCnx ",(0,l.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/18987",children:"#18987"})]}),"\n",(0,l.jsx)(i.li,{children:"[improve][broker] Add logs for why namespace bundle been split (#19003)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][broker] Fix deadlock in PendingAckHandleImpl (#18989)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][broker]Update interceptor handler exception (#18940)"}),"\n",(0,l.jsx)(i.li,{children:"[improve][broker] Make Consumer#equals more effective (#18662)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][broker]Add test case for deleting namespace fail when has partitioned system topic (#17338)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][broker] Fix open cursor with null-initialPosition result with earliest position (#18416)"}),"\n",(0,l.jsx)(i.li,{children:"[improve][broker] Add ref count for sticky hash to optimize the performance of Key_Shared subscription (#19167)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][broker] Support deleting partitioned topics with the keyword -partition- (#19230)"}),"\n",(0,l.jsx)(i.li,{children:"[improve][broker] Follow up #19230 to tighten the validation scope (#19234)"}),"\n",(0,l.jsx)(i.li,{children:"[branch-2.9] Fix compile error caused by cherry-pick #19167. (#19241)"}),"\n",(0,l.jsx)(i.li,{children:"[improve][websocket][branch-2.9] Add ping support (#19245)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][ml] Topics stats shows msgBacklog but there reality no backlog (#19275)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][websocket][branch-2.9] Fix webSocketPingDurationSeconds config (#19293)"}),"\n",(0,l.jsx)(i.li,{children:"[fix] [ml] Fix the incorrect total size if using ML interceptor (#19404)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][broker] Expect msgs after server initiated CloseProducer (#19446)"}),"\n",(0,l.jsx)(i.li,{children:"[cleanup][broker] Validate originalPrincipal earlier in ServerCnx (#19270)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][Branch-2.9] Fix bookie JVM param BOOKIE_MEM, BOOKIE_GC miss problem. #19441"}),"\n",(0,l.jsx)(i.li,{children:"[improve][broker] ServerCnx: go to Failed state when auth fails (#19312)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][broker][branch-2.9] Fix geo-replication admin (#19614)"}),"\n",(0,l.jsx)(i.li,{children:"[fix] [ml] MessagesConsumedCounter of NonDurableCursor was initialized incorrectly (#19355)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][ml] Fix potential NPE cause future never complete. (#19415)"}),"\n",(0,l.jsx)(i.li,{children:"[fix] [ml] Topic load fail by ledger lost (#19444)"}),"\n",(0,l.jsx)(i.li,{children:"[fix] [broker] The getLastMessageId returns a wrong batch index of last message if enabled read compacted (#18877)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][broker] Remove timestamp from broker metrics (#17419)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][broker]Fix multi invocation for ledger createComplete (#18975)"}),"\n",(0,l.jsx)(i.li,{children:"[improve][broker] Use shrink map for trackerCache (#19534)"}),"\n",(0,l.jsx)(i.li,{children:"[fix] [broker] Incorrect service name selection logic (#19505)"}),"\n",(0,l.jsx)(i.li,{children:"[fix] [broker] Make the service name resolver cache of PulsarWebResource expire after access (#19532)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][branch-2.9] Support zookeeper read-only config (#19693)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][branch-2.9] Fix validatePersistencePolicies that Namespace/Topic persistent policies cannot be set to < 0 #19687"}),"\n",(0,l.jsx)(i.li,{children:"[fix][branch-2.9] fix txn coordinator recover handle committing and aborting txn race condition. #19699"}),"\n",(0,l.jsx)(i.li,{children:"[fix][branch-2.9] Fix race condition while updating partition number (#19691)"}),"\n",(0,l.jsx)(i.li,{children:"[improve] Upgrade the bookkeeper version to 4.14.7 (#19178)"}),"\n",(0,l.jsx)(i.li,{children:"[improve] Upgrade lombok to 1.8.26 (#19426)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][cli][branch-2.9] Fix release tool (#19712)"}),"\n",(0,l.jsx)(i.li,{children:"[fix] [broker] Topic close failure leaves subscription in a permanent fence state (#19692)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][meta] Fix deadlock causes session notification not to work (#19754)"}),"\n",(0,l.jsx)(i.li,{children:"[improve][misc] Upgrade Netty to 4.1.87.Final (#19417)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][broker] Fix potential exception causing the policy service init to fail. (#19746)"}),"\n",(0,l.jsx)(i.li,{children:"[improve][broker] Authorize originalPrincipal when provided (#19830)"}),"\n",(0,l.jsx)(i.li,{children:"[fix] [broker] Counter of pending send messages in Replicator incorrect if schema future not complete #19242"}),"\n",(0,l.jsx)(i.li,{children:"[branch-2.9][fix][broker] Fix index generator is not rollback after entries are failed added #19978"}),"\n",(0,l.jsx)(i.li,{children:"[fix][broker] Only validate superuser access if authz enabled #19989"}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"proxy",children:"Proxy"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"[fix][proxy] Only go to connecting state once (#19331)"}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"transaction",children:"Transaction"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"[fix][txn] Transaction buffer recover blocked by readNext #18970"}),"\n",(0,l.jsx)(i.li,{children:"[fix][txn] transaction pending ack store future not completely problem (#18943)"}),"\n",(0,l.jsxs)(i.li,{children:["[fix][txn] Fix PendingAckHandleImpl when ",(0,l.jsx)(i.code,{children:"pendingAckStoreProvider.checkInitializedBefore"})," failed (#18859)"]}),"\n",(0,l.jsx)(i.li,{children:"[fix][broker] Close transactionBuffer after MessageDeduplication#checkStatus failed (#19157)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][txn] Correct the prompt message (#17009)"}),"\n",(0,l.jsx)(i.li,{children:"[improve][txn] Handle changeToReadyState failure correctly in TC client (#19308)"}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"pulsar-io-and-pulsar-functions",children:"Pulsar IO and Pulsar Functions"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"[fix][io] Only bundle kafka schema registry client (#18931)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][fn] Typo in method name (#18844)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][io] Update Elasticsearch sink idle cnx timeout to 30s (#19377)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][fn] Fix k8s merge runtime opts bug (#19481)"}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"tiered-storage",children:"Tiered Storage"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"[fix][offload] Fix numerical overflow bug while reading data from tiered storage (#18595)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][offload] Fix memory leak while Offloading ledgers (#18500)"}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"pulsar-sql",children:"Pulsar SQL"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"[fix][sql] Fix message without schema issue. (#18745)"}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"cli",children:"CLI"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"[fix][cli] Fix CLI client produce don't able to use multiple -m send multiple messages (#18238)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][cli] Check numMessages after incrementing counter #17826"}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"admin",children:"Admin"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"[improve][admin] Unset namespace policy to improve deleting namespace. (#17033)"}),"\n",(0,l.jsx)(i.li,{children:"[fix] [admin] Make response code 400 instead of 500 when deleting topic fails due to enabled geo-replication #19879"}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"security",children:"Security"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"[fix][sec] Upgrade scala-library to get rid of CVE-2022-36944 (#18021)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][sec] Upgrade jettison to 1.5.3 (#19038)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][sec] Upgrade woodstox to 5.4.0 (#19041)"}),"\n",(0,l.jsx)(i.li,{children:"[feat][broker] OneStageAuth State: move authn out of constructor #19295"}),"\n",(0,l.jsx)(i.li,{children:"[improve][broker] Require authRole is proxyRole to set originalPrincipal (#19455)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][broker] Make authentication refresh threadsafe (#19506)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][broker] Allow proxy to pass same role for authRole and originalRole (#19557)"}),"\n",(0,l.jsx)(i.li,{children:"[improve][sec] Suppress false positive OWASP reports (#19105)"}),"\n",(0,l.jsx)(i.li,{children:"[improve] Upgrade wildfly-elytron (used by debezium) to fix CVE-2022-3143 (#19333)"}),"\n",(0,l.jsx)(i.li,{children:"[improve] Simplify enabling Broker, WS Proxy hostname verification (#19674)"}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"dependency--library-updates",children:"Dependency & Library updates"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"[fix][build] Resolve OWASP Dependency Check false positives (#19120)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][build] Upgrade dependency-check-maven plugin to fix broken OWASP check #19170"}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"ci--test",children:"CI & Test"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"[improve][broker] Add test to verify authRole cannot change (#19430)"}),"\n",(0,l.jsx)(i.li,{children:"[fix][test] ProxyWithAuthorizationTest remove SAN from test certs (#19594)"}),"\n",(0,l.jsx)(i.li,{children:"[test][admin]Add test case: delete namespace when has partitioned system topic #17338"}),"\n",(0,l.jsx)(i.li,{children:"[improve][broker] Authorize originalPrincipal when provided (#19830)"}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"others",children:"Others"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"[fix][metrics] Fixed ProxyStats to use common.stats.JvmMetrics (#15692)"}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,l.jsx)(i,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>t});var r=n(96540);const l={},s=r.createContext(l);function o(e){const i=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),r.createElement(s.Provider,{value:i},e.children)}}}]);