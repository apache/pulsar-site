"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[47833],{51378:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>h,contentTitle:()=>n,default:()=>o,frontMatter:()=>a,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"versioned/pulsar-3.0.12","title":"Apache Pulsar 3.0.12","description":"2025-05-22","source":"@site/release-notes/versioned/pulsar-3.0.12.md","sourceDirName":"versioned","slug":"/versioned/pulsar-3.0.12","permalink":"/release-notes/versioned/pulsar-3.0.12","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/release-notes/versioned/pulsar-3.0.12.md","tags":[],"version":"current","frontMatter":{"id":"pulsar-3.0.12","title":"Apache Pulsar 3.0.12","sidebar_label":"Apache Pulsar 3.0.12"}}');var t=s(74848),r=s(28453);const a={id:"pulsar-3.0.12",title:"Apache Pulsar 3.0.12",sidebar_label:"Apache Pulsar 3.0.12"},n=void 0,h={},c=[{value:"2025-05-22",id:"2025-05-22",level:4},{value:"Library updates",id:"library-updates",level:3},{value:"Broker",id:"broker",level:3},{value:"Client",id:"client",level:3},{value:"Pulsar IO and Pulsar Functions",id:"pulsar-io-and-pulsar-functions",level:3},{value:"Others",id:"others",level:3},{value:"Tests &amp; CI",id:"tests--ci",level:3}];function p(e){const i={a:"a",h3:"h3",h4:"h4",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h4,{id:"2025-05-22",children:"2025-05-22"}),"\n",(0,t.jsx)(i.h3,{id:"library-updates",children:"Library updates"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["[fix][sec] Upgrade Jetty to 9.4.57.v20241219 to mitigate CVE-2024-6763 (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24232",children:"#24232"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[improve] Upgrade Netty to 4.1.121.Final (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24214",children:"#24214"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[improve] Upgrade pulsar-client-python to 3.7.0 in Docker image (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24302",children:"#24302"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[improve][build] Upgrade Lombok to 1.18.38 to support JDK 24 (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24237",children:"#24237"}),")"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"broker",children:"Broker"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["[fix][broker] Consumer stuck when delete subscription __compaction failed (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/23980",children:"#23980"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][broker] Fix broker shutdown delay by resolving hanging health checks (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24210",children:"#24210"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][broker] Fix ByteBuf memory leak in REST API for publishing messages (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24228",children:"#24228"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][broker] Fix compaction service log's wrong condition (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24207",children:"#24207"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][broker] Fix HashedWheelTimer leak in PulsarService by stopping it in shutdown (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24275",children:"#24275"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][broker] Fix HealthChecker deadlock in shutdown (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24216",children:"#24216"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][broker] Fix missing validation when setting retention policy on topic level (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24032",children:"#24032"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][broker] Fix potential deadlock when creating partitioned topic (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24313",children:"#24313"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][broker] Fix seeking by timestamp can be reset the cursor position to earliest (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/23919",children:"#23919"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][broker] Fix some problems in calculate totalAvailableBookies in method getExcludedBookiesWithIsolationGroups when some bookies belongs to multiple isolation groups. (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24091",children:"#24091"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][broker] Fix tenant creation and update with null value (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24209",children:"#24209"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][broker] fix wrong method name checkTopicExists. (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24293",children:"#24293"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][broker] Orphan schema after disabled a cluster for a namespace (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24223",children:"#24223"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][broker] The feature brokerDeleteInactivePartitionedTopicMetadataEnabled leaves orphan topic policies and topic schemas (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24150",children:"#24150"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][broker] Unregister non-static metrics collectors registered in Prometheus default registry (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24257",children:"#24257"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][broker]Fix incorrect priority between topic policies and global topic policies (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24254",children:"#24254"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][broker]fix memory leak, messages lost, incorrect replication state if using multiple schema versions(auto_produce) (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24178",children:"#24178"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][admin] Backlog quota's policy is null which causes a NPE (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24192",children:"#24192"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][bk] Fix the var name for IsolationGroups (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21320",children:"#21320"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][ml] Fix ML thread blocking issue in internalGetPartitionedStats API (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24167",children:"#24167"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][ml] Skip deleting cursor if it was already deleted before calling unsubscribe (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24098",children:"#24098"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[improve][broker] Optimize subscription seek (cursor reset) by timestamp (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22792",children:"#22792"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:['[improve][broker]Improve the feature "Optimize subscription seek (cursor reset) by timestamp": search less entries (',(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24219",children:"#24219"}),")"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"client",children:"Client"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["[fix][client] Fix incorrect producer.getPendingQueueSize due to incomplete queue implementation (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24184",children:"#24184"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][client] Fix producer publishing getting stuck after message with incompatible schema is discarded (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24282",children:"#24282"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[improve][client] validate ClientConfigurationData earlier to avoid resource leaks (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24187",children:"#24187"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[improve][client]Improve transaction log when a TXN command timeout (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24230",children:"#24230"}),")"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"pulsar-io-and-pulsar-functions",children:"Pulsar IO and Pulsar Functions"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["[fix][io] Fix SyntaxWarning in Pulsar Python functions (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24297",children:"#24297"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[improve][io] Add configuration parameter for disabling aggregation for Kinesis Producers (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24289",children:"#24289"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[improve][io] support kafka connect transforms and predicates (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24221",children:"#24221"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[improve][io] Upgrade Kafka client and compatible Confluent platform version (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24201",children:"#24201"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[improve][io][kca] support fully-qualified topic names in source records (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24248",children:"#24248"}),")"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"others",children:"Others"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["[cleanup][misc] Add override annotation (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24033",children:"#24033"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][misc] Fix ByteBuf leak in SchemaUtils (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24274",children:"#24274"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][proxy] Fix incorrect client error when calling get topic metadata (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24181",children:"#24181"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][proxy] Propagate client connection feature flags through Pulsar Proxy to Broker (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24158",children:"#24158"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][schema] Reject unsupported Avro schema types during schema registration (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24103",children:"#24103"}),")"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"tests--ci",children:"Tests & CI"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["[fix][build] Ensure that buildtools is Java 8 compatible and fix remaining compatibility issue (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24307",children:"#24307"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][test] Fix flaky BatchMessageWithBatchIndexLevelTest.testBatchMessageAck (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24212",children:"#24212"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][test] Fix flaky BrokerServiceChaosTest (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24162",children:"#24162"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][test] Fix flaky BrokerServiceChaosTest.testFetchPartitionedTopicMetadataWithCacheRefresh (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24161",children:"#24161"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][test] Fix flaky ManagedCursorTest.testLastActiveAfterResetCursor and disable failing SchemaTest (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24261",children:"#24261"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][test] Fix flaky ManagedCursorTest.testSkipEntriesWithIndividualDeletedMessages (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24244",children:"#24244"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][test] Fix invalid test CompactionTest.testDeleteCompactedLedgerWithSlowAck (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24166",children:"#24166"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][test] Fix more Netty ByteBuf leaks in tests (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24299",children:"#24299"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][test] Fix multiple ByteBuf leaks in tests (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24281",children:"#24281"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][test] Fix multiple resource leaks in tests (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24218",children:"#24218"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][test] Fix resource leaks in ProxyTest and fix invalid tests (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24204",children:"#24204"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][test] Fix TestNG BetweenTestClassesListenerAdapter listener (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24258",children:"#24258"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][test] Improve reliability of IncrementPartitionsTest (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24172",children:"#24172"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][test] Simplify BetweenTestClassesListenerAdapter and fix issue with BeforeTest/AfterTest annotations (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24304",children:"#24304"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][test] Update partitioned topic subscription assertions in IncrementPartitionsTest (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24056",children:"#24056"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[fix][test]flaky-test",":ManagedLedgerInterceptorImplTest",".testManagedLedgerPayloadInputProcessorFailure (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24170",children:"#24170"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[improve][test] Use configured session timeout for MockZooKeeper and TestZKServer in PulsarTestContext (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24171",children:"#24171"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[improve][build] Upgrade Gradle Develocity Maven Extension dependencies (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24260",children:"#24260"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[improve][ci] Disable detailed console logging for integration tests in CI (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24266",children:"#24266"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[improve][build] Upgrade SpotBugs to 4.9.x (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24243",children:"#24243"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[improve][build] Upgrade to jacoco 0.8.13 (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24240",children:"#24240"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[improve][build] Upgrade zstd version from 1.5.2-3 to 1.5.7-3 (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24263",children:"#24263"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["[cleanup][test] Remove unused parameter from deleteNamespaceWithRetry method in MockedPulsarServiceBaseTest (",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24283",children:"#24283"}),")"]}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["For the complete list, check the ",(0,t.jsx)(i.a,{href:"https://github.com/apache/pulsar/compare/v3.0.11...v3.0.12",children:"full changelog"}),"."]})]})}function o(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},28453:(e,i,s)=>{s.d(i,{R:()=>a,x:()=>n});var l=s(96540);const t={},r=l.createContext(t);function a(e){const i=l.useContext(r);return l.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function n(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),l.createElement(r.Provider,{value:i},e.children)}}}]);