"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[58562],{12190:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>h,contentTitle:()=>t,default:()=>p,frontMatter:()=>n,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"versioned/pulsar-2.5.0","title":"Apache Pulsar 2.5.0","description":"2019-12-06","source":"@site/release-notes/versioned/pulsar-2.5.0.md","sourceDirName":"versioned","slug":"/versioned/pulsar-2.5.0","permalink":"/release-notes/versioned/pulsar-2.5.0","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/release-notes/versioned/pulsar-2.5.0.md","tags":[],"version":"current","frontMatter":{"id":"pulsar-2.5.0","title":"Apache Pulsar 2.5.0","sidebar_label":"Apache Pulsar 2.5.0"}}');var a=s(74848),i=s(28453);const n={id:"pulsar-2.5.0",title:"Apache Pulsar 2.5.0",sidebar_label:"Apache Pulsar 2.5.0"},t=void 0,h={},c=[{value:"2019-12-06",id:"2019-12-06",level:4},{value:"PIPs",id:"pips",level:4},{value:"Fixes",id:"fixes",level:4},{value:"Enhancements",id:"enhancements",level:4},{value:"Stats &amp; Monitoring",id:"stats--monitoring",level:4},{value:"Security",id:"security",level:4},{value:"Tiered Storage",id:"tiered-storage",level:4},{value:"Pulsar Schema",id:"pulsar-schema",level:4},{value:"Pulsar IO",id:"pulsar-io",level:4},{value:"Pulsar Functions",id:"pulsar-functions",level:4},{value:"Pulsar SQL",id:"pulsar-sql",level:4},{value:"Adaptors",id:"adaptors",level:4},{value:"Transaction",id:"transaction",level:4}];function o(e){const r={a:"a",blockquote:"blockquote",code:"code",h4:"h4",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.h4,{id:"2019-12-06",children:"2019-12-06"}),"\n",(0,a.jsx)(r.h4,{id:"pips",children:"PIPs"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["[PIP-41] Introduce Protocol Handler API ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5130",children:"#5130"})," ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5473",children:"#5743"})]}),"\n",(0,a.jsxs)(r.li,{children:["[PIP-45] Pluggable metadata interface ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5330",children:"#5330"})]}),"\n",(0,a.jsxs)(r.li,{children:["[PIP-44] Separate schema compatibility checker for producer and consumer ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5227",children:"#5227"})]}),"\n",(0,a.jsxs)(r.li,{children:["[PIP-43] Producer send messages with different schema ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/issues/5141",children:"#5141"})," ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5517",children:"#5517"})]}),"\n",(0,a.jsxs)(r.li,{children:["[PIP-51] Introduce sticky consumer ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5388",children:"#5388"})]}),"\n",(0,a.jsxs)(r.li,{children:["[PIP-38] Support batch receive in java client. ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4621",children:"#4621"})]}),"\n",(0,a.jsxs)(r.li,{children:["[PIP-52] PIP-52: [pulsar-sever] Add support of dispatch throttling relative to publish-rate ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5797",children:"#5797"})]}),"\n"]}),"\n",(0,a.jsx)(r.h4,{id:"fixes",children:"Fixes"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["[Broker] Avoid retrying deleting namespace when topic is already deleted/fenced ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4665",children:"#4665"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Fix expiry monitor to continue on non-recoverable error ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4818",children:"#4818"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] fix ns-isolation api to fetch policy for specific broker ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5314",children:"#5314"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] external protocols not set to local broker data ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5479",children:"#5749"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Add handle exception KeeperException.BadVersionException  ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5563",children:"#5563"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Fix message deduplicate issue while using external sequence id with batch produce ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5491",children:"#5491"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Remove cursor while remove non-durable subscription ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5719",children:"#5719"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Fix potential read 0 entries cause dispatcher stop dispatch ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5894",children:"#5894"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Proxy] Proxy doesn't use the right ca certicate to connect to brokers ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5971",children:"#5971"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Client] Add SentConnectFrame state check when running ",(0,a.jsx)(r.code,{children:"handleError"})," ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5913",children:"#5913"})]}),"\n"]}),"\n",(0,a.jsx)(r.h4,{id:"enhancements",children:"Enhancements"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["[Zookeeper] Bump zookeeper to version 3.5.6 ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5043",children:"#5043"})]}),"\n",(0,a.jsxs)(r.li,{children:["[BookKeeper] Upgrade bk version to 4.10.0 ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5607",children:"#5607"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Process requests asynchronously on some REST APIs ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4765",children:"4765"})," ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4778",children:"4778"})," ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4795",children:"4795"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Fixes not owned bundles got selected when broker overloading ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5002",children:"#5002"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Support update partition for global topic  ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5306",children:"#5306"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Ensure the handling of PartitionMetadataRequest is async end-to-end ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5307",children:"#5307"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Allow to automatically assign TCP ports when starting a broker  ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/3555",children:"#3555"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Introduce publish rate-limiting on topic ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/3986",children:"#3986"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Add publish rate limit for each broker to avoid OOM ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5710",children:"#5710"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Allow for namespace default of offload threshold ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5872",children:"#5872"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Avoid unsafe split when validate hostname which might be ipv6 address ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5713",children:"#5713"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Support batch authorization of partitioned topic ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5767",children:"#5767"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Client][Java] Introduce ",(0,a.jsx)(r.code,{children:"batchingMaxBytes"})," setting in pulsar producer ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5045",children:"#5045"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Client][Java] Add epoch for connection handler to handle create producer timeout ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5571",children:"#5571"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Performance] Reduce char[] creation on jvm heap ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5055",children:"#5055"})]}),"\n",(0,a.jsxs)(r.li,{children:["[CLI] Add a broker tool for operations of a specific broker ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5768",children:"#5768"})]}),"\n",(0,a.jsxs)(r.li,{children:["[CLI] Validate topic name before creating partition/non partition topic via admin cli ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5148",children:"#5148"})]}),"\n",(0,a.jsxs)(r.li,{children:["[CLI] Make PulsarClusterMetadataSetup idempotent ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5879",children:"#5879"})]}),"\n",(0,a.jsxs)(r.li,{children:["[CLI] Allow for topic deletions with regex consumers ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5230",children:"#5230"})]}),"\n"]}),"\n",(0,a.jsx)(r.h4,{id:"stats--monitoring",children:"Stats & Monitoring"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["[Broker] Added delayed messages in Prometheus when using namespace-level metrics aggregation ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4691",children:"#4691"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Dashboard] Increasing Dashboard consumerName field to 256 varchar ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4716",children:"4716"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Dashboard] integrate peek into messages page ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4966",children:"#4966"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Dashboard] Support parse batch entry ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4992",children:"#4992"})]}),"\n"]}),"\n",(0,a.jsx)(r.h4,{id:"security",children:"Security"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["[Broker] Add broker-bookie mTLS support ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5042",children:"#5042"})]}),"\n"]}),"\n",(0,a.jsx)(r.h4,{id:"tiered-storage",children:"Tiered Storage"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["HDFS Offloader ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4403",children:"#4403"})]}),"\n",(0,a.jsxs)(r.li,{children:["Fix the problem of repeated storage of offload driver metadata ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5834",children:"#5834"})]}),"\n"]}),"\n",(0,a.jsx)(r.h4,{id:"pulsar-schema",children:"Pulsar Schema"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["[Broker] Pulsar schema api should respect to namespace level compatibility ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/issues/4821",children:"#4821"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Client][Java] NPE is thrown when a consumer consumes a partitioned topic with struct schema\n",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4960",children:"#4960"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Add compatibility check for primitive schema types ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5051",children:"#5051"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Support uploading key/value schema using Pulsar admin ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5000",children:"#5000"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Client][Java] Schema support encoding & encoding ByteBuf ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5123",children:"#5123"})]}),"\n"]}),"\n",(0,a.jsx)(r.h4,{id:"pulsar-io",children:"Pulsar IO"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["[Broker] Support reload Source and Sink for Pulsar IO ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5008",children:"5008"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Connector] Added Kinesis Source Connector ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/3784",children:"#3784"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Connector] Add a source connector for MongoDB ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5316",children:"#5316"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Connector] Support CDC Connector for MongoDB ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5590",children:"#5590"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Connector] Improve hbase sink performance ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5705",children:"#5705"})]}),"\n"]}),"\n",(0,a.jsx)(r.h4,{id:"pulsar-functions",children:"Pulsar Functions"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["[Function Worker] Allow resource overcommitting when running functions in Kubernetes ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4829",children:"4829"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Function Worker] Make Function Authentication Provider pluggable ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5404",children:"#5404"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Function Worker] Added deletion of state for Functions ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5469",children:"#5469"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Function Worker] Distribute the CA for KubernetesSecretsTokenAuthProvider ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5398",children:"#5398"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Function Runtime] Function runtime pluggable ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5463",children:"#5463"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Function Runtime] Allow functions to pass runtime specific options ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5400",children:"#5400"})]}),"\n"]}),"\n",(0,a.jsx)(r.h4,{id:"pulsar-sql",children:"Pulsar SQL"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["Support for other schema name separators in pulsar SQL ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/issues/4732",children:"4732"})]}),"\n",(0,a.jsxs)(r.li,{children:["Reuse ManagedLedgerFactory instances across SQL queries ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4813",children:"4813"})]}),"\n",(0,a.jsxs)(r.li,{children:["Using pulsar SQL query messages will appear ",(0,a.jsx)(r.code,{children:"NoSuchLedger"})," when zk root directory changed ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5001",children:"#5001"})]}),"\n"]}),"\n",(0,a.jsx)(r.h4,{id:"adaptors",children:"Adaptors"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["Add support of pulsar-kafka-adapter for kafka-0.9 API ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4886",children:"#4886"})]}),"\n",(0,a.jsxs)(r.li,{children:["Add support of pulsar-kafka-adapter for kafka-0.8 API ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4797",children:"#4797"})]}),"\n",(0,a.jsxs)(r.li,{children:["Make client keepalive interval configurable on pulsar-client-kafka ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5131",children:"#5131"})]}),"\n"]}),"\n",(0,a.jsx)(r.h4,{id:"transaction",children:"Transaction"}),"\n",(0,a.jsxs)(r.blockquote,{children:["\n",(0,a.jsx)(r.p,{children:"The development of Pulsar Transaction is still ongoing"}),"\n"]}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["[Buffer] Add new marker to show which message belongs to transaction ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4776",children:"#4776"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Buffer] Add data ledger position in txn commit marker ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4826",children:"#4826"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Buffer] Add basic operation of transaction ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4738",children:"#4738"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Buffer] Add new commands for the transaction ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4866",children:"#4866"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Protocol] Add default handler to handle transaction related commands ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4891",children:"#4891"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Client] Introduce Transaction Client API ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4952",children:"#4952"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Client] Add transaction coordinator client ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/4953",children:"#4953"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Broker] Ownership change listeners ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5457",children:"#5457"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Coordinator] Bootstrap pulsar system namespace and create TC assign topic ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5515",children:"#5515"})]}),"\n",(0,a.jsxs)(r.li,{children:["[Coordinator] Add transaction metadata store service ",(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/5504",children:"#5504"})]}),"\n"]}),"\n",(0,a.jsx)(r.p,{children:"For a complete list of issues fixed, see"}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/milestone/22?closed=1",children:"https://github.com/apache/pulsar/milestone/22?closed=1"})}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.a,{href:"https://github.com/apache/pulsar/releases/tag/v2.5.0",children:"https://github.com/apache/pulsar/releases/tag/v2.5.0"})})]})}function p(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},28453:(e,r,s)=>{s.d(r,{R:()=>n,x:()=>t});var l=s(96540);const a={},i=l.createContext(a);function n(e){const r=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:n(e.components),l.createElement(i.Provider,{value:r},e.children)}}}]);