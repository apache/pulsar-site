"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[99332],{6934:(e,i,l)=>{l.r(i),l.d(i,{assets:()=>c,contentTitle:()=>n,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"versioned/pulsar-3.0.13","title":"Apache Pulsar 3.0.13","description":"2025-07-31","source":"@site/release-notes/versioned/pulsar-3.0.13.md","sourceDirName":"versioned","slug":"/versioned/pulsar-3.0.13","permalink":"/release-notes/versioned/pulsar-3.0.13","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/release-notes/versioned/pulsar-3.0.13.md","tags":[],"version":"current","frontMatter":{"id":"pulsar-3.0.13","title":"Apache Pulsar 3.0.13","sidebar_label":"Apache Pulsar 3.0.13"}}');var r=l(74848),t=l(28453);const a={id:"pulsar-3.0.13",title:"Apache Pulsar 3.0.13",sidebar_label:"Apache Pulsar 3.0.13"},n=void 0,c={},h=[{value:"2025-07-31",id:"2025-07-31",level:4},{value:"Library updates",id:"library-updates",level:3},{value:"Broker",id:"broker",level:3},{value:"Client",id:"client",level:3},{value:"Pulsar IO and Pulsar Functions",id:"pulsar-io-and-pulsar-functions",level:3},{value:"Others",id:"others",level:3},{value:"Tests &amp; CI",id:"tests--ci",level:3}];function o(e){const i={a:"a",h3:"h3",h4:"h4",li:"li",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h4,{id:"2025-07-31",children:"2025-07-31"}),"\n",(0,r.jsx)(i.h3,{id:"library-updates",children:"Library updates"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"[improve][broker][branch-3.0] Upgrade BookKeeper to 4.16.7"}),"\n",(0,r.jsxs)(i.li,{children:["[improve] Upgrade pulsar-client-python to 3.8.0 in Docker image (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24544",children:"#24544"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][misc] Upgrade Netty to 4.1.122.Final and tcnative to 2.0.72.Final (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24397",children:"#24397"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][sec] Upgrade Kafka connector and clients version to 3.9.1 to address CVE-2025-27818 (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24564",children:"#24564"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][sec] Upgrade pulsar-function-go dependencies to address CVE-2025-22868 (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24547",children:"#24547"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][build] replace org.apache.commons.lang to org.apache.commons.lang3 (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24473",children:"#24473"}),")"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"broker",children:"Broker"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["[fix][broker] expose consumer name for partitioned topic stats (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24360",children:"#24360"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker] Fix ack hole in cursor for geo-replication (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/20931",children:"#20931"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker] Fix Broker OOM due to too many waiting cursors and reuse a recycled OpReadEntry incorrectly (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24551",children:"#24551"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker] Fix deduplication replay might never complete for exceptions (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24511",children:"#24511"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker] Fix duplicate increment of ADD_OP_COUNT_UPDATER in OpAddEntry (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24506",children:"#24506"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker] Fix exclusive producer creation when last shared producer closes (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24516",children:"#24516"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker] Fix issue that topic policies was deleted after a sub topic deleted, even if the partitioned topic still exists (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24350",children:"#24350"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker] Fix ManagedCursor state management race conditions and lifecycle issues (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24569",children:"#24569"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker] Fix matching of topicsPattern for topic names which contain non-ascii characters (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24543",children:"#24543"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker] Fix maxTopicsPerNamespace might report a false failure (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24560",children:"#24560"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:['[fix][broker] Fix the non-persistenttopic\'s replicator always get error "Producer send queue is full" if set a small value of the config replicationProducerQueueSize (',(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24424",children:"#24424"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker] Ignore metadata changes when broker is not in the Started state (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24352",children:"#24352"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[Fix][broker] Limit replication rate based on bytes (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22674",children:"#22674"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker] No longer allow creating subscription that contains slash (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/23594",children:"#23594"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker] Once the cluster is configured incorrectly, the broker maintains the incorrect cluster configuration even if you removed it (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24419",children:"#24419"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker] replication does not work due to the mixed and repetitive sending of user messages and replication markers (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24453",children:"#24453"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker] Resolve the issue of frequent updates in message expiration deletion rate (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24190",children:"#24190"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker]excessive replication speed leads to error: Producer send queue is full (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24189",children:"#24189"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker]Fix deadlock when compaction and topic deletion execute concurrently (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24366",children:"#24366"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker]Global topic policies do not affect after unloading topic and persistence global topic policies never affect (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24279",children:"#24279"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][broker]Non-global topic policies and global topic policies overwrite each other (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24286",children:"#24286"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix] Prevent IllegalStateException: Field 'message' is not set (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24472",children:"#24472"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][ml] Cursor ignores the position that has an empty ack-set if disabled deletionAtBatchIndexLevelEnabled (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24406",children:"#24406"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][ml] Enhance OpFindNewest to support skip non-recoverable data (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24441",children:"#24441"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][ml] Fix asyncReadEntries might never complete if empty entries are read from BK (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24515",children:"#24515"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][ml] Fix ManagedCursorImpl.individualDeletedMessages concurrent issue (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24338",children:"#24338"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][ml] Fix the possibility of message loss or disorder when ML PayloadProcessor processing fails (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24522",children:"#24522"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][ml]Received more than once callback when calling cursor.delete (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24405",children:"#24405"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][ml]Revert a behavior change of releasing idle offloaded ledger handle: only release idle BlobStoreBackedReadHandle (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24384",children:"#24384"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][ml]Still got BK ledger, even though it has been deleted after offloaded (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24432",children:"#24432"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][offload] Complete the future outside of the reading loop in BlobStoreBackedReadHandleImplV2.readAsync (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24331",children:"#24331"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][txn] Fix deadlock when loading transaction buffer snapshot (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24401",children:"#24401"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][broker] Add managedCursor/LedgerInfoCompressionType settings to broker.conf (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24391",children:"#24391"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][broker] Added synchronized for sendMessages in Non-Persistent message dispatchers (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24386",children:"#24386"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][broker] change to warn log level for ack validation error (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24459",children:"#24459"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][broker] Deny removing local cluster from topic level replicated cluster policy (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24351",children:"#24351"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][broker] Improve the log when namespace bundle is not available (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24434",children:"#24434"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][broker] Make maxBatchDeletedIndexToPersist configurable and document other related configs (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24392",children:"#24392"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][broker]Improve the log when encountered in-flight read limitation (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24359",children:"#24359"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][ml] Offload ledgers without check ledger length (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24344",children:"#24344"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][ml]Release idle offloaded read handle only the ref count is 0 (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24381",children:"#24381"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][offloaders] Automatically evict Offloaded Ledgers from memory (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/19783",children:"#19783"}),")"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"client",children:"Client"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["[fix][client] Close orphan producer or consumer when the creation is interrupted (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24539",children:"#24539"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][client] Fix ClientCnx handleSendError NPE (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24517",children:"#24517"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][client] Fix issue in auto releasing of idle connection with topics pattern consumer (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24528",children:"#24528"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][client] Fix some potential resource leak (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24402",children:"#24402"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][client] NPE in MultiTopicsConsumerImpl.negativeAcknowledge (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24476",children:"#24476"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][client] Prevent NPE when seeking with null topic in TopicMessageId (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24404",children:"#24404"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][client][branch-4.0] Partitioned topics are unexpectedly created by client after deletion (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24554",children:"#24554"}),") (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24571",children:"#24571"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][txn] Fix negative unacknowledged messages in transactions by ensuring that the batch size is added into CommandAck (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24443",children:"#24443"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][client] Terminate consumer.receive() when consumer is closed (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24550",children:"#24550"}),")"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"pulsar-io-and-pulsar-functions",children:"Pulsar IO and Pulsar Functions"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["[fix][io] Acknowledge RabbitMQ message after processing the message successfully (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24354",children:"#24354"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][io] Fix kinesis avro bytes handling (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24316",children:"#24316"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][io][branch-3.0] Backport Kinesis Sink custom native executable support ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/23762",children:"#23762"})," (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24349",children:"#24349"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][io][branch-3.0]Pulsar-SQL: Fix classcast ex when decode decimal value (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24317",children:"#24317"}),")"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"others",children:"Others"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["[fix][proxy] Fix default value of connectionMaxIdleSeconds in Pulsar Proxy (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24529",children:"#24529"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][proxy] Fix proxy OOM by replacing TopicName with a simple conversion method (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24465",children:"#24465"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][misc] Optimize topic list hashing so that potentially large String allocation is avoided (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24525",children:"#24525"}),")"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"tests--ci",children:"Tests & CI"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["[fix][build] Add missing <name> to submodules (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24421",children:"#24421"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][build] Fix potential insufficient protostuff-related configs (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21629",children:"#21629"}),")"]}),"\n",(0,r.jsx)(i.li,{children:"[fix][ci][branch-3.0] Fix issue in GitHub Actions when /etc/docker/daemon.json file doesn't exist"}),"\n",(0,r.jsxs)(i.li,{children:["[fix][test] Cleanup resources if starting PulsarService fails in PulsarTestContext (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21467",children:"#21467"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][test] Fix flaky AutoScaledReceiverQueueSizeTest.testNegativeClientMemory (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24324",children:"#24324"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][test] fix flaky GrowableArrayBlockingQueueTest.testPollBlockingThreadsTermination (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24576",children:"#24576"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][test] Fix flaky test SimpleProducerConsumerStatTest#testPartitionTopicStats (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/21642",children:"#21642"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][test] Move ExtensibleLoadManagerImplTest to flaky tests (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/22495",children:"#22495"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][test][branch-3.0] Correct topic policy loading logic and improve related tests (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24451",children:"#24451"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[fix][test]fix flaky test BrokerServiceAutoTopicCreationTest.testDynamicConfigurationTopicAutoCreationPartitioned (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24505",children:"#24505"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][test] Fix flaky test SimpleProducerConsumerStatTest#testMsgRateExpired (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/20629",children:"#20629"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["[improve][test] Remove EntryCacheCreator from ManagedLedgerFactoryImpl (",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/pull/24552",children:"#24552"}),")"]}),"\n",(0,r.jsx)(i.li,{children:"[improve][test][branch-3.0] Backport MockedPulsarServiceBaseTest.registerCloseable to branch-3.0"}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["For the complete list, check the ",(0,r.jsx)(i.a,{href:"https://github.com/apache/pulsar/compare/v3.0.12...v3.0.13",children:"full changelog"}),"."]})]})}function p(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},28453:(e,i,l)=>{l.d(i,{R:()=>a,x:()=>n});var s=l(96540);const r={},t=s.createContext(r);function a(e){const i=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function n(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(t.Provider,{value:i},e.children)}}}]);