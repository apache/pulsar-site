"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[67692],{74196:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"io-kafka-sink","title":"Kafka sink connector","description":"The Kafka sink connector pulls messages from Pulsar topics and persists the messages","source":"@site/versioned_docs/version-2.10.x/io-kafka-sink.md","sourceDirName":".","slug":"/io-kafka-sink","permalink":"/docs/2.10.x/io-kafka-sink","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/versioned_docs/version-2.10.x/io-kafka-sink.md","tags":[],"version":"2.10.x","frontMatter":{"id":"io-kafka-sink","title":"Kafka sink connector","sidebar_label":"Kafka sink connector","original_id":"io-kafka-sink"}}');var n=r(74848),i=r(28453);const c={id:"io-kafka-sink",title:"Kafka sink connector",sidebar_label:"Kafka sink connector",original_id:"io-kafka-sink"},d=void 0,o={},a=[{value:"Configuration",id:"configuration",level:2},{value:"Property",id:"property",level:3},{value:"Example",id:"example",level:3}];function l(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.p,{children:"The Kafka sink connector pulls messages from Pulsar topics and persists the messages\nto Kafka topics."}),"\n",(0,n.jsx)(s.p,{children:"This guide explains how to configure and use the Kafka sink connector."}),"\n",(0,n.jsx)(s.h2,{id:"configuration",children:"Configuration"}),"\n",(0,n.jsx)(s.p,{children:"The configuration of the Kafka sink connector has the following parameters."}),"\n",(0,n.jsx)(s.h3,{id:"property",children:"Property"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Name"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Required"}),(0,n.jsx)(s.th,{children:"Default"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"bootstrapServers"})}),(0,n.jsx)(s.td,{children:"String"}),(0,n.jsx)(s.td,{children:"true"}),(0,n.jsx)(s.td,{children:'" " (empty string)'}),(0,n.jsx)(s.td,{children:"A comma-separated list of host and port pairs for establishing the initial connection to the Kafka cluster."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"securityProtocol"})}),(0,n.jsx)(s.td,{children:"String"}),(0,n.jsx)(s.td,{children:"false"}),(0,n.jsx)(s.td,{children:'" " (empty string)'}),(0,n.jsx)(s.td,{children:"The protocol used to communicate with Kafka brokers."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"saslMechanism"})}),(0,n.jsx)(s.td,{children:"String"}),(0,n.jsx)(s.td,{children:"false"}),(0,n.jsx)(s.td,{children:'" " (empty string)'}),(0,n.jsx)(s.td,{children:"The SASL mechanism used for Kafka client connections."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"saslJaasConfig"})}),(0,n.jsx)(s.td,{children:"String"}),(0,n.jsx)(s.td,{children:"false"}),(0,n.jsx)(s.td,{children:'" " (empty string)'}),(0,n.jsx)(s.td,{children:"The JAAS login context parameters for SASL connections in the format used by JAAS configuration files."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"sslEnabledProtocols"})}),(0,n.jsx)(s.td,{children:"String"}),(0,n.jsx)(s.td,{children:"false"}),(0,n.jsx)(s.td,{children:'" " (empty string)'}),(0,n.jsx)(s.td,{children:"The list of protocols enabled for SSL connections."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"sslEndpointIdentificationAlgorithm"})}),(0,n.jsx)(s.td,{children:"String"}),(0,n.jsx)(s.td,{children:"false"}),(0,n.jsx)(s.td,{children:'" " (empty string)'}),(0,n.jsx)(s.td,{children:"The endpoint identification algorithm to validate server hostnames using a server certificate."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"sslTruststoreLocation"})}),(0,n.jsx)(s.td,{children:"String"}),(0,n.jsx)(s.td,{children:"false"}),(0,n.jsx)(s.td,{children:'" " (empty string)'}),(0,n.jsx)(s.td,{children:"The location of the trust store file."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"sslTruststorePassword"})}),(0,n.jsx)(s.td,{children:"String"}),(0,n.jsx)(s.td,{children:"false"}),(0,n.jsx)(s.td,{children:'" " (empty string)'}),(0,n.jsx)(s.td,{children:"The password of the trust store file."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"acks"})}),(0,n.jsx)(s.td,{children:"String"}),(0,n.jsx)(s.td,{children:"true"}),(0,n.jsx)(s.td,{children:'" " (empty string)'}),(0,n.jsxs)(s.td,{children:["The number of acknowledgments that the producer requires the leader to receive before a request completes. ",(0,n.jsx)("br",{}),"This controls the durability of the sent records."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"batchsize"})}),(0,n.jsx)(s.td,{children:"long"}),(0,n.jsx)(s.td,{children:"false"}),(0,n.jsx)(s.td,{children:"16384L"}),(0,n.jsx)(s.td,{children:"The batch size that a Kafka producer attempts to batch records together before sending them to brokers."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"maxRequestSize"})}),(0,n.jsx)(s.td,{children:"long"}),(0,n.jsx)(s.td,{children:"false"}),(0,n.jsx)(s.td,{children:"1048576L"}),(0,n.jsx)(s.td,{children:"The maximum size of a Kafka request in bytes."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"topic"})}),(0,n.jsx)(s.td,{children:"String"}),(0,n.jsx)(s.td,{children:"true"}),(0,n.jsx)(s.td,{children:'" " (empty string)'}),(0,n.jsx)(s.td,{children:"The Kafka topic which receives messages from Pulsar."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"keyDeserializationClass"})}),(0,n.jsx)(s.td,{children:"String"}),(0,n.jsx)(s.td,{children:"false"}),(0,n.jsx)(s.td,{children:"org.apache.kafka.common.serialization.StringSerializer"}),(0,n.jsx)(s.td,{children:"The serializer class for Kafka producers to serialize keys."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"valueDeserializationClass"})}),(0,n.jsx)(s.td,{children:"String"}),(0,n.jsx)(s.td,{children:"false"}),(0,n.jsx)(s.td,{children:"org.apache.kafka.common.serialization.ByteArraySerializer"}),(0,n.jsxs)(s.td,{children:["The serializer class for Kafka producers to serialize values.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"The serializer is set by a specific implementation of ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/blob/master/pulsar-io/kafka/src/main/java/org/apache/pulsar/io/kafka/KafkaAbstractSink.java",children:(0,n.jsx)(s.code,{children:"KafkaAbstractSink"})}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"producerConfigProperties"})}),(0,n.jsx)(s.td,{children:"Map"}),(0,n.jsx)(s.td,{children:"false"}),(0,n.jsx)(s.td,{children:'" " (empty string)'}),(0,n.jsxs)(s.td,{children:["The producer configuration properties to be passed to producers. ",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(s.strong,{children:"Note: other properties specified in the connector configuration file take precedence over this configuration"}),"."]})]})]})]}),"\n",(0,n.jsx)(s.h3,{id:"example",children:"Example"}),"\n",(0,n.jsx)(s.p,{children:"Before using the Kafka sink connector, you need to create a configuration file through one of the following methods."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"JSON"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-json",children:'{\n   "configs": {\n      "bootstrapServers": "localhost:6667",\n      "topic": "test",\n      "acks": "1",\n      "batchSize": "16384",\n      "maxRequestSize": "1048576",\n      "producerConfigProperties": {\n         "client.id": "test-pulsar-producer",\n         "security.protocol": "SASL_PLAINTEXT",\n         "sasl.mechanism": "GSSAPI",\n         "sasl.kerberos.service.name": "kafka",\n         "acks": "all"\n      }\n   }\n}\n'})}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"YAML"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-yaml",children:'configs:\n    bootstrapServers: "localhost:6667"\n    topic: "test"\n    acks: "1"\n    batchSize: "16384"\n    maxRequestSize: "1048576"\n    producerConfigProperties:\n        client.id: "test-pulsar-producer"\n        security.protocol: "SASL_PLAINTEXT"\n        sasl.mechanism: "GSSAPI"\n        sasl.kerberos.service.name: "kafka"\n        acks: "all"\n'})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},28453:(e,s,r)=>{r.d(s,{R:()=>c,x:()=>d});var t=r(96540);const n={},i=t.createContext(n);function c(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);