"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[47602],{21247:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"functions-overview","title":"Pulsar Functions overview","description":"Get a comprehensive understanding of Pulsar functions.","source":"@site/versioned_docs/version-4.1.x/functions-overview.md","sourceDirName":".","slug":"/functions-overview","permalink":"/docs/4.1.x/functions-overview","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/versioned_docs/version-4.1.x/functions-overview.md","tags":[],"version":"4.1.x","frontMatter":{"id":"functions-overview","title":"Pulsar Functions overview","sidebar_label":"Overview","description":"Get a comprehensive understanding of Pulsar functions."},"sidebar":"docsSidebar","previous":{"title":"Get started","permalink":"/docs/4.1.x/schema-get-started"},"next":{"title":"Concepts","permalink":"/docs/4.1.x/functions-concepts"}}');var t=s(74848),o=s(28453);const r={id:"functions-overview",title:"Pulsar Functions overview",sidebar_label:"Overview",description:"Get a comprehensive understanding of Pulsar functions."},c=void 0,l={},a=[{value:"What are Pulsar Functions",id:"what-are-pulsar-functions",level:2},{value:"Why use Pulsar Functions",id:"why-use-pulsar-functions",level:2},{value:"Use cases",id:"use-cases",level:2},{value:"Word count example",id:"word-count-example",level:3},{value:"Content-based routing example",id:"content-based-routing-example",level:3},{value:"What&#39;s next?",id:"whats-next",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"what-are-pulsar-functions",children:"What are Pulsar Functions"}),"\n",(0,t.jsx)(n.p,{children:"Pulsar Functions are a serverless computing framework that runs on top of Pulsar and processes messages in the following way:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"consumes messages from one or more topics,"}),"\n",(0,t.jsx)(n.li,{children:"applies a user-defined processing logic to the messages,"}),"\n",(0,t.jsx)(n.li,{children:"publishes the outputs of the messages to other topics."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The diagram below illustrates the three steps in the functions computing process."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Workflow of a Pulsar function",src:s(30972).A+"",width:"1346",height:"620"})}),"\n",(0,t.jsx)(n.p,{children:"Each time a function receives a message, it completes the following consume-apply-publish steps."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Consumes the message from one or more ",(0,t.jsx)(n.strong,{children:"input topics"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Applies the customized (user-supplied) processing logic to the message."}),"\n",(0,t.jsxs)(n.li,{children:["Publishes the output of the message, including:","\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["writes output messages to an ",(0,t.jsx)(n.strong,{children:"output topic"})," in Pulsar"]}),"\n",(0,t.jsxs)(n.li,{children:["writes logs to a ",(0,t.jsx)(n.strong,{children:"log topic"})," (if it is configured)for debugging"]}),"\n",(0,t.jsxs)(n.li,{children:["writes ",(0,t.jsx)(n.a,{href:"/docs/4.1.x/functions-develop-state",children:"state"})," updates to BookKeeper (if it is configured)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"You can write functions in Java, Python, and Go. For example, you can use Pulsar Functions to set up the following processing chain:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["A Python function listens for the ",(0,t.jsx)(n.code,{children:"raw-sentences"}),' topic and "sanitizes" incoming strings (removing extraneous white space and converting all characters to lowercase) and then publishes the results to a ',(0,t.jsx)(n.code,{children:"sanitized-sentences"})," topic."]}),"\n",(0,t.jsxs)(n.li,{children:["A Java function listens for the ",(0,t.jsx)(n.code,{children:"sanitized-sentences"})," topic, counts the number of times each word appears within a specified time ",(0,t.jsx)(n.a,{href:"/docs/4.1.x/functions-concepts#window-function",children:"window"}),", and publishes the results to a ",(0,t.jsx)(n.code,{children:"results"})," topic."]}),"\n",(0,t.jsxs)(n.li,{children:["A Python function listens for the ",(0,t.jsx)(n.code,{children:"results"})," topic and writes the results to a MySQL table."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.a,{href:"/docs/4.1.x/functions-develop",children:"Develop Pulsar Functions"})," for more details."]}),"\n",(0,t.jsx)(n.h2,{id:"why-use-pulsar-functions",children:"Why use Pulsar Functions"}),"\n",(0,t.jsx)(n.p,{children:"Pulsar Functions perform simple computations on messages before routing the messages to consumers. These Lambda-style functions are specifically designed and integrated with Pulsar. The framework provides a simple computing framework on your Pulsar cluster and takes care of the underlying details of sending and receiving messages. You only need to focus on the business logic."}),"\n",(0,t.jsx)(n.p,{children:"Pulsar Functions enable your organization to maximize the value of your data and enjoy the benefits of:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Simplified deployment and operations - you can create a data pipeline without deploying a separate Stream Processing Engine (SPE), such as ",(0,t.jsx)(n.a,{href:"http://storm.apache.org/",children:"Apache Storm"}),", ",(0,t.jsx)(n.a,{href:"https://heron.incubator.apache.org/",children:"Apache Heron"}),", or ",(0,t.jsx)(n.a,{href:"https://flink.apache.org/",children:"Apache Flink"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Serverless computing (when you use Kubernetes runtime)"}),"\n",(0,t.jsx)(n.li,{children:"Maximized developer productivity (both language-native interfaces and SDKs for Java/Python/Go)."}),"\n",(0,t.jsx)(n.li,{children:"Easy troubleshooting"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"use-cases",children:"Use cases"}),"\n",(0,t.jsx)(n.p,{children:"Below are two simple examples of use cases for Pulsar Functions."}),"\n",(0,t.jsx)(n.h3,{id:"word-count-example",children:"Word count example"}),"\n",(0,t.jsx)(n.p,{children:"This figure shows the process of implementing the classic word count use case."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Word count example using Pulsar Functions",src:s(93285).A+"",width:"1769",height:"916"})}),"\n",(0,t.jsx)(n.p,{children:"In this example, the function calculates a sum of the occurrences of every individual word published to a given topic."}),"\n",(0,t.jsx)(n.h3,{id:"content-based-routing-example",children:"Content-based routing example"}),"\n",(0,t.jsx)(n.p,{children:"This figure demonstrates the process of implementing a content-based routing use case."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Count-based routing example using Pulsar Functions",src:s(14160).A+"",width:"1772",height:"836"})}),"\n",(0,t.jsxs)(n.p,{children:["In this example, a function takes items (strings) as input and publishes them to either a ",(0,t.jsx)(n.code,{children:"fruits"})," or ",(0,t.jsx)(n.code,{children:"vegetables"})," topic, depending on the item. If an item is neither fruit nor vegetable, a warning is logged to a ",(0,t.jsx)(n.a,{href:"/docs/4.1.x/functions-develop-log",children:"log topic"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"whats-next",children:"What's next?"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/docs/4.1.x/functions-concepts",children:"Function concepts"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/docs/4.1.x/functions-cli",children:"Function CLIs and configs"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"For developers"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/4.1.x/functions-develop",children:"Develop a function"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/4.1.x/functions-debug",children:"Debug a function"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/4.1.x/functions-package",children:"Package a function"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/4.1.x/functions-deploy",children:"Deploy a function"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"For admins/operators"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/4.1.x/functions-worker",children:"Set up function workers"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/4.1.x/functions-runtime",children:"Configure function runtime"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/4.1.x/functions-deploy",children:"Deploy a function"}),"."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},30972:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/function-overview-df56ee014ed344f64e7e0f807bd576c2.svg"},14160:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/pulsar-functions-routing-example-22b3f2b036505ad4d4dfd5f878de3ae3.png"},93285:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/pulsar-functions-word-count-f7b0d99f0a0e03e0b20fd0aa0ff6ef48.png"},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>c});var i=s(96540);const t={},o=i.createContext(t);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);