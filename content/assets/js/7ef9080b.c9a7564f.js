"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[22142],{22151:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>c,contentTitle:()=>n,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"versioned/pulsar-4.1.1","title":"Apache Pulsar 4.1.1","description":"2025-09-27","source":"@site/release-notes/versioned/pulsar-4.1.1.md","sourceDirName":"versioned","slug":"/versioned/pulsar-4.1.1","permalink":"/release-notes/versioned/pulsar-4.1.1","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/release-notes/versioned/pulsar-4.1.1.md","tags":[],"version":"current","frontMatter":{"id":"pulsar-4.1.1","title":"Apache Pulsar 4.1.1","sidebar_label":"Apache Pulsar 4.1.1"}}');var l=s(74848),a=s(28453);const t={id:"pulsar-4.1.1",title:"Apache Pulsar 4.1.1",sidebar_label:"Apache Pulsar 4.1.1"},n=void 0,c={},h=[{value:"2025-09-27",id:"2025-09-27",level:4},{value:"Library updates",id:"library-updates",level:3},{value:"Broker",id:"broker",level:3},{value:"Client",id:"client",level:3},{value:"Pulsar IO and Pulsar Functions",id:"pulsar-io-and-pulsar-functions",level:3},{value:"Others",id:"others",level:3},{value:"Tests &amp; CI",id:"tests--ci",level:3}];function o(e){const r={a:"a",code:"code",h3:"h3",h4:"h4",li:"li",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.h4,{id:"2025-09-27",children:"2025-09-27"}),"\n",(0,l.jsx)(r.h3,{id:"library-updates",children:"Library updates"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["[fix][sec] Upgrade Netty to 4.1.127.Final to address CVEs (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24717",children:"#24717"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[improve][build] Upgrade Lombok to 1.18.42 to fully support JDK25 (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24763",children:"#24763"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[improve][build] Upgrade Apache Parent POM to version 35 (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24742",children:"#24742"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[improve][build] Upgrade Mockito, AssertJ and ByteBuddy to fully support JDK25 (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24764",children:"#24764"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[improve][build] Upgrade SpotBugs to a version that supports JDK25 (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24768",children:"#24768"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[feat][misc] upgrade oxia version to 0.6.2 (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24689",children:"#24689"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[improve][io] Upgrade to Debezium 3.2.2 (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24712",children:"#24712"}),")"]}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"broker",children:"Broker"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["[fix][broker] Key_Shared subscription doesn't always deliver messages from the replay queue after a consumer disconnects and leaves a backlog (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24736",children:"#24736"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][broker] Ensure KeyShared sticky mode consumer respects assigned ranges (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24730",children:"#24730"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][broker] First entry will be skipped if opening NonDurableCursor while trimmed ledger is adding first entry. (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24738",children:"#24738"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][broker] Fix cannot shutdown broker gracefully by admin api (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24731",children:"#24731"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][broker] Fix memory leak when metrics are updated in a thread other than FastThreadLocalThread (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24719",children:"#24719"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][broker] Prevent unexpected recycle failure in dispatcher's read callback (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24741",children:"#24741"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][broker]Fix never recovered metadata store bad version issue if received a large response from ZK (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24580",children:"#24580"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][ml]Fix EOFException after enabled topics offloading (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24753",children:"#24753"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][broker] Fix NPE and annotate nullable return values for ManagedCursorContainer (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24706",children:"#24706"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][broker]Dispatcher did unnecessary sort for recentlyJoinedConsumers and printed noisy error logs (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24634",children:"#24634"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][broker]Fix dirty reading of namespace level offload thresholds (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24696",children:"#24696"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][ml] Negative backlog & acked positions does not exist & message lost when concurrently occupying topic owner (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24722",children:"#24722"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[improve][broker] If there is a deadlock in the service, the probe should return a failure because the service may be unavailable (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/23634",children:"#23634"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[improve][broker] Allow deletion of empty persistent topics regardless of retention policy (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24733",children:"#24733"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[improve][broker] PIP-402: Optionally prevent role/originalPrincipal logging (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/23386",children:"#23386"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[improve][broker] Reduce unnecessary MessageMetadata parsing by caching the parsed instance in the broker cache (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24682",children:"#24682"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[improve][ml] Improve cache insert performance by removing exists check since it's already covered by putIfAbsent (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24699",children:"#24699"}),")"]}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"client",children:"Client"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["[fix][client] Avoid recycling the same ConcurrentBitSetRecyclable among different threads (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24725",children:"#24725"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][client] Fix receiver queue auto-scale without memory limit (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24743",children:"#24743"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][client]TopicListWatcher not closed when calling PatternMultiTopicsConsumerImpl.closeAsync() method (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24698",children:"#24698"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][client] rollback TopicListWatcher retry behavior (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24752",children:"#24752"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][client] Exclude io.prometheus",":simpleclient_caffeine"," from client-side dependencies (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24761",children:"#24761"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[improve][client]  PIP-407 Add newMessage with schema and transactions (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/23942",children:"#23942"}),")"]}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"pulsar-io-and-pulsar-functions",children:"Pulsar IO and Pulsar Functions"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["[fix][io] Improve Kafka Connect source offset flushing logic (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24654",children:"#24654"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[feat][fn] Fallback to using ",(0,l.jsx)(r.code,{children:"STATE_STORAGE_SERVICE_URL"})," in ",(0,l.jsx)(r.code,{children:"PulsarMetadataStateStoreProviderImpl.init"})," (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24721",children:"#24721"}),")"]}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"others",children:"Others"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["[fix][misc] Fix compareTo contract violation for NamespaceBundleStats, TimeAverageMessageData and ResourceUnitRanking (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24772",children:"#24772"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix] Exclude commons-lang dep from bookkeeper (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24749",children:"#24749"}),")"]}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"tests--ci",children:"Tests & CI"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["[fix][test] Flaky-test: BrokerServiceTest.testShutDownWithMaxConcurrentUnload (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24769",children:"#24769"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][broker] Fix testServiceConfigurationRetentionPolicy unit test (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24756",children:"#24756"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][broker]Fix the wrong logic of the test PartitionCreationTest.testCreateMissedPartitions (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24683",children:"#24683"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[improve][build] Disable javadoc build failure (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24594",children:"#24594"}),")"]}),"\n",(0,l.jsxs)(r.li,{children:["[fix][ci] Fix CI for Java 25 including upgrade of Gradle Develocity Maven extension (",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/24767",children:"#24767"}),")"]}),"\n"]}),"\n",(0,l.jsxs)(r.p,{children:["For the complete list, check the ",(0,l.jsx)(r.a,{href:"https://github.com/apache/pulsar/compare/v4.1.0...v4.1.1",children:"full changelog"}),"."]})]})}function p(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,l.jsx)(r,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},28453:(e,r,s)=>{s.d(r,{R:()=>t,x:()=>n});var i=s(96540);const l={},a=i.createContext(l);function t(e){const r=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function n(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(a.Provider,{value:r},e.children)}}}]);