"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[121],{22488:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>h,contentTitle:()=>t,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"versioned/pulsar-2.9.0","title":"Apache Pulsar 2.9.0","description":"2021-11-25","source":"@site/release-notes/versioned/pulsar-2.9.0.md","sourceDirName":"versioned","slug":"/versioned/pulsar-2.9.0","permalink":"/release-notes/versioned/pulsar-2.9.0","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/release-notes/versioned/pulsar-2.9.0.md","tags":[],"version":"current","frontMatter":{"id":"pulsar-2.9.0","title":"Apache Pulsar 2.9.0","sidebar_label":"Apache Pulsar 2.9.0"}}');var n=r(74848),i=r(28453);const a={id:"pulsar-2.9.0",title:"Apache Pulsar 2.9.0",sidebar_label:"Apache Pulsar 2.9.0"},t=void 0,h={},c=[{value:"2021-11-25",id:"2021-11-25",level:4},{value:"News and noteworthy",id:"news-and-noteworthy",level:3},{value:"Breaking changes",id:"breaking-changes",level:3},{value:"PIPs",id:"pips",level:3},{value:"Pulsar IO and Pulsar Functions",id:"pulsar-io-and-pulsar-functions",level:3},{value:"Proxy",id:"proxy",level:3},{value:"Metrics",id:"metrics",level:3},{value:"Library updates",id:"library-updates",level:3},{value:"Tiered Storage",id:"tiered-storage",level:3},{value:"Broker",id:"broker",level:3}];function o(e){const s={a:"a",h3:"h3",h4:"h4",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h4,{id:"2021-11-25",children:"2021-11-25"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"IMPORTANT NOTICE"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"IT IS NOT RECOMMENDED TO USE PULSAR 2.9.0 ON PRODUCTION ENVIRONMENT"})," since it does not include the fixes for ",(0,n.jsx)(s.a,{href:"https://pulsar.apache.org/blog/2021/12/11/Log4j-CVE/",children:"Log4j2 vulnerability (CVE-2021-44228)"})," and the ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/12993",children:"bundle unloading timeout issue"}),"."]}),"\n",(0,n.jsx)(s.h3,{id:"news-and-noteworthy",children:"News and noteworthy"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"PIP-45 Pluggable metadata interface introduced many changes about ZooKeeper metadata management: consistency, resilience, stability, tech debt reduction (less code duplication)"}),"\n",(0,n.jsx)(s.li,{children:"Pulsar IO: Oracle Debezium connector, new Schema aware Elasticsearch sink connector"}),"\n",(0,n.jsx)(s.li,{children:"Many improvements to the Pulsar clients, with PIP-83, PIP-91, PIP-96 (see below)"}),"\n",(0,n.jsx)(s.li,{children:"Geo-replication improvements: PIP-88 replicate schemas across clusters"}),"\n",(0,n.jsxs)(s.li,{children:["Apache Kafka connect sinks can be run as Pulsar sinks ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/9927",children:"#9927"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"breaking-changes",children:"Breaking changes"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Now Pulsar requires ZooKeeper 3.6.x because it uses the Persistent Recursive Watches feature (see PIP-45)"}),"\n",(0,n.jsxs)(s.li,{children:["The Discovery Service has been removed. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/12119",children:"12119"})]}),"\n",(0,n.jsxs)(s.li,{children:["The Pulsar Standalone docker image has been removed. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11657",children:"11657"})]}),"\n",(0,n.jsxs)(s.li,{children:["The Pulsar Dashboard docker image has been removed. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11284",children:"11284"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"pips",children:"PIPs"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["[PIP 96] Add message payload processor for Pulsar client ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/12088",children:"#12088"})]}),"\n",(0,n.jsxs)(s.li,{children:["[PIP 99] Pulsar Proxy Extensions ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11838",children:"#11838"})]}),"\n",(0,n.jsxs)(s.li,{children:["[PIP 89] Timed log events ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11944",children:"#11944"})]}),"\n",(0,n.jsxs)(s.li,{children:["[PIP 82] Tenant and namespace level rate limiting ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11918",children:"#11918"})]}),"\n",(0,n.jsxs)(s.li,{children:["[PIP 91] Separate lookup timeout from operation timeout ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11627",children:"#11627"})]}),"\n",(0,n.jsxs)(s.li,{children:["[PIP 88] Replicate schemas across clusters ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11441",children:"#11441"})]}),"\n",(0,n.jsxs)(s.li,{children:["[PIP 83] Pulsar Reader: Message consumption with pooled buffer ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11725",children:"#11725"})]}),"\n",(0,n.jsxs)(s.li,{children:["[PIP 64] Rest API Produce message ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/8125",children:"PIP 64"})]}),"\n",(0,n.jsxs)(s.li,{children:["[PIP 45] Pluggable metadata interface ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/wiki/PIP-45%3A-Pluggable-metadata-interface",children:"PIP 45"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"pulsar-io-and-pulsar-functions",children:"Pulsar IO and Pulsar Functions"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Added Debezium source for Microsoft SQL Server. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/12256",children:"12256"})]}),"\n",(0,n.jsxs)(s.li,{children:["Upgrading Debezium to 1.7. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/12295",children:"12295"})]}),"\n",(0,n.jsxs)(s.li,{children:["Allow Pulsar Functions localrun to exit on error. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/12278",children:"12278"})]}),"\n",(0,n.jsxs)(s.li,{children:["Function: Support for draining workers. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/12178",children:"12178"})]}),"\n",(0,n.jsxs)(s.li,{children:["Go Functions: support set subscription position. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11990",children:"11990"})]}),"\n",(0,n.jsxs)(s.li,{children:["Support protobuf-native schema for functions. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11868",children:"11868"})]}),"\n",(0,n.jsxs)(s.li,{children:["Support protobuf schema for pulsar function. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11709",children:"11709"})]}),"\n",(0,n.jsxs)(s.li,{children:["Support KEY_BASED batch builder for Java based functions and sources. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11706",children:"11706"})]}),"\n",(0,n.jsxs)(s.li,{children:["Upgrade Go client version to 0.6.0. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11477",children:"11477"})]}),"\n",(0,n.jsxs)(s.li,{children:["Stop calling the deprecated method Thread.stop() when stopping the function thread in ThreadRuntime. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11401",children:"11401"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"proxy",children:"Proxy"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Set default httpProxyTimeout to 5 minutes. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/12299",children:"12299"})]}),"\n",(0,n.jsxs)(s.li,{children:["Fixed NPE in ProxyConnection with no auth data. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/12111",children:"12111"})]}),"\n",(0,n.jsxs)(s.li,{children:["Set default http proxy request timeout. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11971",children:"11971"})]}),"\n",(0,n.jsxs)(s.li,{children:["Fixed Proxy leaking outbound connections. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11848",children:"11848"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"metrics",children:"Metrics"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Add support for splitting topic and partition label in Prometheus. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/12225",children:"12225"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"library-updates",children:"Library updates"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Upgrade netty to 4.1.68.Final. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/12218",children:"12218"})]}),"\n",(0,n.jsxs)(s.li,{children:["Added JLine 2.x for ZK CLI tool. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/12102",children:"12102"})]}),"\n",(0,n.jsxs)(s.li,{children:["Upgrade aircompressor to 0.20. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11790",children:"11790"})]}),"\n",(0,n.jsxs)(s.li,{children:["Upgrade Jetty to 9.4.43.v20210629. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11660",children:"11660"})]}),"\n",(0,n.jsxs)(s.li,{children:["Upgrade commons-compress to 1.21. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11345",children:"11345"})]}),"\n",(0,n.jsxs)(s.li,{children:["Bump Netty version to 4.1.66.Final. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11344",children:"11344"})]}),"\n",(0,n.jsxs)(s.li,{children:["Exclude grpc-okhttp dependency and set okhttp3 & okio version. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11025",children:"11025"})]}),"\n",(0,n.jsxs)(s.li,{children:["Use ubuntu:20.04 base image for Pulsar docker images. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11026",children:"11026"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"tiered-storage",children:"Tiered Storage"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Fix the potential race condition in the BlobStore readhandler. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/12123",children:"12123"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"broker",children:"Broker"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["AuthorizationService should use provider's canLookupAsync method. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11777",children:"11777"})]}),"\n",(0,n.jsxs)(s.li,{children:["Broker auto refresh bk-client certs to avoid cnx failure after cert refresh. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/12107",children:"12107"})]}),"\n",(0,n.jsxs)(s.li,{children:["Add multi roles support for authorization. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/11341",children:"11341"})]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},28453:(e,s,r)=>{r.d(s,{R:()=>a,x:()=>t});var l=r(96540);const n={},i=l.createContext(n);function a(e){const s=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),l.createElement(i.Provider,{value:s},e.children)}}}]);