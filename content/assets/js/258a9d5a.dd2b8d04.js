"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[70728],{96619:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>p});const s=JSON.parse('{"id":"admin-api-namespaces","title":"Managing Namespaces","description":"Important","source":"@site/versioned_docs/version-2.3.1/admin-api-namespaces.md","sourceDirName":".","slug":"/admin-api-namespaces","permalink":"/docs/2.3.1/admin-api-namespaces","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/versioned_docs/version-2.3.1/admin-api-namespaces.md","tags":[],"version":"2.3.1","frontMatter":{"id":"admin-api-namespaces","title":"Managing Namespaces","sidebar_label":"Namespaces"},"sidebar":"docsSidebar","previous":{"title":"Brokers","permalink":"/docs/2.3.1/admin-api-brokers"},"next":{"title":"Permissions","permalink":"/docs/2.3.1/admin-api-permissions"}}');var l=n(74848),i=n(28453),r=n(89089),t=n(19365);const c={id:"admin-api-namespaces",title:"Managing Namespaces",sidebar_label:"Namespaces"},d=void 0,o={},p=[{value:"Namespaces resources",id:"namespaces-resources",level:2},{value:"Create namespaces",id:"create-namespaces",level:3},{value:"Get policies",id:"get-policies",level:3},{value:"List namespaces",id:"list-namespaces",level:3},{value:"Delete namespaces",id:"delete-namespaces",level:3},{value:"Configure replication clusters",id:"configure-replication-clusters",level:3},{value:"Set replication cluster",id:"set-replication-cluster",level:4},{value:"Get replication cluster",id:"get-replication-cluster",level:4},{value:"Configure backlog quota policies",id:"configure-backlog-quota-policies",level:3},{value:"Set backlog quota policies",id:"set-backlog-quota-policies",level:4},{value:"Get backlog quota policies",id:"get-backlog-quota-policies",level:4},{value:"Remove backlog quota policies",id:"remove-backlog-quota-policies",level:4},{value:"Configure persistence policies",id:"configure-persistence-policies",level:3},{value:"Set persistence policies",id:"set-persistence-policies",level:4},{value:"Get persistence policies",id:"get-persistence-policies",level:4},{value:"Configure namespace bundles",id:"configure-namespace-bundles",level:3},{value:"Unload namespace bundles",id:"unload-namespace-bundles",level:4},{value:"Split namespace bundles",id:"split-namespace-bundles",level:4},{value:"Configure message TTL",id:"configure-message-ttl",level:3},{value:"Set message-ttl",id:"set-message-ttl",level:4},{value:"Get message-ttl",id:"get-message-ttl",level:4},{value:"Remove message-ttl",id:"remove-message-ttl",level:4},{value:"Clear backlog",id:"clear-backlog",level:3},{value:"Clear namespace backlog",id:"clear-namespace-backlog",level:4},{value:"Clear bundle backlog",id:"clear-bundle-backlog",level:4},{value:"Configure retention",id:"configure-retention",level:3},{value:"Set retention",id:"set-retention",level:4},{value:"Get retention",id:"get-retention",level:4},{value:"Configure dispatch throttling for topics",id:"configure-dispatch-throttling-for-topics",level:3},{value:"Set dispatch throttling for topics",id:"set-dispatch-throttling-for-topics",level:4},{value:"Get configured message-rate for topics",id:"get-configured-message-rate-for-topics",level:4},{value:"Configure dispatch throttling for subscription",id:"configure-dispatch-throttling-for-subscription",level:3},{value:"Set dispatch throttling for subscription",id:"set-dispatch-throttling-for-subscription",level:4},{value:"Get configured message-rate for subscription",id:"get-configured-message-rate-for-subscription",level:4},{value:"Configure dispatch throttling for replicator",id:"configure-dispatch-throttling-for-replicator",level:3},{value:"Set dispatch throttling for replicator",id:"set-dispatch-throttling-for-replicator",level:4},{value:"Get configured message-rate for replicator",id:"get-configured-message-rate-for-replicator",level:4},{value:"Configure deduplication snapshot interval",id:"configure-deduplication-snapshot-interval",level:3},{value:"Get deduplication snapshot interval",id:"get-deduplication-snapshot-interval",level:4},{value:"Set deduplication snapshot interval",id:"set-deduplication-snapshot-interval",level:4},{value:"Remove deduplication snapshot interval",id:"remove-deduplication-snapshot-interval",level:4},{value:"Unload namespaces from a broker",id:"unload-namespaces-from-a-broker",level:3},{value:"pulsar-admin",id:"pulsar-admin",level:4}];function u(e){const a={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a.blockquote,{children:["\n",(0,l.jsx)(a.p,{children:(0,l.jsx)(a.strong,{children:"Important"})}),"\n",(0,l.jsxs)(a.p,{children:["This page only shows ",(0,l.jsx)(a.strong,{children:"some frequently used operations"}),"."]}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsxs)(a.li,{children:["\n",(0,l.jsxs)(a.p,{children:["For the latest and complete information about ",(0,l.jsx)(a.code,{children:"Pulsar admin"}),", including commands, flags, descriptions, and more information, see Pulsar admin doc."]}),"\n"]}),"\n",(0,l.jsxs)(a.li,{children:["\n",(0,l.jsxs)(a.p,{children:["For the latest and complete information about ",(0,l.jsx)(a.code,{children:"REST API"}),", including parameters, responses, samples, and more, see ",(0,l.jsx)(a.a,{href:"https://pulsar.apache.org/admin-rest-api#/",children:"REST"})," API doc."]}),"\n"]}),"\n",(0,l.jsxs)(a.li,{children:["\n",(0,l.jsxs)(a.p,{children:["For the latest and complete information about ",(0,l.jsx)(a.code,{children:"Java admin API"}),", including classes, methods, descriptions, and more, see ",(0,l.jsx)(a.a,{href:"https://pulsar.apache.org/api/admin/",children:"Java admin API doc"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(a.p,{children:["Pulsar ",(0,l.jsx)(a.a,{href:"/docs/2.3.1/reference-terminology#namespace",children:"namespaces"})," are logical groupings of ",(0,l.jsx)(a.a,{href:"/docs/2.3.1/reference-terminology#topic",children:"topics"}),"."]}),"\n",(0,l.jsx)(a.p,{children:"Namespaces can be managed via:"}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsxs)(a.li,{children:["The ",(0,l.jsx)(a.code,{children:"namespaces"})," command of the ",(0,l.jsx)(a.code,{children:"pulsar-admin"})," tool"]}),"\n",(0,l.jsxs)(a.li,{children:["The ",(0,l.jsx)(a.code,{children:"/admin/v2/namespaces"})," endpoint of the admin ",(0,l.jsx)(a.a,{href:"https://pulsar.apache.org/admin-rest-api#/",children:"REST"})," API"]}),"\n",(0,l.jsxs)(a.li,{children:["The ",(0,l.jsx)(a.code,{children:"namespaces"})," method of the ",(0,l.jsx)(a.code,{children:"PulsarAdmin"})," object in the ",(0,l.jsx)(a.a,{href:"/docs/2.3.1/client-libraries-java",children:"Java API"})]}),"\n"]}),"\n",(0,l.jsx)(a.h2,{id:"namespaces-resources",children:"Namespaces resources"}),"\n",(0,l.jsx)(a.h3,{id:"create-namespaces",children:"Create namespaces"}),"\n",(0,l.jsxs)(a.p,{children:["You can create new namespaces under a given ",(0,l.jsx)(a.a,{href:"/docs/2.3.1/reference-terminology#tenant",children:"tenant"}),"."]}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsxs)(t.A,{value:"pulsar-admin",children:[(0,l.jsxs)(a.p,{children:["Use the ",(0,l.jsx)(a.a,{href:"/docs/2.3.1/reference-pulsar-admin#namespaces-create",children:(0,l.jsx)(a.code,{children:"create"})})," subcommand and specify the namespace by name:"]}),(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-shell",children:"\n$ pulsar-admin namespaces create test-tenant/test-namespace\n\n"})})]}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[PUT /admin/v2/namespaces/:tenant/:namespace/createNamespace](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/createNamespace)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().createNamespace(namespace);\n\n"})})})]}),"\n",(0,l.jsx)(a.h3,{id:"get-policies",children:"Get policies"}),"\n",(0,l.jsx)(a.p,{children:"You can fetch the current policies associated with a namespace at any time."}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsxs)(t.A,{value:"pulsar-admin",children:[(0,l.jsxs)(a.p,{children:["Use the ",(0,l.jsx)(a.a,{href:"/docs/2.3.1/reference-pulsar-admin#namespaces-policies",children:(0,l.jsx)(a.code,{children:"policies"})})," subcommand and specify the namespace:"]}),(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-shell",children:'\n$ pulsar-admin namespaces policies test-tenant/test-namespace\n{\n  "auth_policies": {\n    "namespace_auth": {},\n    "destination_auth": {}\n  },\n  "replication_clusters": [],\n  "bundles_activated": true,\n  "bundles": {\n    "boundaries": [\n      "0x00000000",\n      "0xffffffff"\n    ],\n    "numBundles": 1\n  },\n  "backlog_quota_map": {},\n  "persistence": null,\n  "latency_stats_sample_rate": {},\n  "message_ttl_in_seconds": 0,\n  "retention_policies": null,\n  "deleted": false\n}\n\n'})})]}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[GET /admin/v2/namespaces/:tenant/:namespace/getPolicies](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/getPolicies)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().getPolicies(namespace);\n\n"})})})]}),"\n",(0,l.jsx)(a.h3,{id:"list-namespaces",children:"List namespaces"}),"\n",(0,l.jsxs)(a.p,{children:["You can list all namespaces within a given Pulsar ",(0,l.jsx)(a.a,{href:"/docs/2.3.1/reference-terminology#tenant",children:"tenant"}),"."]}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsxs)(t.A,{value:"pulsar-admin",children:[(0,l.jsxs)(a.p,{children:["Use the ",(0,l.jsx)(a.a,{href:"/docs/2.3.1/reference-pulsar-admin#namespaces-list",children:(0,l.jsx)(a.code,{children:"list"})})," subcommand and specify the tenant:"]}),(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-shell",children:"\n$ pulsar-admin namespaces list test-tenant\ntest-tenant/ns1\ntest-tenant/ns2\n\n"})})]}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[GET /admin/v2/namespaces/:tenant/getTenantNamespaces](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/getTenantNamespaces)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().getNamespaces(tenant);\n\n"})})})]}),"\n",(0,l.jsx)(a.h3,{id:"delete-namespaces",children:"Delete namespaces"}),"\n",(0,l.jsx)(a.p,{children:"You can delete existing namespaces from a tenant."}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsxs)(t.A,{value:"pulsar-admin",children:[(0,l.jsxs)(a.p,{children:["Use the ",(0,l.jsx)(a.a,{href:"/docs/2.3.1/reference-pulsar-admin#namespaces-delete",children:(0,l.jsx)(a.code,{children:"delete"})})," subcommand and specify the namespace:"]}),(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-shell",children:"\n$ pulsar-admin namespaces delete test-tenant/ns1\n\n"})})]}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[DELETE /admin/v2/namespaces/:tenant/:namespace/deleteNamespace](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/deleteNamespace)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().deleteNamespace(namespace);\n\n"})})})]}),"\n",(0,l.jsx)(a.h3,{id:"configure-replication-clusters",children:"Configure replication clusters"}),"\n",(0,l.jsx)(a.h4,{id:"set-replication-cluster",children:"Set replication cluster"}),"\n",(0,l.jsx)(a.p,{children:"You can set replication clusters for a namespace to enable Pulsar to internally replicate the published messages from one colocation facility to another."}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces set-clusters test-tenant/ns1 \\\n  --clusters cl1\n\n"})})}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[POST /admin/v2/namespaces/:tenant/:namespace/replication/setNamespaceReplicationClusters](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/setNamespaceReplicationClusters)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().setNamespaceReplicationClusters(namespace, clusters);\n\n"})})})]}),"\n",(0,l.jsx)(a.h4,{id:"get-replication-cluster",children:"Get replication cluster"}),"\n",(0,l.jsx)(a.p,{children:"You can get the list of replication clusters for a given namespace."}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsxs)(t.A,{value:"pulsar-admin",children:[(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces get-clusters test-tenant/cl1/ns1\n\n"})}),(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\ncl2\n\n"})})]}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[GET /admin/v2/namespaces/:tenant/:namespace/replication/getNamespaceReplicationClusters](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/getNamespaceReplicationClusters)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().getNamespaceReplicationClusters(namespace)\n\n"})})})]}),"\n",(0,l.jsx)(a.h3,{id:"configure-backlog-quota-policies",children:"Configure backlog quota policies"}),"\n",(0,l.jsx)(a.h4,{id:"set-backlog-quota-policies",children:"Set backlog quota policies"}),"\n",(0,l.jsx)(a.p,{children:"Backlog quota helps the broker to restrict bandwidth/storage of a namespace once it reaches a certain threshold limit. Admin can set the limit and take corresponding action after the limit is reached."}),"\n",(0,l.jsxs)(a.ol,{children:["\n",(0,l.jsxs)(a.li,{children:["\n",(0,l.jsx)(a.p,{children:"producer_request_hold: broker holds but not persists produce request payload"}),"\n"]}),"\n",(0,l.jsxs)(a.li,{children:["\n",(0,l.jsx)(a.p,{children:"producer_exception: broker disconnects with the client by giving an exception"}),"\n"]}),"\n",(0,l.jsxs)(a.li,{children:["\n",(0,l.jsx)(a.p,{children:"consumer_backlog_eviction: broker starts discarding backlog messages"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(a.p,{children:"Backlog quota restriction can be taken care by defining restriction of backlog-quota-type: destination_storage."}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces set-backlog-quota --limit 10G --limitTime 36000 --policy producer_request_hold test-tenant/ns1\n\n"})})}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[POST /admin/v2/namespaces/:tenant/:namespace/backlogQuota/setBacklogQuota](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/setBacklogQuota)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().setBacklogQuota(namespace, new BacklogQuota(limit, limitTime, policy))\n\n"})})})]}),"\n",(0,l.jsx)(a.h4,{id:"get-backlog-quota-policies",children:"Get backlog quota policies"}),"\n",(0,l.jsx)(a.p,{children:"You can get a configured backlog quota for a given namespace."}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsxs)(t.A,{value:"pulsar-admin",children:[(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces get-backlog-quotas test-tenant/ns1\n\n"})}),(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-json",children:'\n{\n  "destination_storage": {\n    "limit": 10,\n    "policy": "producer_request_hold"\n  }\n}\n\n'})})]}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[GET /admin/v2/namespaces/:tenant/:namespace/backlogQuotaMap/getBacklogQuotaMap](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/getBacklogQuotaMap)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().getBacklogQuotaMap(namespace);\n\n"})})})]}),"\n",(0,l.jsx)(a.h4,{id:"remove-backlog-quota-policies",children:"Remove backlog quota policies"}),"\n",(0,l.jsx)(a.p,{children:"You can remove backlog quota policies for a given namespace."}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces remove-backlog-quota test-tenant/ns1\n\n"})})}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[DELETE /admin/v2/namespaces/:tenant/:namespace/backlogQuota/removeBacklogQuota](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/removeBacklogQuota)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().removeBacklogQuota(namespace, backlogQuotaType)\n\n"})})})]}),"\n",(0,l.jsx)(a.h3,{id:"configure-persistence-policies",children:"Configure persistence policies"}),"\n",(0,l.jsx)(a.h4,{id:"set-persistence-policies",children:"Set persistence policies"}),"\n",(0,l.jsx)(a.p,{children:"Persistence policies allow users to configure persistency-level for all topic messages under a given namespace."}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsxs)(a.li,{children:["\n",(0,l.jsx)(a.p,{children:"Bookkeeper-ack-quorum: Number of acks (guaranteed copies) to wait for each entry, default: 0"}),"\n"]}),"\n",(0,l.jsxs)(a.li,{children:["\n",(0,l.jsx)(a.p,{children:"Bookkeeper-ensemble: Number of bookies to use for a topic, default: 0"}),"\n"]}),"\n",(0,l.jsxs)(a.li,{children:["\n",(0,l.jsx)(a.p,{children:"Bookkeeper-write-quorum: How many writes to make of each entry, default: 0"}),"\n"]}),"\n",(0,l.jsxs)(a.li,{children:["\n",(0,l.jsx)(a.p,{children:"Ml-mark-delete-max-rate: Throttling rate of mark-delete operation (0 means no throttle), default: 0.0"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces set-persistence --bookkeeper-ack-quorum 2 --bookkeeper-ensemble 3 --bookkeeper-write-quorum 2 --ml-mark-delete-max-rate 0 test-tenant/ns1\n\n"})})}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[POST /admin/v2/namespaces/:tenant/:namespace/persistence/setPersistence](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/setPersistence)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().setPersistence(namespace,new PersistencePolicies(bookkeeperEnsemble, bookkeeperWriteQuorum,bookkeeperAckQuorum,managedLedgerMaxMarkDeleteRate))\n\n"})})})]}),"\n",(0,l.jsx)(a.h4,{id:"get-persistence-policies",children:"Get persistence policies"}),"\n",(0,l.jsx)(a.p,{children:"You can get the configured persistence policies of a given namespace."}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsxs)(t.A,{value:"pulsar-admin",children:[(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces get-persistence test-tenant/ns1\n\n"})}),(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-json",children:'\n{\n  "bookkeeperEnsemble": 3,\n  "bookkeeperWriteQuorum": 2,\n  "bookkeeperAckQuorum": 2,\n  "managedLedgerMaxMarkDeleteRate": 0\n}\n\n'})})]}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[GET /admin/v2/namespaces/:tenant/:namespace/persistence/getPersistence](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/getPersistence)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().getPersistence(namespace)\n\n"})})})]}),"\n",(0,l.jsx)(a.h3,{id:"configure-namespace-bundles",children:"Configure namespace bundles"}),"\n",(0,l.jsx)(a.h4,{id:"unload-namespace-bundles",children:"Unload namespace bundles"}),"\n",(0,l.jsx)(a.p,{children:"The namespace bundle is a virtual group of topics which belong to the same namespace. If the broker gets overloaded with the number of bundles, this command can help unload a bundle from that broker, so it can be served by some other less-loaded brokers. The namespace bundle ID ranges from 0x00000000 to 0xffffffff."}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces unload --bundle 0x00000000_0xffffffff test-tenant/ns1\n\n"})})}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[PUT /admin/v2/namespaces/:tenant/:namespace/{bundle](https://pulsar.apache.org/admin-rest-api?version=master&apiversion=v2#)/unload|operation/unloadNamespaceBundle?version=2.3.1}\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().unloadNamespaceBundle(namespace, bundle)\n\n"})})})]}),"\n",(0,l.jsx)(a.h4,{id:"split-namespace-bundles",children:"Split namespace bundles"}),"\n",(0,l.jsx)(a.p,{children:"One namespace bundle can contain multiple topics but can be served by only one broker. If a single bundle is creating an excessive load on a broker, an admin can split the bundle using the command below, permitting one or more of the new bundles to be unloaded, thus balancing the load across the brokers."}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces split-bundle --bundle 0x00000000_0xffffffff test-tenant/ns1\n\n"})})}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[PUT /admin/v2/namespaces/:tenant/:namespace/{bundle](https://pulsar.apache.org/admin-rest-api?version=master&apiversion=v2#)/split|operation/splitNamespaceBundle?version=2.3.1}\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().splitNamespaceBundle(namespace, bundle, unloadSplitBundles)\n\n"})})})]}),"\n",(0,l.jsx)(a.h3,{id:"configure-message-ttl",children:"Configure message TTL"}),"\n",(0,l.jsx)(a.h4,{id:"set-message-ttl",children:"Set message-ttl"}),"\n",(0,l.jsx)(a.p,{children:"You can configure the time to live (in seconds) duration for messages. In the example below, the message-ttl is set as 100s."}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces set-message-ttl --messageTTL 100 test-tenant/ns1\n\n"})})}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[POST /admin/v2/namespaces/:tenant/:namespace/messageTTL/setNamespaceMessageTTL](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/setNamespaceMessageTTL)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().setNamespaceMessageTTL(namespace, messageTTL)\n\n"})})})]}),"\n",(0,l.jsx)(a.h4,{id:"get-message-ttl",children:"Get message-ttl"}),"\n",(0,l.jsxs)(a.p,{children:["When the message-ttl for a namespace is set, you can use the command below to get the configured value. This example comtinues the example of the command ",(0,l.jsx)(a.code,{children:"set message-ttl"}),", so the returned value is 100(s)."]}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsxs)(t.A,{value:"pulsar-admin",children:[(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces get-message-ttl test-tenant/ns1\n\n"})}),(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n100\n\n"})})]}),(0,l.jsxs)(t.A,{value:"REST API",children:[(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[GET /admin/v2/namespaces/:tenant/:namespace/messageTTL/getNamespaceMessageTTL](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/getNamespaceMessageTTL)\n\n"})}),(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n100\n\n"})})]}),(0,l.jsxs)(t.A,{value:"Java",children:[(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().getNamespaceMessageTTL(namespace)\n\n"})}),(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n100\n\n"})})]})]}),"\n",(0,l.jsx)(a.h4,{id:"remove-message-ttl",children:"Remove message-ttl"}),"\n",(0,l.jsx)(a.p,{children:"Remove a message TTL of the configured namespace."}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces remove-message-ttl test-tenant/ns1\n\n"})})}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[DELETE /admin/v2/namespaces/:tenant/:namespace/messageTTL/removeNamespaceMessageTTL](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/removeNamespaceMessageTTL)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().removeNamespaceMessageTTL(namespace)\n\n"})})})]}),"\n",(0,l.jsx)(a.h3,{id:"clear-backlog",children:"Clear backlog"}),"\n",(0,l.jsx)(a.h4,{id:"clear-namespace-backlog",children:"Clear namespace backlog"}),"\n",(0,l.jsx)(a.p,{children:"It clears all message backlog for all the topics that belong to a specific namespace. You can also clear backlog for a specific subscription as well."}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces clear-backlog --sub my-subscription test-tenant/ns1\n\n"})})}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[POST /admin/v2/namespaces/:tenant/:namespace/clearBacklog/clearNamespaceBacklogForSubscription](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/clearNamespaceBacklogForSubscription)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().clearNamespaceBacklogForSubscription(namespace, subscription)\n\n"})})})]}),"\n",(0,l.jsx)(a.h4,{id:"clear-bundle-backlog",children:"Clear bundle backlog"}),"\n",(0,l.jsx)(a.p,{children:"It clears all message backlog for all the topics that belong to a specific NamespaceBundle. You can also clear backlog for a specific subscription as well."}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces clear-backlog  --bundle 0x00000000_0xffffffff  --sub my-subscription test-tenant/ns1\n\n"})})}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[POST /admin/v2/namespaces/:tenant/:namespace/{bundle](https://pulsar.apache.org/admin-rest-api?version=master&apiversion=v2#)/clearBacklog|operation?version=2.3.1/clearNamespaceBundleBacklogForSubscription}\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().clearNamespaceBundleBacklogForSubscription(namespace, bundle, subscription)\n\n"})})})]}),"\n",(0,l.jsx)(a.h3,{id:"configure-retention",children:"Configure retention"}),"\n",(0,l.jsx)(a.h4,{id:"set-retention",children:"Set retention"}),"\n",(0,l.jsx)(a.p,{children:"Each namespace contains multiple topics and the retention size (storage size) of each topic should not exceed a specific threshold or it should be stored for a certain period. This command helps configure the retention size and time of topics in a given namespace."}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces set-retention --size 100 --time 10 test-tenant/ns1\n\n"})})}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[POST /admin/v2/namespaces/:tenant/:namespace/retention/setRetention](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/setRetention)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().setRetention(namespace, new RetentionPolicies(retentionTimeInMin, retentionSizeInMB))\n\n"})})})]}),"\n",(0,l.jsx)(a.h4,{id:"get-retention",children:"Get retention"}),"\n",(0,l.jsx)(a.p,{children:"It shows retention information of a given namespace."}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsxs)(t.A,{value:"pulsar-admin",children:[(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces get-retention test-tenant/ns1\n\n"})}),(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-json",children:'\n{\n  "retentionTimeInMinutes": 10,\n  "retentionSizeInMB": 100\n}\n\n'})})]}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[GET /admin/v2/namespaces/:tenant/:namespace/retention/getRetention](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/getRetention)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().getRetention(namespace)\n\n"})})})]}),"\n",(0,l.jsx)(a.h3,{id:"configure-dispatch-throttling-for-topics",children:"Configure dispatch throttling for topics"}),"\n",(0,l.jsx)(a.h4,{id:"set-dispatch-throttling-for-topics",children:"Set dispatch throttling for topics"}),"\n",(0,l.jsxs)(a.p,{children:["It sets message dispatch rate for all the topics under a given namespace.\nThe dispatch rate can be restricted by the number of messages per X seconds (",(0,l.jsx)(a.code,{children:"msg-dispatch-rate"}),") or by the number of message-bytes per X second (",(0,l.jsx)(a.code,{children:"byte-dispatch-rate"}),").\ndispatch rate is in second and it can be configured with ",(0,l.jsx)(a.code,{children:"dispatch-rate-period"}),". Default value of ",(0,l.jsx)(a.code,{children:"msg-dispatch-rate"})," and ",(0,l.jsx)(a.code,{children:"byte-dispatch-rate"})," is -1 which\ndisables the throttling."]}),"\n",(0,l.jsx)(a.admonition,{type:"note",children:(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsxs)(a.li,{children:["If neither ",(0,l.jsx)(a.code,{children:"clusterDispatchRate"})," nor ",(0,l.jsx)(a.code,{children:"topicDispatchRate"})," is configured, dispatch throttling is disabled."]}),"\n",(0,l.jsxs)(a.li,{children:["If ",(0,l.jsx)(a.code,{children:"topicDispatchRate"})," is not configured, ",(0,l.jsx)(a.code,{children:"clusterDispatchRate"})," takes effect."]}),"\n",(0,l.jsxs)(a.li,{children:["If ",(0,l.jsx)(a.code,{children:"topicDispatchRate"})," is configured, ",(0,l.jsx)(a.code,{children:"topicDispatchRate"})," takes effect."]}),"\n"]})}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces set-dispatch-rate test-tenant/ns1 \\\n  --msg-dispatch-rate 1000 \\\n  --byte-dispatch-rate 1048576 \\\n  --dispatch-rate-period 1\n\n"})})}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[POST /admin/v2/namespaces/:tenant/:namespace/dispatchRate/setDispatchRate](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/setDispatchRate)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().setDispatchRate(namespace, new DispatchRate(1000, 1048576, 1))\n\n"})})})]}),"\n",(0,l.jsx)(a.h4,{id:"get-configured-message-rate-for-topics",children:"Get configured message-rate for topics"}),"\n",(0,l.jsx)(a.p,{children:"It shows configured message-rate for the namespace (topics under this namespace can dispatch this many messages per second)"}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsxs)(t.A,{value:"pulsar-admin",children:[(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces get-dispatch-rate test-tenant/ns1\n\n"})}),(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-json",children:'\n{\n  "dispatchThrottlingRatePerTopicInMsg" : 1000,\n  "dispatchThrottlingRatePerTopicInByte" : 1048576,\n  "ratePeriodInSecond" : 1\n}\n\n'})})]}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[GET /admin/v2/namespaces/:tenant/:namespace/dispatchRate/getDispatchRate](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/getDispatchRate)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().getDispatchRate(namespace)\n\n"})})})]}),"\n",(0,l.jsx)(a.h3,{id:"configure-dispatch-throttling-for-subscription",children:"Configure dispatch throttling for subscription"}),"\n",(0,l.jsx)(a.h4,{id:"set-dispatch-throttling-for-subscription",children:"Set dispatch throttling for subscription"}),"\n",(0,l.jsxs)(a.p,{children:["It sets message dispatch rate for all the subscription of topics under a given namespace.\nThe dispatch rate can be restricted by the number of messages per X seconds (",(0,l.jsx)(a.code,{children:"msg-dispatch-rate"}),") or by the number of message-bytes per X second (",(0,l.jsx)(a.code,{children:"byte-dispatch-rate"}),").\ndispatch rate is in second and it can be configured with ",(0,l.jsx)(a.code,{children:"dispatch-rate-period"}),". Default value of ",(0,l.jsx)(a.code,{children:"msg-dispatch-rate"})," and ",(0,l.jsx)(a.code,{children:"byte-dispatch-rate"})," is -1 which\ndisables the throttling."]}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces set-subscription-dispatch-rate test-tenant/ns1 \\\n  --msg-dispatch-rate 1000 \\\n  --byte-dispatch-rate 1048576 \\\n  --dispatch-rate-period 1\n\n"})})}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[POST /admin/v2/namespaces/:tenant/:namespace/subscriptionDispatchRate/setDispatchRate](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/setDispatchRate)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().setSubscriptionDispatchRate(namespace, new DispatchRate(1000, 1048576, 1))\n\n"})})})]}),"\n",(0,l.jsx)(a.h4,{id:"get-configured-message-rate-for-subscription",children:"Get configured message-rate for subscription"}),"\n",(0,l.jsx)(a.p,{children:"It shows configured message-rate for the namespace (topics under this namespace can dispatch this many messages per second)"}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsxs)(t.A,{value:"pulsar-admin",children:[(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces get-subscription-dispatch-rate test-tenant/ns1\n\n"})}),(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-json",children:'\n{\n  "dispatchThrottlingRatePerTopicInMsg" : 1000,\n  "dispatchThrottlingRatePerTopicInByte" : 1048576,\n  "ratePeriodInSecond" : 1\n}\n\n'})})]}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[GET /admin/v2/namespaces/:tenant/:namespace/subscriptionDispatchRate/getDispatchRate](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/getDispatchRate)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().getSubscriptionDispatchRate(namespace)\n\n"})})})]}),"\n",(0,l.jsx)(a.h3,{id:"configure-dispatch-throttling-for-replicator",children:"Configure dispatch throttling for replicator"}),"\n",(0,l.jsx)(a.h4,{id:"set-dispatch-throttling-for-replicator",children:"Set dispatch throttling for replicator"}),"\n",(0,l.jsxs)(a.p,{children:["It sets message dispatch rate for all the replicator between replication clusters under a given namespace.\nThe dispatch rate can be restricted by the number of messages per X seconds (",(0,l.jsx)(a.code,{children:"msg-dispatch-rate"}),") or by the number of message-bytes per X second (",(0,l.jsx)(a.code,{children:"byte-dispatch-rate"}),").\ndispatch rate is in second and it can be configured with ",(0,l.jsx)(a.code,{children:"dispatch-rate-period"}),". Default value of ",(0,l.jsx)(a.code,{children:"msg-dispatch-rate"})," and ",(0,l.jsx)(a.code,{children:"byte-dispatch-rate"})," is -1 which\ndisables the throttling."]}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces set-replicator-dispatch-rate test-tenant/ns1 \\\n  --msg-dispatch-rate 1000 \\\n  --byte-dispatch-rate 1048576 \\\n  --dispatch-rate-period 1\n\n"})})}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[POST /admin/v2/namespaces/:tenant/:namespace/replicatorDispatchRate/setDispatchRate](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/setDispatchRate)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().setReplicatorDispatchRate(namespace, new DispatchRate(1000, 1048576, 1))\n\n"})})})]}),"\n",(0,l.jsx)(a.h4,{id:"get-configured-message-rate-for-replicator",children:"Get configured message-rate for replicator"}),"\n",(0,l.jsx)(a.p,{children:"It shows configured message-rate for the namespace (topics under this namespace can dispatch this many messages per second)"}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsxs)(t.A,{value:"pulsar-admin",children:[(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces get-replicator-dispatch-rate test-tenant/ns1\n\n"})}),(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-json",children:'\n{\n  "dispatchThrottlingRatePerTopicInMsg" : 1000,\n  "dispatchThrottlingRatePerTopicInByte" : 1048576,\n  "ratePeriodInSecond" : 1\n}\n\n'})})]}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[GET /admin/v2/namespaces/:tenant/:namespace/replicatorDispatchRate/getDispatchRate](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/getDispatchRate)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().getReplicatorDispatchRate(namespace)\n\n"})})})]}),"\n",(0,l.jsx)(a.h3,{id:"configure-deduplication-snapshot-interval",children:"Configure deduplication snapshot interval"}),"\n",(0,l.jsx)(a.h4,{id:"get-deduplication-snapshot-interval",children:"Get deduplication snapshot interval"}),"\n",(0,l.jsxs)(a.p,{children:["It shows configured ",(0,l.jsx)(a.code,{children:"deduplicationSnapshotInterval"})," for a namespace (Each topic under the namespace will take a deduplication snapshot according to this interval)"]}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces get-deduplication-snapshot-interval test-tenant/ns1\n\n"})})}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[GET /admin/v2/namespaces/:tenant/:namespace/deduplicationSnapshotInterval?version=2.3.1](https://pulsar.apache.org/admin-rest-api?version=master&apiversion=v2#)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().getDeduplicationSnapshotInterval(namespace)\n\n"})})})]}),"\n",(0,l.jsx)(a.h4,{id:"set-deduplication-snapshot-interval",children:"Set deduplication snapshot interval"}),"\n",(0,l.jsxs)(a.p,{children:["Set configured ",(0,l.jsx)(a.code,{children:"deduplicationSnapshotInterval"})," for a namespace. Each topic under the namespace will take a deduplication snapshot according to this interval.\n",(0,l.jsx)(a.code,{children:"brokerDeduplicationEnabled"})," must be set to ",(0,l.jsx)(a.code,{children:"true"})," for this property to take effect."]}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces set-deduplication-snapshot-interval test-tenant/ns1 --interval 1000\n\n"})})}),(0,l.jsxs)(t.A,{value:"REST API",children:[(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[POST /admin/v2/namespaces/:tenant/:namespace/deduplicationSnapshotInterval?version=2.3.1](https://pulsar.apache.org/admin-rest-api?version=master&apiversion=v2#)\n\n"})}),(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-json",children:'\n{\n  "interval": 1000\n}\n\n'})})]}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().setDeduplicationSnapshotInterval(namespace, 1000)\n\n"})})})]}),"\n",(0,l.jsx)(a.h4,{id:"remove-deduplication-snapshot-interval",children:"Remove deduplication snapshot interval"}),"\n",(0,l.jsxs)(a.p,{children:["Remove configured ",(0,l.jsx)(a.code,{children:"deduplicationSnapshotInterval"})," of a namespace (Each topic under the namespace will take a deduplication snapshot according to this interval)"]}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST API",value:"REST API"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n$ pulsar-admin namespaces remove-deduplication-snapshot-interval test-tenant/ns1\n\n"})})}),(0,l.jsx)(t.A,{value:"REST API",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[POST /admin/v2/namespaces/:tenant/:namespace/deduplicationSnapshotInterval?version=2.3.1](https://pulsar.apache.org/admin-rest-api?version=master&apiversion=v2#)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().removeDeduplicationSnapshotInterval(namespace)\n\n"})})})]}),"\n",(0,l.jsx)(a.h3,{id:"unload-namespaces-from-a-broker",children:"Unload namespaces from a broker"}),"\n",(0,l.jsxs)(a.p,{children:["You can unload a namespace, or a ",(0,l.jsx)(a.a,{href:"/docs/2.3.1/reference-terminology#namespace-bundle",children:"namespace bundle"}),", from the Pulsar ",(0,l.jsx)(a.a,{href:"/docs/2.3.1/reference-terminology#broker",children:"broker"})," that is currently responsible for it."]}),"\n",(0,l.jsx)(a.h4,{id:"pulsar-admin",children:"pulsar-admin"}),"\n",(0,l.jsxs)(a.p,{children:["Use the ",(0,l.jsx)(a.a,{href:"/docs/2.3.1/reference-pulsar-admin#unload",children:(0,l.jsx)(a.code,{children:"unload"})})," subcommand of the ",(0,l.jsx)(a.a,{href:"/docs/2.3.1/reference-pulsar-admin#namespaces",children:(0,l.jsx)(a.code,{children:"namespaces"})})," command."]}),"\n",(0,l.jsxs)(r.A,{defaultValue:"pulsar-admin",values:[{label:"pulsar-admin",value:"pulsar-admin"},{label:"REST",value:"REST"},{label:"Java",value:"Java"}],children:[(0,l.jsx)(t.A,{value:"pulsar-admin",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-shell",children:"\n$ pulsar-admin namespaces unload my-tenant/my-ns\n\n"})})}),(0,l.jsx)(t.A,{value:"REST",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"\n[PUT /admin/v2/namespaces/:tenant/:namespace/unload/unloadNamespace](https://pulsar.apache.org/admin-rest-api?version=2.3.1&apiversion=v2#operation/unloadNamespace)\n\n"})})}),(0,l.jsx)(t.A,{value:"Java",children:(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-java",children:"\nadmin.namespaces().unload(namespace)\n\n"})})})]})]})}function h(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,l.jsx)(a,{...e,children:(0,l.jsx)(u,{...e})}):u(e)}},19365:(e,a,n)=>{n.d(a,{A:()=>r});n(96540);var s=n(34164);const l={tabItem:"tabItem_Ymn6"};var i=n(74848);function r(e){let{children:a,hidden:n,className:r}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,s.A)(l.tabItem,r),hidden:n,children:a})}},89089:(e,a,n)=>{n.d(a,{A:()=>T});var s=n(96540),l=n(34164),i=n(23104),r=n(56347),t=n(205),c=n(57485),d=n(31682),o=n(70679);function p(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:a,children:n}=e;return(0,s.useMemo)((()=>{const e=a??function(e){return p(e).map((e=>{let{props:{value:a,label:n,attributes:s,default:l}}=e;return{value:a,label:n,attributes:s,default:l}}))}(n);return function(e){const a=(0,d.XI)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error(`Docusaurus error: Duplicate values "${a.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[a,n])}function h(e){let{value:a,tabValues:n}=e;return n.some((e=>e.value===a))}function m(e){let{queryString:a=!1,groupId:n}=e;const l=(0,r.W6)(),i=function(e){let{queryString:a=!1,groupId:n}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:a,groupId:n});return[(0,c.aZ)(i),(0,s.useCallback)((e=>{if(!i)return;const a=new URLSearchParams(l.location.search);a.set(i,e),l.replace({...l.location,search:a.toString()})}),[i,l])]}function v(e){const{defaultValue:a,queryString:n=!1,groupId:l}=e,i=u(e),[r,c]=(0,s.useState)((()=>function(e){let{defaultValue:a,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!h({value:a,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${a}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return a}const s=n.find((e=>e.default))??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:a,tabValues:i}))),[d,p]=m({queryString:n,groupId:l}),[v,j]=function(e){let{groupId:a}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(a),[l,i]=(0,o.Dv)(n);return[l,(0,s.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:l}),x=(()=>{const e=d??v;return h({value:e,tabValues:i})?e:null})();(0,t.A)((()=>{x&&c(x)}),[x]);return{selectedValue:r,selectValue:(0,s.useCallback)((e=>{if(!h({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);c(e),p(e),j(e)}),[p,j,i]),tabValues:i}}var j=n(92303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=n(74848);function b(e){let{className:a,block:n,selectedValue:s,selectValue:r,tabValues:t}=e;const c=[],{blockElementScrollPositionUntilNextRender:d}=(0,i.a_)(),o=e=>{const a=e.currentTarget,n=c.indexOf(a),l=t[n].value;l!==s&&(d(a),r(l))},p=e=>{let a=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const n=c.indexOf(e.currentTarget)+1;a=c[n]??c[0];break}case"ArrowLeft":{const n=c.indexOf(e.currentTarget)-1;a=c[n]??c[c.length-1];break}}a?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.A)("tabs",{"tabs--block":n},a),children:t.map((e=>{let{value:a,label:n,attributes:i}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:s===a?0:-1,"aria-selected":s===a,ref:e=>c.push(e),onKeyDown:p,onClick:o,...i,className:(0,l.A)("tabs__item",x.tabItem,i?.className,{"tabs__item--active":s===a}),children:n??a},a)}))})}function f(e){let{lazy:a,children:n,selectedValue:i}=e;const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(a){const e=r.find((e=>e.props.value===i));return e?(0,s.cloneElement)(e,{className:(0,l.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:r.map(((e,a)=>(0,s.cloneElement)(e,{key:a,hidden:e.props.value!==i})))})}function A(e){const a=v(e);return(0,g.jsxs)("div",{className:(0,l.A)("tabs-container",x.tabList),children:[(0,g.jsx)(b,{...a,...e}),(0,g.jsx)(f,{...a,...e})]})}function T(e){const a=(0,j.A)();return(0,g.jsx)(A,{...e,children:p(e.children)},String(a))}},28453:(e,a,n)=>{n.d(a,{R:()=>r,x:()=>t});var s=n(96540);const l={},i=s.createContext(l);function r(e){const a=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function t(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(i.Provider,{value:a},e.children)}}}]);