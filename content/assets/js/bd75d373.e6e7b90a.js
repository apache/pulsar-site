"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[94388],{81326:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>h,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"versioned/pulsar-3.2.1","title":"Apache Pulsar 3.2.1","description":"2024-03-08","source":"@site/release-notes/versioned/pulsar-3.2.1.md","sourceDirName":"versioned","slug":"/versioned/pulsar-3.2.1","permalink":"/release-notes/versioned/pulsar-3.2.1","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/release-notes/versioned/pulsar-3.2.1.md","tags":[],"version":"current","frontMatter":{"id":"pulsar-3.2.1","title":"Apache Pulsar 3.2.1","sidebar_label":"Apache Pulsar 3.2.1"}}');var i=t(74848),r=t(28453);const l={id:"pulsar-3.2.1",title:"Apache Pulsar 3.2.1",sidebar_label:"Apache Pulsar 3.2.1"},a=void 0,h={},c=[{value:"2024-03-08",id:"2024-03-08",level:4},{value:"Broker",id:"broker",level:3},{value:"Pulsar IO and Pulsar Functions",id:"pulsar-io-and-pulsar-functions",level:3},{value:"CLI",id:"cli",level:3},{value:"Others",id:"others",level:3},{value:"Library updates",id:"library-updates",level:3}];function o(e){const s={a:"a",blockquote:"blockquote",h3:"h3",h4:"h4",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h4,{id:"2024-03-08",children:"2024-03-08"}),"\n",(0,i.jsx)(s.h3,{id:"broker",children:"Broker"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Consistently add fine-grain authorization to REST API ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22202",children:"#22202"})]}),"\n",(0,i.jsxs)(s.li,{children:["Add fine-grain authorization to retention admin API ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22163",children:"#22163"})]}),"\n",(0,i.jsxs)(s.li,{children:["Print non log when delete partitioned topic failed ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22153",children:"#22153"})]}),"\n",(0,i.jsxs)(s.li,{children:["Fix broker not starting when both transactions and the Extensible Load Manager are enabled ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22139",children:"#22139"})]}),"\n",(0,i.jsxs)(s.li,{children:["Return getOwnerAsync without waiting on source broker upon Assigning and Releasing and handle role change during role init ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22112",children:"#22112"})]}),"\n",(0,i.jsxs)(s.li,{children:["Cache the internal writer when sent to system topic. ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22099",children:"#22099"})]}),"\n",(0,i.jsxs)(s.li,{children:["Enabling batch causes negative unackedMessages due to ack and delivery concurrency ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22090",children:"#22090"})]}),"\n",(0,i.jsxs)(s.li,{children:["Support running docker container with gid != 0 ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22081",children:"#22081"})]}),"\n",(0,i.jsxs)(s.li,{children:["Add an error log to troubleshoot the failure of starting broker registry ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22065",children:"#22065"})]}),"\n",(0,i.jsxs)(s.li,{children:["Set ServiceUnitStateChannel topic compaction threshold explicitly, improve getOwnerAsync, and fix other bugs ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22064",children:"#22064"})]}),"\n",(0,i.jsxs)(s.li,{children:["Fix hash collision when using a consumer name that ends with a number ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22053",children:"#22053"})]}),"\n",(0,i.jsxs)(s.li,{children:["Sanitize values before logging in apply-config-from-env.py script ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22044",children:"#22044"})]}),"\n",(0,i.jsxs)(s.li,{children:["Fix can not subscribe partitioned topic with a suffix-matched regexp ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22025",children:"#22025"})]}),"\n",(0,i.jsxs)(s.li,{children:["Do not retain the data in the system topic ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22022",children:"#22022"})]}),"\n",(0,i.jsxs)(s.li,{children:["Subscription stuck due to called Admin API analyzeSubscriptionBacklog ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22019",children:"#22019"})]}),"\n",(0,i.jsxs)(s.li,{children:["Do not try to open ML when the topic meta does not exist and do not expect to create a new one ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22004",children:"#22004"})]}),"\n",(0,i.jsxs)(s.li,{children:["Do not print an Error log when responding to HTTP-404 when calling Admin API and the topic does not exist ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21995",children:"#21995"})]}),"\n",(0,i.jsxs)(s.li,{children:["Do not close the socket if lookup failed due to LockBusyException ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21993",children:"#21993"})]}),"\n",(0,i.jsxs)(s.li,{children:["Support setting autoSkipNonRecoverableData dynamically in PersistentMessageExpiryMonitor ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21991",children:"#21991"})]}),"\n",(0,i.jsxs)(s.li,{children:["Add timeout for health check read ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21990",children:"#21990"})]}),"\n",(0,i.jsxs)(s.li,{children:["Fix schema deletion error when deleting a partitioned topic with many partitions and schema ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21977",children:"#21977"})]}),"\n",(0,i.jsxs)(s.li,{children:["Defer the ownership checks if the owner is inactive (ExtensibleLoadManager) ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21811",children:"#21811"})]}),"\n",(0,i.jsxs)(s.li,{children:["Fix compaction/replication data loss when expire messages ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21865",children:"#21865"})]}),"\n",(0,i.jsxs)(s.li,{children:["Skip loading the NAR packages if not configured ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21867",children:"#21867"})]}),"\n",(0,i.jsxs)(s.li,{children:["Improve NamespaceUnloadStrategy error message ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21880",children:"#21880"})]}),"\n",(0,i.jsxs)(s.li,{children:["Don't rollover empty ledgers based on inactivity ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21893",children:"#21893"})]}),"\n",(0,i.jsxs)(s.li,{children:["Expire messages according to ledger close time to avoid client clock skew ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21940",children:"#21940"})]}),"\n",(0,i.jsxs)(s.li,{children:["Fix reader stuck when read from compacted topic with read compact mode disable ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21969",children:"#21969"})]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"pulsar-io-and-pulsar-functions",children:"Pulsar IO and Pulsar Functions"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["[FN] Add configuration for connector & functions package url sources ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22184",children:"#22184"})]}),"\n",(0,i.jsxs)(s.li,{children:['[FN] Add missing "exception" argument to some log.error ',(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22140",children:"#22140"})]}),"\n",(0,i.jsxs)(s.li,{children:["[FN] Prevent putstate uses empty values ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22127",children:"#22127"})]}),"\n",(0,i.jsxs)(s.li,{children:["[FN] Optimize Function Worker startup by lazy loading and direct zip/bytecode access ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22122",children:"#22122"})]}),"\n",(0,i.jsxs)(s.li,{children:["[FN] Prevent create state table from API calls for non-exists instances ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22107",children:"#22107"})]}),"\n",(0,i.jsxs)(s.li,{children:["[FN] Use unified PackageManagement service to download packages ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21955",children:"#21955"})]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"cli",children:"CLI"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["[Admin] Expose the offload threshold in seconds to the admin ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22101",children:"#22101"})]}),"\n",(0,i.jsxs)(s.li,{children:["[CLI] Fix the bug when set-retention specified size with -T ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22150",children:"#22150"})]}),"\n",(0,i.jsxs)(s.li,{children:["[CLI] Error out when --destinationBroker is set when --bundle is empty ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21879",children:"#21879"})]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"others",children:"Others"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["[MISC] Add a check for the input time value ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22023",children:"#22023"})]}),"\n",(0,i.jsxs)(s.li,{children:["[Proxy] Add a check for brokerServiceURL that does not support multi uri yet ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21972",children:"#21972"})]}),"\n",(0,i.jsxs)(s.li,{children:["[TX] Get previous position by managed ledger ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22024",children:"#22024"})]}),"\n",(0,i.jsxs)(s.li,{children:["[ML] Fix retry mechanism of deleting ledgers to invalidate ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21869",children:"#21869"})]}),"\n",(0,i.jsxs)(s.li,{children:["[ML] Filter out deleted entries before read entries from ledger ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21739",children:"#21739"})]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"library-updates",children:"Library updates"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Upgrade Jetty to 9.4.54.v20240208 to address CVE-2024-22201 ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22144",children:"#22144"})]}),"\n",(0,i.jsxs)(s.li,{children:["pgrade commons-compress to 1.26.0 ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/22086",children:"#22086"})]}),"\n",(0,i.jsxs)(s.li,{children:["Upgrade BookKeeper dependency to 4.16.4 ",(0,i.jsx)(s.a,{href:"https://github.com/apache/pulsar/pull/21983",children:"#21983"})]}),"\n"]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"A special thanks to the following contributors who contributed to Pulsar 3.2.1:\nmattisonchao, lhotari, poorbarcode, Technoboy-, jiangpengcheng, dragosvictor, freeznet, liangyepianzhou, heesung-sn, zymap, massakam, thetumbled, BewareMyPower, chenhongSZ, Shawyeok, hangc0276, 315157973, coderzc, dao-jun."}),"\n"]})]})}function p(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>l,x:()=>a});var n=t(96540);const i={},r=n.createContext(i);function l(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);