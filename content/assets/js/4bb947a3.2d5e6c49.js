"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[41877],{44679:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>h,contentTitle:()=>t,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"versioned/pulsar-2.6.1","title":"Apache Pulsar 2.6.1","description":"2020-08-21","source":"@site/release-notes/versioned/pulsar-2.6.1.md","sourceDirName":"versioned","slug":"/versioned/pulsar-2.6.1","permalink":"/release-notes/versioned/pulsar-2.6.1","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/release-notes/versioned/pulsar-2.6.1.md","tags":[],"version":"current","frontMatter":{"id":"pulsar-2.6.1","title":"Apache Pulsar 2.6.1","sidebar_label":"Apache Pulsar 2.6.1"}}');var i=s(74848),n=s(28453);const a={id:"pulsar-2.6.1",title:"Apache Pulsar 2.6.1",sidebar_label:"Apache Pulsar 2.6.1"},t=void 0,h={},c=[{value:"2020-08-21",id:"2020-08-21",level:4},{value:"Broker",id:"broker",level:4},{value:"Zookeeper",id:"zookeeper",level:4},{value:"Pulsar SQL",id:"pulsar-sql",level:4},{value:"Pulsar Schema",id:"pulsar-schema",level:4},{value:"Pulsar Functions",id:"pulsar-functions",level:4},{value:"Go Function",id:"go-function",level:4},{value:"Pulsar Perf",id:"pulsar-perf",level:4}];function o(e){const r={a:"a",code:"code",h4:"h4",li:"li",p:"p",ul:"ul",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h4,{id:"2020-08-21",children:"2020-08-21"}),"\n",(0,i.jsx)(r.p,{children:"The following lists fixes and enhancements in 2.6.1 release."}),"\n",(0,i.jsx)(r.h4,{id:"broker",children:"Broker"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["[Broker] Limit batch size to the minimum of the ",(0,i.jsx)(r.code,{children:"maxNumberOfMessages"})," and ",(0,i.jsx)(r.code,{children:"maxSizeOfMessages"})," ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/6865",children:"#6865"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix hash range conflict issue in Key_Shared with sticky hash range ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7231",children:"#7231"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix the issue that get lookup permission error ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7234",children:"#7234"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Update Jetty to version 9.4.29 ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7235",children:"#7235"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix readers backlog stats after data is skipped ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7236",children:"#7236"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix the regression in ",(0,i.jsx)(r.code,{children:"isSupperUser"})," ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7241",children:"#7241"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Avoid introducing null read position for the managed cursor ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7264",children:"#7264"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix permission operation check on setRetention admin operation ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7281",children:"#7281"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix error in creation of non-durable cursor ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7355",children:"#7355"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix bug related to managedLedger properties ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7357",children:"#7357"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Add tenant name check in list namespaces function ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7369",children:"#7369"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Avoid the NPE occurs in method ",(0,i.jsx)(r.code,{children:"ManagedLedgerImpl.isOffloadedNeedsDelete"})," ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7389",children:"#7389"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7401",children:"#7401"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Avoid NPEs at ledger creation when DNS failures happen ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7403",children:"#7403"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Support decompression payload if needed in KeyShared subscription ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7416",children:"#7416"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix update-cluster cli updates proxy-url ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7422",children:"#7422"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Handle ",(0,i.jsx)(r.code,{children:"NotAllowed Exception"})," at the client side ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7430",children:"#7430"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Shade jclouds to avoid Gson conflict ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7435",children:"#7435"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7444",children:"#7444"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7447",children:"#7447"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix update partitions error for non-persistent topic ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7459",children:"#7459"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Use CGroup CPU usage when present ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7475",children:"#7475"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7483",children:"#7483"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Get last entry is trying to read entry -1 ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7495",children:"#7495"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix timeout opening managed ledger operation ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7506",children:"#7506"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fixes the exception that occurred when the geo-replication policy is updated ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7514",children:"#7514"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Update Jackson to version 2.11.1 and ensure all dependencies are pinned ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7519",children:"#7519"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix protobuf generation on handling repeated long number ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7540",children:"#7540"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Add more logging to the auth operations on failure ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7567",children:"#7567"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7587",children:"#7587"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Support configuring ",(0,i.jsx)(r.code,{children:"DeleteInactiveTopic"})," setting in namespace policy ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7598",children:"#7598"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix NPE when using advertisedListeners ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7620",children:"#7620"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix the issue that deduplication cursor can not be deleted after disabling message deduplication ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7656",children:"#7656"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Add missing AuthenticationDataSource to canConsumeAsync method call ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7694",children:"#7694"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Close the previous reader of the health check topic ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7724",children:"#7724"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Change some WebApplicationException log level to debug ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7725",children:"#7725"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Replay delayed messages in order ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7731",children:"#7731"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix the wrong returned URL for lookup when specify advertised listener ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7737",children:"#7737"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix topic getting recreated immediately after deletion ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7524",children:"#7524"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Set default root log level to debug ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7789",children:"#7789"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] Fix producer stucks on creating ledger timeout ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7319",children:"#7319"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Broker] AllowTopicOperationAsync should check the original role is super user ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7788",children:"#7788"})]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"zookeeper",children:"Zookeeper"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["[Zookeeper] Use hostname for bookie rackawareness mapping ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7361",children:"#7361"})]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"pulsar-sql",children:"Pulsar SQL"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["[Pulsar SQL] Make Pulsar SQL get correct offload configurations ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7701",children:"#7701"})]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"pulsar-schema",children:"Pulsar Schema"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["[Schema] Fix the error that occurs when getting schemaName by partitioned topic name ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7708",children:"#7708"})]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"pulsar-functions",children:"Pulsar Functions"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["[Pulsar Function] Use fully qualified hostname as default to advertise worker ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7360",children:"#7360"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Function] Fix the function BC issue introduced in release 2.6.0 ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7528",children:"#7528"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Function] Improve security setting of Pulsar Functions ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7578",children:"#7578"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Pulsar Function] Differentiate authorization between source/sink/function operations ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7466",children:"#7466"})]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"go-function",children:"Go Function"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["[Go Function] Fix Go instance config port ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7322",children:"#7322"})]}),"\n",(0,i.jsxs)(r.li,{children:["[Go Function] Remove timestamp from metrics ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7539",children:"#7539"})]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"pulsar-perf",children:"Pulsar Perf"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["[Pulsar Perf] Supports ",(0,i.jsx)(r.code,{children:"tlsAllowInsecureConnection"})," in pulsar-perf produce/consume/read ",(0,i.jsx)(r.a,{href:"https://github.com/apache/pulsar/pull/7300",children:"#7300"})]}),"\n"]})]})}function p(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},28453:(e,r,s)=>{s.d(r,{R:()=>a,x:()=>t});var l=s(96540);const i={},n=l.createContext(i);function a(e){const r=l.useContext(n);return l.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),l.createElement(n.Provider,{value:r},e.children)}}}]);