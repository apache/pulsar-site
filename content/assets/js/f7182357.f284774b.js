"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[85184],{60018:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"admin-api-persistent-topics","title":"Managing persistent topics","description":"Persistent helps to access topic which is a logical endpoint for publishing and consuming messages. Producers publish messages to the topic and consumers subscribe to the topic, to consume messages published to the topic.","source":"@site/versioned_docs/version-2.5.2/admin-api-persistent-topics.md","sourceDirName":".","slug":"/admin-api-persistent-topics","permalink":"/docs/2.5.2/admin-api-persistent-topics","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/pulsar-site/edit/main/versioned_docs/version-2.5.2/admin-api-persistent-topics.md","tags":[],"version":"2.5.2","frontMatter":{"id":"admin-api-persistent-topics","title":"Managing persistent topics","sidebar_label":"Persistent topics","original_id":"admin-api-persistent-topics"},"sidebar":"docsSidebar","previous":{"title":"Permissions","permalink":"/docs/2.5.2/admin-api-permissions"},"next":{"title":"Non-Persistent topics","permalink":"/docs/2.5.2/admin-api-non-persistent-topics"}}');var r=n(74848),t=n(28453);const a={id:"admin-api-persistent-topics",title:"Managing persistent topics",sidebar_label:"Persistent topics",original_id:"admin-api-persistent-topics"},l=void 0,c={},o=[{value:"Persistent topics resources",id:"persistent-topics-resources",level:2},{value:"List of topics",id:"list-of-topics",level:3},{value:"pulsar-admin",id:"pulsar-admin",level:4},{value:"REST API",id:"rest-api",level:4},{value:"Java",id:"java",level:4},{value:"Grant permission",id:"grant-permission",level:3},{value:"pulsar-admin",id:"pulsar-admin-1",level:4},{value:"REST API",id:"rest-api-1",level:4},{value:"Java",id:"java-1",level:4},{value:"Get permission",id:"get-permission",level:3},{value:"pulsar-admin",id:"pulsar-admin-2",level:4},{value:"REST API",id:"rest-api-2",level:4},{value:"Java",id:"java-2",level:4},{value:"Revoke permission",id:"revoke-permission",level:3},{value:"pulsar-admin",id:"pulsar-admin-3",level:4},{value:"REST API",id:"rest-api-3",level:4},{value:"Java",id:"java-3",level:4},{value:"Delete topic",id:"delete-topic",level:3},{value:"pulsar-admin",id:"pulsar-admin-4",level:4},{value:"REST API",id:"rest-api-4",level:4},{value:"Java",id:"java-4",level:4},{value:"Unload topic",id:"unload-topic",level:3},{value:"pulsar-admin",id:"pulsar-admin-5",level:4},{value:"REST API",id:"rest-api-5",level:4},{value:"Java",id:"java-5",level:4},{value:"Get stats",id:"get-stats",level:3},{value:"pulsar-admin",id:"pulsar-admin-6",level:4},{value:"REST API",id:"rest-api-6",level:4},{value:"Java",id:"java-6",level:4},{value:"Get internal stats",id:"get-internal-stats",level:3},{value:"pulsar-admin",id:"pulsar-admin-7",level:4},{value:"REST API",id:"rest-api-7",level:4},{value:"Java",id:"java-7",level:4},{value:"Peek messages",id:"peek-messages",level:3},{value:"pulsar-admin",id:"pulsar-admin-8",level:4},{value:"REST API",id:"rest-api-8",level:4},{value:"Java",id:"java-8",level:4},{value:"Skip messages",id:"skip-messages",level:3},{value:"pulsar-admin",id:"pulsar-admin-9",level:4},{value:"REST API",id:"rest-api-9",level:4},{value:"Java",id:"java-9",level:4},{value:"Skip all messages",id:"skip-all-messages",level:3},{value:"pulsar-admin",id:"pulsar-admin-10",level:4},{value:"REST API",id:"rest-api-10",level:4},{value:"Java",id:"java-10",level:4},{value:"Reset cursor",id:"reset-cursor",level:3},{value:"pulsar-admin",id:"pulsar-admin-11",level:4},{value:"REST API",id:"rest-api-11",level:4},{value:"Java",id:"java-11",level:4},{value:"Lookup of topic",id:"lookup-of-topic",level:3},{value:"pulsar-admin",id:"pulsar-admin-12",level:4},{value:"REST API",id:"rest-api-12",level:4},{value:"Java",id:"java-12",level:4},{value:"Get bundle",id:"get-bundle",level:3},{value:"pulsar-admin",id:"pulsar-admin-13",level:4},{value:"REST API",id:"rest-api-13",level:4},{value:"Java",id:"java-13",level:4},{value:"Get subscriptions",id:"get-subscriptions",level:3},{value:"pulsar-admin",id:"pulsar-admin-14",level:4},{value:"REST API",id:"rest-api-14",level:4},{value:"Java",id:"java-14",level:4},{value:"Unsubscribe",id:"unsubscribe",level:3},{value:"pulsar-admin",id:"pulsar-admin-15",level:4},{value:"REST API",id:"rest-api-15",level:4},{value:"Java",id:"java-15",level:4},{value:"Last Message Id",id:"last-message-id",level:3},{value:"REST API",id:"rest-api-16",level:4},{value:"Java",id:"java-16",level:4}];function d(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.p,{children:"Persistent helps to access topic which is a logical endpoint for publishing and consuming messages. Producers publish messages to the topic and consumers subscribe to the topic, to consume messages published to the topic."}),"\n",(0,r.jsx)(s.p,{children:"In all of the instructions and commands below, the topic name structure is:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"\npersistent://tenant/namespace/topic\n\n"})}),"\n",(0,r.jsx)(s.h2,{id:"persistent-topics-resources",children:"Persistent topics resources"}),"\n",(0,r.jsx)(s.h3,{id:"list-of-topics",children:"List of topics"}),"\n",(0,r.jsx)(s.p,{children:"It provides a list of persistent topics exist under a given namespace."}),"\n",(0,r.jsx)(s.h4,{id:"pulsar-admin",children:"pulsar-admin"}),"\n",(0,r.jsxs)(s.p,{children:["List of topics can be fetched using ",(0,r.jsx)(s.a,{href:"../../reference/CliTools#list",children:(0,r.jsx)(s.code,{children:"list"})})," command."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"\n$ pulsar-admin topics list \\\n  my-tenant/my-namespace\n\n"})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.2&apiversion=v2#operation/getList",children:["GET /admin/v2/",":schema","/",":tenant","/",":namespace","/getList"]})}),"\n",(0,r.jsx)(s.h4,{id:"java",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-java",children:'\nString namespace = "my-tenant/my-namespace";\nadmin.persistentTopics().getList(namespace);\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"grant-permission",children:"Grant permission"}),"\n",(0,r.jsx)(s.p,{children:"It grants permissions on a client role to perform specific actions on a given topic."}),"\n",(0,r.jsx)(s.h4,{id:"pulsar-admin-1",children:"pulsar-admin"}),"\n",(0,r.jsxs)(s.p,{children:["Permission can be granted using ",(0,r.jsx)(s.a,{href:"../../reference/CliTools#grant-permission",children:(0,r.jsx)(s.code,{children:"grant-permission"})})," command."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"\n$ pulsar-admin topics grant-permission \\\n  --actions produce,consume --role application1 \\\n  persistent://test-tenant/ns1/tp1 \\\n\n"})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api-1",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.2&apiversion=v2#operation/grantPermissionsOnTopic",children:["POST /admin/v2/",":schema","/",":tenant","/",":namespace","/",":topic","/permissions/",":role","/grantPermissionsOnTopic"]})}),"\n",(0,r.jsx)(s.h4,{id:"java-1",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-java",children:'\nString topic = "persistent://my-tenant/my-namespace/my-topic";\nString role = "test-role";\nSet<AuthAction> actions  = Sets.newHashSet(AuthAction.produce, AuthAction.consume);\nadmin.persistentTopics().grantPermission(topic, role, actions);\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"get-permission",children:"Get permission"}),"\n",(0,r.jsxs)(s.p,{children:["Permission can be fetched using ",(0,r.jsx)(s.a,{href:"../../reference/CliTools#permissions",children:(0,r.jsx)(s.code,{children:"permissions"})})," command."]}),"\n",(0,r.jsx)(s.h4,{id:"pulsar-admin-2",children:"pulsar-admin"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:'\n$ pulsar-admin topics permissions \\\n  persistent://test-tenant/ns1/tp1 \\\n\n{\n    "application1": [\n        "consume",\n        "produce"\n    ]\n}\n\n'})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api-2",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.2&apiversion=v2#operation/getPermissionsOnTopic",children:["GET /admin/v2/",":schema","/",":tenant","/",":namespace","/",":topic","/permissions/getPermissionsOnTopic"]})}),"\n",(0,r.jsx)(s.h4,{id:"java-2",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-java",children:'\nString topic = "persistent://my-tenant/my-namespace/my-topic";\nadmin.persistentTopics().getPermissions(topic);\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"revoke-permission",children:"Revoke permission"}),"\n",(0,r.jsx)(s.p,{children:"It revokes a permission which was granted on a client role."}),"\n",(0,r.jsx)(s.h4,{id:"pulsar-admin-3",children:"pulsar-admin"}),"\n",(0,r.jsxs)(s.p,{children:["Permission can be revoked using ",(0,r.jsx)(s.a,{href:"../../reference/CliTools#revoke-permission",children:(0,r.jsx)(s.code,{children:"revoke-permission"})})," command."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:'\n$ pulsar-admin topics revoke-permission \\\n  --role application1 \\\n  persistent://test-tenant/ns1/tp1 \\\n\n{\n  "application1": [\n    "consume",\n    "produce"\n  ]\n}\n\n'})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api-3",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.2&apiversion=v2#operation/revokePermissionsOnTopic",children:["DELETE /admin/v2/",":schema","/",":tenant","/",":namespace","/",":topic","/permissions/",":role","/revokePermissionsOnTopic"]})}),"\n",(0,r.jsx)(s.h4,{id:"java-3",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-java",children:'\nString topic = "persistent://my-tenant/my-namespace/my-topic";\nString role = "test-role";\nadmin.persistentTopics().revokePermissions(topic, role);\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"delete-topic",children:"Delete topic"}),"\n",(0,r.jsx)(s.p,{children:"It deletes a topic. The topic cannot be deleted if there's any active subscription or producers connected to it."}),"\n",(0,r.jsx)(s.h4,{id:"pulsar-admin-4",children:"pulsar-admin"}),"\n",(0,r.jsxs)(s.p,{children:["Topic can be deleted using ",(0,r.jsx)(s.a,{href:"../../reference/CliTools#delete",children:(0,r.jsx)(s.code,{children:"delete"})})," command."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"\n$ pulsar-admin topics delete \\\n  persistent://test-tenant/ns1/tp1 \\\n\n"})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api-4",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.2&apiversion=v2#operation/deleteTopic",children:["DELETE /admin/v2/",":schema","/",":tenant","/",":namespace","/",":topic","/deleteTopic"]})}),"\n",(0,r.jsx)(s.h4,{id:"java-4",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-java",children:'\nString topic = "persistent://my-tenant/my-namespace/my-topic";\nadmin.persistentTopics().delete(topic);\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"unload-topic",children:"Unload topic"}),"\n",(0,r.jsx)(s.p,{children:"It unloads a topic."}),"\n",(0,r.jsx)(s.h4,{id:"pulsar-admin-5",children:"pulsar-admin"}),"\n",(0,r.jsxs)(s.p,{children:["Topic can be unloaded using ",(0,r.jsx)(s.a,{href:"../../reference/CliTools#unload",children:(0,r.jsx)(s.code,{children:"unload"})})," command."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"\n$ pulsar-admin topics unload \\\n  persistent://test-tenant/ns1/tp1 \\\n\n"})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api-5",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.2&apiversion=v2#operation/unloadTopic",children:["PUT /admin/v2/",":schema","/",":tenant","/",":namespace","/",":topic","/unload/unloadTopic"]})}),"\n",(0,r.jsx)(s.h4,{id:"java-5",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-java",children:'\nString topic = "persistent://my-tenant/my-namespace/my-topic";\nadmin.persistentTopics().unload(topic);\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"get-stats",children:"Get stats"}),"\n",(0,r.jsx)(s.p,{children:"It shows current statistics of a given non-partitioned topic."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgRateIn"}),": The sum of all local and replication publishers' publish rates in messages per second"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgThroughputIn"}),": Same as above, but in bytes per second instead of messages per second"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgRateOut"}),": The sum of all local and replication consumers' dispatch rates in messages per second"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgThroughputOut"}),": Same as above, but in bytes per second instead of messages per second"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"averageMsgSize"}),": The average size in bytes of messages published within the last interval"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"storageSize"}),": The sum of the ledgers' storage size for this topic. Space used to store the messages for the topic"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"publishers"}),": The list of all local publishers into the topic. There can be zero or thousands"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgRateIn"}),": Total rate of messages published by this publisher in messages per second"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgThroughputIn"}),": Total throughput of the messages published by this publisher in bytes per second"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"averageMsgSize"}),": Average message size in bytes from this publisher within the last interval"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"producerId"}),": Internal identifier for this producer on this topic"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"producerName"}),": Internal identifier for this producer, generated by the client library"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"address"}),": IP address and source port for the connection of this producer"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"connectedSince"}),": Timestamp this producer was created or last reconnected"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"subscriptions"}),": The list of all local subscriptions to the topic"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"my-subscription"}),": The name of this subscription (client defined)"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgRateOut"}),": Total rate of messages delivered on this subscription (msg/s)"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgThroughputOut"}),": Total throughput delivered on this subscription (bytes/s)"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgBacklog"}),": Number of messages in the subscription backlog"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"type"}),": This subscription type"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgRateExpired"}),": The rate at which messages were discarded instead of dispatched from this subscription due to TTL"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"lastExpireTimestamp"}),": The last message expire execution timestamp"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"lastConsumedFlowTimestamp"}),": The last flow command received timestamp"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"lastConsumedTimestamp"}),": The latest timestamp of all the consumed timestamp of the consumers"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"lastAckedTimestamp"}),": The latest timestamp of all the acked timestamp of the consumers"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"consumers"}),": The list of connected consumers for this subscription"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgRateOut"}),": Total rate of messages delivered to the consumer (msg/s)"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgThroughputOut"}),": Total throughput delivered to the consumer (bytes/s)"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"consumerName"}),": Internal identifier for this consumer, generated by the client library"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"availablePermits"}),": The number of messages this consumer has space for in the client library's listen queue. A value of 0 means the client library's queue is full and receive() isn't being called. A nonzero value means this consumer is ready to be dispatched messages."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"unackedMessages"}),": Number of unacknowledged messages for the consumer"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"blockedConsumerOnUnackedMsgs"}),": Flag to verify if the consumer is blocked due to reaching threshold of unacked messages"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"lastConsumedTimestamp"}),": The timestamp of the consumer last consume a message"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"lastAckedTimestamp"}),": The timestamp of the consumer last ack a message"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"replication"}),": This section gives the stats for cross-colo replication of this topic"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgRateIn"}),": Total rate of messages received from the remote cluster (msg/s)"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgThroughputIn"}),": Total throughput received from the remote cluster (bytes/s)"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgRateOut"}),": Total rate of messages delivered to the replication-subscriber (msg/s)"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgThroughputOut"}),": Total through delivered to the replication-subscriber (bytes/s)"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"msgRateExpired"}),": Total rate of messages expired (msg/s)"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"replicationBacklog"}),": Number of messages pending to be replicated to remote cluster"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"connected"}),": Whether the outbound replicator is connected"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"replicationDelayInSeconds"}),": How long the oldest message has been waiting to be sent through the connection, if connected is true"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"inboundConnection"}),": The IP and port of the broker in the remote cluster's publisher connection to this broker"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"inboundConnectedSince"}),": The TCP connection being used to publish messages to the remote cluster. If there are no local publishers connected, this connection is automatically closed after a minute."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"outboundConnection"}),": Address of outbound replication connection"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"outboundConnectedSince"}),": Timestamp of establishing outbound connection"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'\n{\n  "msgRateIn": 4641.528542257553,\n  "msgThroughputIn": 44663039.74947473,\n  "msgRateOut": 0,\n  "msgThroughputOut": 0,\n  "averageMsgSize": 1232439.816728665,\n  "storageSize": 135532389160,\n  "publishers": [\n    {\n      "msgRateIn": 57.855383881403576,\n      "msgThroughputIn": 558994.7078932219,\n      "averageMsgSize": 613135,\n      "producerId": 0,\n      "producerName": null,\n      "address": null,\n      "connectedSince": null\n    }\n  ],\n  "subscriptions": {\n    "my-topic_subscription": {\n      "msgRateOut": 0,\n      "msgThroughputOut": 0,\n      "msgBacklog": 116632,\n      "type": null,\n      "msgRateExpired": 36.98245516804671,\n      "consumers": []\n    }\n  },\n  "replication": {}\n}\n\n'})}),"\n",(0,r.jsx)(s.h4,{id:"pulsar-admin-6",children:"pulsar-admin"}),"\n",(0,r.jsxs)(s.p,{children:["Topic stats can be fetched using ",(0,r.jsx)(s.a,{href:"../../reference/CliTools#stats",children:(0,r.jsx)(s.code,{children:"stats"})})," command."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"\n$ pulsar-admin topics stats \\\n  persistent://test-tenant/ns1/tp1 \\\n\n"})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api-6",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.2&apiversion=v2#operation/getStats",children:["GET /admin/v2/",":schema","/",":tenant","/",":namespace","/",":topic","/stats/getStats"]})}),"\n",(0,r.jsx)(s.h4,{id:"java-6",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-java",children:'\nString topic = "persistent://my-tenant/my-namespace/my-topic";\nadmin.persistentTopics().getStats(topic);\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"get-internal-stats",children:"Get internal stats"}),"\n",(0,r.jsx)(s.p,{children:"It shows detailed statistics of a topic."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"entriesAddedCounter"}),": Messages published since this broker loaded this topic"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"numberOfEntries"}),": Total number of messages being tracked"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"totalSize"}),": Total storage size in bytes of all messages"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"currentLedgerEntries"}),": Count of messages written to the ledger currently open for writing"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"currentLedgerSize"}),": Size in bytes of messages written to ledger currently open for writing"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"lastLedgerCreatedTimestamp"}),": time when last ledger was created"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"lastLedgerCreationFailureTimestamp:"})," time when last ledger was failed"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"waitingCursorsCount"}),': How many cursors are "caught up" and waiting for a new message to be published']}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"pendingAddEntriesCount"}),": How many messages have (asynchronous) write requests we are waiting on completion"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"lastConfirmedEntry"}),": The ledgerid",":entryid"," of the last message successfully written. If the entryid is -1, then the ledger has been opened or is currently being opened but has no entries written yet."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"state"}),": The state of this ledger for writing. LedgerOpened means we have a ledger open for saving published messages."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"ledgers"}),": The ordered list of all ledgers for this topic holding its messages"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"ledgerId"}),": Id of this ledger"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"entries"}),": Total number of entries belong to this ledger"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"size"}),": Size of messages written to this ledger (in bytes)"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"offloaded"}),": Whether this ledger is offloaded"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"cursors"}),": The list of all cursors on this topic. There will be one for every subscription you saw in the topic stats."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"markDeletePosition"}),": All of messages before the markDeletePosition are acknowledged by the subscriber."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"readPosition"}),": The latest position of subscriber for reading message"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"waitingReadOp"}),": This is true when the subscription has read the latest message published to the topic and is waiting on new messages to be published."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"pendingReadOps"}),": The counter for how many outstanding read requests to the BookKeepers we have in progress"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"messagesConsumedCounter"}),": Number of messages this cursor has acked since this broker loaded this topic"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"cursorLedger"}),": The ledger being used to persistently store the current markDeletePosition"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"cursorLedgerLastEntry"}),": The last entryid used to persistently store the current markDeletePosition"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"individuallyDeletedMessages"}),": If Acks are being done out of order, shows the ranges of messages Acked between the markDeletePosition and the read-position"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"lastLedgerSwitchTimestamp"}),": The last time the cursor ledger was rolled over"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"state"}),": The state of the cursor ledger: Open means we have a cursor ledger for saving updates of the markDeletePosition."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'\n{\n    "entriesAddedCounter": 20449518,\n    "numberOfEntries": 3233,\n    "totalSize": 331482,\n    "currentLedgerEntries": 3233,\n    "currentLedgerSize": 331482,\n    "lastLedgerCreatedTimestamp": "2016-06-29 03:00:23.825",\n    "lastLedgerCreationFailureTimestamp": null,\n    "waitingCursorsCount": 1,\n    "pendingAddEntriesCount": 0,\n    "lastConfirmedEntry": "324711539:3232",\n    "state": "LedgerOpened",\n    "ledgers": [\n        {\n            "ledgerId": 324711539,\n            "entries": 0,\n            "size": 0\n        }\n    ],\n    "cursors": {\n        "my-subscription": {\n            "markDeletePosition": "324711539:3133",\n            "readPosition": "324711539:3233",\n            "waitingReadOp": true,\n            "pendingReadOps": 0,\n            "messagesConsumedCounter": 20449501,\n            "cursorLedger": 324702104,\n            "cursorLedgerLastEntry": 21,\n            "individuallyDeletedMessages": "[(324711539:3134\u2025324711539:3136], (324711539:3137\u2025324711539:3140], ]",\n            "lastLedgerSwitchTimestamp": "2016-06-29 01:30:19.313",\n            "state": "Open"\n        }\n    }\n}\n\n'})}),"\n",(0,r.jsx)(s.h4,{id:"pulsar-admin-7",children:"pulsar-admin"}),"\n",(0,r.jsxs)(s.p,{children:["Topic internal-stats can be fetched using ",(0,r.jsx)(s.a,{href:"../../reference/CliTools#stats-internal",children:(0,r.jsx)(s.code,{children:"stats-internal"})})," command."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"\n$ pulsar-admin topics stats-internal \\\n  persistent://test-tenant/ns1/tp1 \\\n\n"})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api-7",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.2&apiversion=v2#operation/getInternalStats",children:["GET /admin/v2/",":schema","/",":tenant","/",":namespace","/",":topic","/internalStats/getInternalStats"]})}),"\n",(0,r.jsx)(s.h4,{id:"java-7",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-java",children:'\nString topic = "persistent://my-tenant/my-namespace/my-topic";\nadmin.persistentTopics().getInternalStats(topic);\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"peek-messages",children:"Peek messages"}),"\n",(0,r.jsx)(s.p,{children:"It peeks N messages for a specific subscription of a given topic."}),"\n",(0,r.jsx)(s.h4,{id:"pulsar-admin-8",children:"pulsar-admin"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:'\n$ pulsar-admin topics peek-messages \\\n  --count 10 --subscription my-subscription \\\n  persistent://test-tenant/ns1/tp1 \\\n\nMessage ID: 315674752:0\nProperties:  {  "X-Pulsar-publish-time" : "2015-07-13 17:40:28.451"  }\nmsg-payload\n\n'})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api-8",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.2&apiversion=v2#operation/peekNthMessage",children:["GET /admin/v2/",":schema","/",":tenant","/",":namespace","/",":topic","/subscription/",":subName","/position/",":messagePosition","/peekNthMessage"]})}),"\n",(0,r.jsx)(s.h4,{id:"java-8",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-java",children:'\nString topic = "persistent://my-tenant/my-namespace/my-topic";\nString subName = "my-subscription";\nint numMessages = 1;\nadmin.persistentTopics().peekMessages(topic, subName, numMessages);\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"skip-messages",children:"Skip messages"}),"\n",(0,r.jsx)(s.p,{children:"It skips N messages for a specific subscription of a given topic."}),"\n",(0,r.jsx)(s.h4,{id:"pulsar-admin-9",children:"pulsar-admin"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"\n$ pulsar-admin topics skip \\\n  --count 10 --subscription my-subscription \\\n  persistent://test-tenant/ns1/tp1 \\\n\n"})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api-9",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.2&apiversion=v2#operation/skipMessages",children:["POST /admin/v2/",":schema","/",":tenant","/",":namespace","/",":topic","/subscription/",":subName","/skip/",":numMessages","/skipMessages"]})}),"\n",(0,r.jsx)(s.h4,{id:"java-9",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-java",children:'\nString topic = "persistent://my-tenant/my-namespace/my-topic";\nString subName = "my-subscription";\nint numMessages = 1;\nadmin.persistentTopics().skipMessages(topic, subName, numMessages);\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"skip-all-messages",children:"Skip all messages"}),"\n",(0,r.jsx)(s.p,{children:"It skips all old messages for a specific subscription of a given topic."}),"\n",(0,r.jsx)(s.h4,{id:"pulsar-admin-10",children:"pulsar-admin"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"\n$ pulsar-admin topics skip-all \\\n  --subscription my-subscription \\\n  persistent://test-tenant/ns1/tp1 \\\n\n"})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api-10",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.2&apiversion=v2#operation/skipAllMessages",children:["POST /admin/v2/",":schema","/",":tenant","/",":namespace","/",":topic","/subscription/",":subName","/skip_all/skipAllMessages"]})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"../../reference/RestApi#/admin/persistent/:tenant/:namespace/:topic/subscription/:subName/skip_all",children:"More info"})}),"\n",(0,r.jsx)(s.h4,{id:"java-10",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-java",children:'\nString topic = "persistent://my-tenant/my-namespace/my-topic";\nString subName = "my-subscription";\nadmin.persistentTopics().skipAllMessages(topic, subName);\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"reset-cursor",children:"Reset cursor"}),"\n",(0,r.jsx)(s.p,{children:"It resets a subscription\u2019s cursor position back to the position which was recorded X minutes before. It essentially calculates time and position of cursor at X minutes before and resets it at that position."}),"\n",(0,r.jsx)(s.h4,{id:"pulsar-admin-11",children:"pulsar-admin"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"\n$ pulsar-admin topics reset-cursor \\\n  --subscription my-subscription --time 10 \\\n  persistent://test-tenant/ns1/tp1 \\\n\n"})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api-11",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.2&apiversion=v2#operation/resetCursor",children:["POST /admin/v2/",":schema","/",":tenant","/",":namespace","/",":topic","/subscription/",":subName","/resetcursor/",":timestamp","/resetCursor"]})}),"\n",(0,r.jsx)(s.h4,{id:"java-11",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-java",children:'\nString topic = "persistent://my-tenant/my-namespace/my-topic";\nString subName = "my-subscription";\nlong timestamp = 2342343L;\nadmin.persistentTopics().skipAllMessages(topic, subName, timestamp);\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"lookup-of-topic",children:"Lookup of topic"}),"\n",(0,r.jsx)(s.p,{children:"It locates broker url which is serving the given topic."}),"\n",(0,r.jsx)(s.h4,{id:"pulsar-admin-12",children:"pulsar-admin"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:'\n$ pulsar-admin topics lookup \\\n  persistent://test-tenant/ns1/tp1 \\\n\n "pulsar://broker1.org.com:4480"\n\n'})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api-12",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.2&apiversion=v2#/",children:["GET /lookup/v2/topic/persistent/:tenant",":namespace","/",":topic"]})}),"\n",(0,r.jsx)(s.h4,{id:"java-12",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-java",children:'\nString topic = "persistent://my-tenant/my-namespace/my-topic";\nadmin.lookup().lookupDestination(topic);\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"get-bundle",children:"Get bundle"}),"\n",(0,r.jsx)(s.p,{children:"It gives range of the bundle which contains given topic"}),"\n",(0,r.jsx)(s.h4,{id:"pulsar-admin-13",children:"pulsar-admin"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:'\n$ pulsar-admin topics bundle-range \\\n  persistent://test-tenant/ns1/tp1 \\\n\n "0x00000000_0xffffffff"\n\n'})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api-13",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.2&apiversion=v2#/",children:["GET /lookup/v2/topic/",":topic_domain","/",":tenant","/",":namespace","/",":topic","/bundle"]})}),"\n",(0,r.jsx)(s.h4,{id:"java-13",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-java",children:'\nString topic = "persistent://my-tenant/my-namespace/my-topic";\nadmin.lookup().getBundleRange(topic);\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"get-subscriptions",children:"Get subscriptions"}),"\n",(0,r.jsx)(s.p,{children:"It shows all subscription names for a given topic."}),"\n",(0,r.jsx)(s.h4,{id:"pulsar-admin-14",children:"pulsar-admin"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"\n$ pulsar-admin topics subscriptions \\\n  persistent://test-tenant/ns1/tp1 \\\n\n my-subscription\n\n"})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api-14",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.2&apiversion=v2#operation/getSubscriptions",children:["GET /admin/v2/",":schema","/",":tenant","/",":namespace","/",":topic","/subscriptions/getSubscriptions"]})}),"\n",(0,r.jsx)(s.h4,{id:"java-14",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-java",children:'\nString topic = "persistent://my-tenant/my-namespace/my-topic";\nadmin.persistentTopics().getSubscriptions(topic);\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"unsubscribe",children:"Unsubscribe"}),"\n",(0,r.jsx)(s.p,{children:"It can also help to unsubscribe a subscription which is no more processing further messages."}),"\n",(0,r.jsx)(s.h4,{id:"pulsar-admin-15",children:"pulsar-admin"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"\n$ pulsar-admin topics unsubscribe \\\n  --subscription my-subscription \\\n  persistent://test-tenant/ns1/tp1 \\\n\n"})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api-15",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=2.5.2&apiversion=v2#operation/deleteSubscription",children:["DELETE /admin/v2/namespaces/",":tenant","/",":namespace","/",":topic","/subscription/",":subscription","/deleteSubscription"]})}),"\n",(0,r.jsx)(s.h4,{id:"java-15",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-java",children:'\nString topic = "persistent://my-tenant/my-namespace/my-topic";\nString subscriptionName = "my-subscription";\nadmin.persistentTopics().deleteSubscription(topic, subscriptionName);\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"last-message-id",children:"Last Message Id"}),"\n",(0,r.jsx)(s.p,{children:"It gives the last committed message ID for a persistent topic, and it will be available in 2.3.0."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"\npulsar-admin topics last-message-id topic-name\n\n"})}),"\n",(0,r.jsx)(s.h4,{id:"rest-api-16",children:"REST API"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.a,{href:"https://pulsar.apache.org/admin-rest-api?version=master&apiversion=v2#",children:["GET /admin/v2/",":schema","/",":tenant","/",":namespace","/",":topic","/lastMessageId"]})}),"\n",(0,r.jsx)(s.h4,{id:"java-16",children:"Java"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Java",children:'\nString topic = "persistent://my-tenant/my-namespace/my-topic";\nadmin.persistentTopics().getLastMessage(topic);\n\n'})})]})}function p(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>l});var i=n(96540);const r={},t=i.createContext(r);function a(e){const s=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);