<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">What&#x27;s New in Apache Pulsar 4.1 | Apache Pulsar</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://pulsar.apache.org/img/pulsar-social-media-card.png"><meta data-rh="true" name="twitter:image" content="https://pulsar.apache.org/img/pulsar-social-media-card.png"><meta data-rh="true" property="og:url" content="https://pulsar.apache.org/blog/2025/09/09/announcing-apache-pulsar-4-1/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="What&#x27;s New in Apache Pulsar 4.1 | Apache Pulsar"><meta data-rh="true" name="description" content="The Apache Pulsar community is thrilled to announce the launch of Apache Pulsar 4.1, a significant feature release!"><meta data-rh="true" property="og:description" content="The Apache Pulsar community is thrilled to announce the launch of Apache Pulsar 4.1, a significant feature release!"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-09-09T00:00:00.000Z"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pulsar.apache.org/blog/2025/09/09/announcing-apache-pulsar-4-1/"><link data-rh="true" rel="alternate" href="https://pulsar.apache.org/blog/2025/09/09/announcing-apache-pulsar-4-1/" hreflang="en"><link data-rh="true" rel="alternate" href="https://pulsar.apache.org/blog/2025/09/09/announcing-apache-pulsar-4-1/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://WK2YL0SALL-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://pulsar.apache.org/blog/2025/09/09/announcing-apache-pulsar-4-1","mainEntityOfPage":"https://pulsar.apache.org/blog/2025/09/09/announcing-apache-pulsar-4-1","url":"https://pulsar.apache.org/blog/2025/09/09/announcing-apache-pulsar-4-1","headline":"What's New in Apache Pulsar 4.1","name":"What's New in Apache Pulsar 4.1","description":"The Apache Pulsar community is thrilled to announce the launch of Apache Pulsar 4.1, a significant feature release!","datePublished":"2025-09-09T00:00:00.000Z","author":{"@type":"Person","name":"David Kjerrumgaard"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://pulsar.apache.org/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Pulsar RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Pulsar Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Apache Pulsar" href="/opensearch.xml">







<link rel="stylesheet" href="/css/katex-0.13.24.min.css" media="print" onload="this.media=&#39;all&#39;">
<script src="/js/sine-waves.min.js" async></script>
<script src="/js/matomo-agent.js"></script><link rel="stylesheet" href="/assets/css/styles.8505adb1.css">
<script src="/assets/js/runtime~main.d0904e00.js" defer="defer"></script>
<script src="/assets/js/main.f672da0f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#282826;color:#fff" role="banner"><div class="content_knG7 announcementBarContent_xLdY">
    <a class="announcement-bar" href="/blog/2025/09/09/announcing-apache-pulsar-4-1/" target="_blank">
      <div class="announcement-bar__content">
        <!-- <svg class="announcement-bar__icon">
          
<svg viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.5 19.6001H16.1L15.3 29.2001L26.5 12.4H17.06L18.1 2.80005L6.5 19.6001Z" stroke="#F7F7F7" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        </svg> -->

        <span>
          ✨ Apache Pulsar 4.1 is here! ✨
        </span>

        <svg class="announcement-bar__icon">
          
<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="20" height="20" transform="translate(6 6)" fill="white" fill-opacity="0.01"/>
<path d="M17.6667 10.1667L23.5 16.0001M23.5 16.0001L17.6667 21.8334M23.5 16.0001L8.5 16.0001" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
<rect x="0.5" y="0.5" width="31" height="31" rx="15.5" stroke="white"/>
</svg>

        </svg>
      </div>
    </a>
  </div></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-black.svg" alt="Apache Pulsar logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="25" width="127"><img src="/img/logo-black.svg" alt="Apache Pulsar logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="25" width="127"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Get Started</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/4.1.x/concepts-overview/">Concepts</a></li><li><a class="dropdown__link" href="/docs/4.1.x/">Quickstart</a></li><li><a class="dropdown__link" href="/ecosystem/">Ecosystem</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/4.1.x/">Docs</a><a class="navbar__item navbar__link" href="/features/">Features</a><a class="navbar__item navbar__link" href="/use-cases/">Use Cases</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link community-dropdown">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link scroll-link scroll-welcome" id="scroll-welcome" href="/community/">Welcome</a></li><li><a class="dropdown__link scroll-link scroll-discussions" id="scroll-discussions" href="/community/#section-discussions">Discussions</a></li><li><a class="dropdown__link scroll-link" id="scroll-governance" href="/community/#section-governance">Governance</a></li><li><a class="dropdown__link scroll-link" id="scroll-community" href="/community/#section-community">Meet the Community</a></li><li><a class="dropdown__link scroll-link" id="scroll-contribute" href="/community/#section-contribute">Contribute</a></li><li><a class="dropdown__link" href="/contribute/">Contribution Guide</a></li><li><a href="https://github.com/apache/pulsar/wiki" target="_blank" rel="noopener noreferrer" class="dropdown__link">Wiki</a></li><li><a href="https://github.com/apache/pulsar/issues" target="_blank" rel="noopener noreferrer" class="dropdown__link">Issue Tracking</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Learn</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/blog/">Blog</a></li><li><a class="dropdown__link" href="/books/">Books</a></li><li><a class="dropdown__link" href="/case-studies/">Case Studies</a></li><li><a class="dropdown__link" href="/articles/">Articles</a></li><li><a class="dropdown__link" href="/presentations/">Presentations</a></li><li><a class="dropdown__link" href="/events/">Events</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link navbar_download_button" href="/download/">Download</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-top--lg"><div class="row"><main class="col col--12" itemscope="" itemtype="https://schema.org/Blog"><article class="BlogContainerPost_N_n1" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><header><div><h1 class="title_xvU1">What&#x27;s New in Apache Pulsar 4.1</h1><div class="row"><div class="col authorCol_q4o9"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">David Kjerrumgaard</span></div><div class="authorSocials_rSDt"></div></div></div></div></div><div class="container_iJTo"><time datetime="2025-09-09T00:00:00.000Z">September 9, 2025</time> · <!-- -->13 min read</div></div></header><div id="__blog-post-container" class="markdown"><p>The Apache Pulsar community is thrilled to announce the launch of Apache Pulsar 4.1, a significant feature release!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-new-in-apache-pulsar-41-since-pulsar-40">What&#x27;s new in Apache Pulsar 4.1 since Pulsar 4.0?<a href="#whats-new-in-apache-pulsar-41-since-pulsar-40" class="hash-link" aria-label="Direct link to What&#x27;s new in Apache Pulsar 4.1 since Pulsar 4.0?" title="Direct link to What&#x27;s new in Apache Pulsar 4.1 since Pulsar 4.0?">​</a></h2>
<p>Pulsar 4.1 <a href="https://github.com/apache/pulsar/releases/tag/v4.1.0" target="_blank" rel="noopener noreferrer">includes numerous improvements and enhancements</a> since the previous release Pulsar 4.0 in October 2024. This release introduces 19 Pulsar Improvement Proposals (PIPs) and hundreds of bug fixes, security updates, and performance improvements that strengthen the platform&#x27;s capabilities across multiple areas.</p>
<p>Since there are many new features and improvements, this blog post will highlight the most significant updates. Apache Pulsar contributors are invited to contribute additional blog posts with more details about the new features and improvements.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-pulsar-improvement-proposals-pips">Key Pulsar Improvement Proposals (PIPs)<a href="#key-pulsar-improvement-proposals-pips" class="hash-link" aria-label="Direct link to Key Pulsar Improvement Proposals (PIPs)" title="Direct link to Key Pulsar Improvement Proposals (PIPs)">​</a></h2>
<p>Pulsar 4.1 introduces 19 approved PIPs that enhance various aspects of the platform:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enhanced-security-and-authentication">Enhanced Security and Authentication<a href="#enhanced-security-and-authentication" class="hash-link" aria-label="Direct link to Enhanced Security and Authentication" title="Direct link to Enhanced Security and Authentication">​</a></h3>
<ul>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-292.md" class="blacklink" target="_blank">PIP-292</a></strong>: Enforce token expiration time in the WebSocket plugin, improving security for WebSocket connections</li>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-432.md" class="blacklink" target="_blank">PIP-432</a></strong>: Add isEncrypted field to EncryptionContext for better encryption handling</li>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-436.md" class="blacklink" target="_blank">PIP-436</a></strong>: Add decryptFailListener to Consumer for improved error handling in encrypted message scenarios</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="client-experience-and-configuration">Client Experience and Configuration<a href="#client-experience-and-configuration" class="hash-link" aria-label="Direct link to Client Experience and Configuration" title="Direct link to Client Experience and Configuration">​</a></h3>
<ul>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-391.md" class="blacklink" target="_blank">PIP-391</a></strong>: Enable batch index ACK by default, improving acknowledgment efficiency and reducing memory usage</li>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-409.md" class="blacklink" target="_blank">PIP-409</a></strong>: Support producer configuration for retry/dead letter topic producer, providing better control over retry mechanisms</li>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-420.md" class="blacklink" target="_blank">PIP-420</a></strong>: Provide ability for Pulsar clients to integrate with third-party schema registry services, expanding schema management options</li>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-421.md" class="blacklink" target="_blank">PIP-421</a></strong>: Require Java 17 as the minimum for Pulsar Java client SDK, leveraging modern Java features</li>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-425.md" class="blacklink" target="_blank">PIP-425</a></strong>: Support connecting with next available endpoint for multi-endpoint serviceUrls, improving client resilience</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="operational-excellence-and-monitoring">Operational Excellence and Monitoring<a href="#operational-excellence-and-monitoring" class="hash-link" aria-label="Direct link to Operational Excellence and Monitoring" title="Direct link to Operational Excellence and Monitoring">​</a></h3>
<ul>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-416.md" class="blacklink" target="_blank">PIP-416</a></strong>: Add a new topic method to implement trigger offload by size threshold, enhancing storage management</li>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-427.md" class="blacklink" target="_blank">PIP-427</a></strong>: Align pulsar-admin default for mark-delete rate with broker configuration for consistency</li>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-431.md" class="blacklink" target="_blank">PIP-431</a></strong>: Add creation and last publish timestamps to topic stats, improving observability</li>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-435.md" class="blacklink" target="_blank">PIP-435</a></strong>: Add startTimestamp and endTimestamp for consuming messages in client CLI, enabling precise time-based message consumption</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-features-and-performance">Advanced Features and Performance<a href="#advanced-features-and-performance" class="hash-link" aria-label="Direct link to Advanced Features and Performance" title="Direct link to Advanced Features and Performance">​</a></h3>
<ul>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-422.md" class="blacklink" target="_blank">PIP-422</a></strong>: Support global topic-level policy: replicated clusters and new API to delete topic-level policies</li>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-428.md" class="blacklink" target="_blank">PIP-428</a></strong>: Change TopicPoliciesService interface to fix consistency issues in topic policy management</li>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-429.md" class="blacklink" target="_blank">PIP-429</a></strong>: Optimize handling of compacted last entry by skipping payload buffer parsing, improving compaction performance</li>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-430.md" class="blacklink" target="_blank">PIP-430</a></strong>: Pulsar broker cache improvements: refactoring eviction and adding a new cache strategy based on expected read count</li>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-433.md" class="blacklink" target="_blank">PIP-433</a></strong>: Optimize the conflicts of the replication and automatic creation mechanisms, including the automatic creation of topics and schemas</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="administrative-and-management-enhancements">Administrative and Management Enhancements<a href="#administrative-and-management-enhancements" class="hash-link" aria-label="Direct link to Administrative and Management Enhancements" title="Direct link to Administrative and Management Enhancements">​</a></h3>
<ul>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-373.md" class="blacklink" target="_blank">PIP-373</a></strong>: Add a topic&#x27;s system prop that indicates whether users have published TXN messages before</li>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-375.md" class="blacklink" target="_blank">PIP-375</a></strong>: Expose the Admin client configs: readTimeout, requestTimeout, and connectionTimeout</li>
<li><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-382.md" class="blacklink" target="_blank">PIP-382</a></strong>: Add a label named reason for topic_load_failed_total metric for better monitoring</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="security-enhancements">Security Enhancements<a href="#security-enhancements" class="hash-link" aria-label="Direct link to Security Enhancements" title="Direct link to Security Enhancements">​</a></h2>
<p>Pulsar 4.1 places a strong emphasis on security with multiple critical updates:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="critical-vulnerability-fixes">Critical Vulnerability Fixes<a href="#critical-vulnerability-fixes" class="hash-link" aria-label="Direct link to Critical Vulnerability Fixes" title="Direct link to Critical Vulnerability Fixes">​</a></h3>
<p>The release addresses several high-priority CVEs:</p>
<ul>
<li><strong><a href="https://github.com/advisories?query=CVE-2024-53990" target="_blank" class="blacklink">CVE-2024-53990</a></strong>: Upgraded async-http-client to 2.12.4 and disabled AsyncHttpClient CookieStore</li>
<li><strong><a href="https://github.com/advisories?query=CVE-2025-8916" target="_blank" class="blacklink">CVE-2025-8916</a></strong>: Upgraded bouncycastle bcpkix-fips version to 1.79</li>
<li><strong><a href="https://github.com/advisories?query=CVE-2024-6763" target="_blank" class="blacklink">CVE-2024-6763</a></strong>: Upgraded Jetty to 9.4.57.v20241219</li>
<li><strong><a href="https://github.com/advisories?query=CVE-2025-30204" target="_blank" class="blacklink">CVE-2025-30204</a></strong>: Upgraded jwt/v5 to 5.2.2</li>
<li><strong><a href="https://github.com/advisories?query=CVE-2025-27818" target="_blank" class="blacklink">CVE-2025-27818</a></strong>: Upgraded Kafka connector and clients version to 3.9.1</li>
<li><strong><a href="https://github.com/advisories?query=CVE-2025-22868" target="_blank" class="blacklink">CVE-2025-22868</a></strong>: Upgraded pulsar-function-go dependencies</li>
<li><strong><a href="https://github.com/advisories?query=CVE-2024-47535" target="_blank" class="blacklink">CVE-2024-47535</a></strong>: Upgraded to Netty 4.1.115.Final</li>
<li><strong><a href="https://github.com/advisories?query=CVE-2025-55163" target="_blank" class="blacklink">CVE-2025-55163</a></strong>: Upgraded to Netty 4.1.124.Final</li>
<li><strong><a href="https://github.com/advisories?query=CVE-2024-51504" target="_blank" class="blacklink">CVE-2024-51504</a></strong>: Upgraded ZooKeeper to 3.9.3</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cryptographic-improvements">Cryptographic Improvements<a href="#cryptographic-improvements" class="hash-link" aria-label="Direct link to Cryptographic Improvements" title="Direct link to Cryptographic Improvements">​</a></h3>
<ul>
<li>Upgraded golang.org/x/crypto from 0.21.0 to 0.31.0 in pulsar-function-go</li>
<li>Replaced bcprov-jdk15on dependency with bcprov-jdk18-on for better Java compatibility</li>
<li>Upgraded commons-io to 2.18.0 and json-smart to 2.5.2</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="enhanced-client-reliability-and-performance">Enhanced Client Reliability and Performance<a href="#enhanced-client-reliability-and-performance" class="hash-link" aria-label="Direct link to Enhanced Client Reliability and Performance" title="Direct link to Enhanced Client Reliability and Performance">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="batch-processing-improvements">Batch Processing Improvements<a href="#batch-processing-improvements" class="hash-link" aria-label="Direct link to Batch Processing Improvements" title="Direct link to Batch Processing Improvements">​</a></h3>
<p><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-391.md" class="blacklink" target="_blank">PIP-391</a></strong> enables batch index ACK by default, significantly improving acknowledgment efficiency. This change reduces memory usage and provides better performance for high-throughput scenarios where batch processing is common.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-endpoint-resilience">Multi-Endpoint Resilience<a href="#multi-endpoint-resilience" class="hash-link" aria-label="Direct link to Multi-Endpoint Resilience" title="Direct link to Multi-Endpoint Resilience">​</a></h3>
<p><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-425.md" class="blacklink" target="_blank">PIP-425</a></strong> introduces support for connecting with the next available endpoint for multi-endpoint serviceUrls. This enhancement improves client resilience by automatically failover to alternative endpoints when the primary endpoint is unavailable.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="memory-management-and-resource-cleanup">Memory Management and Resource Cleanup<a href="#memory-management-and-resource-cleanup" class="hash-link" aria-label="Direct link to Memory Management and Resource Cleanup" title="Direct link to Memory Management and Resource Cleanup">​</a></h3>
<p>The release includes comprehensive fixes for memory leaks and resource cleanup:</p>
<ul>
<li>Fixed memory leaks in ClientCnx.newLookup when encountering TooManyRequestsException</li>
<li>Resolved memory leaks when message size exceeds maximum limits with batching enabled</li>
<li>Improved handling of orphan producers and consumers when creation is interrupted</li>
<li>Enhanced cleanup of retry and dead letter topic producers when sending fails</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="broker-and-messaging-improvements">Broker and Messaging Improvements<a href="#broker-and-messaging-improvements" class="hash-link" aria-label="Direct link to Broker and Messaging Improvements" title="Direct link to Broker and Messaging Improvements">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-cache-strategy">Advanced Cache Strategy<a href="#advanced-cache-strategy" class="hash-link" aria-label="Direct link to Advanced Cache Strategy" title="Direct link to Advanced Cache Strategy">​</a></h3>
<p><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-430.md" class="blacklink" target="_blank">PIP-430</a></strong> introduces significant broker cache improvements with refactored eviction algorithms and a new cache strategy based on expected read count. This enhancement optimizes memory usage and improves cache hit rates for frequently accessed data.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="message-processing-optimizations">Message Processing Optimizations<a href="#message-processing-optimizations" class="hash-link" aria-label="Direct link to Message Processing Optimizations" title="Direct link to Message Processing Optimizations">​</a></h3>
<p>Several improvements enhance message processing efficiency:</p>
<ul>
<li>Fixed retry mechanism in MetadataCache#readModifyUpdateOrCreate</li>
<li>Improved acknowledgeCumulativeAsync to prevent blocking when ackReceipt is enabled</li>
<li>Enhanced cursor management with better position handling and lifecycle management</li>
<li>Optimized message TTL checks and expiration processing</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="compaction-performance">Compaction Performance<a href="#compaction-performance" class="hash-link" aria-label="Direct link to Compaction Performance" title="Direct link to Compaction Performance">​</a></h3>
<p><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-429.md" class="blacklink" target="_blank">PIP-429</a></strong> optimizes compacted last entry handling by skipping unnecessary payload buffer parsing, significantly improving compaction performance for topics with large payloads.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="administrative-and-operational-enhancements">Administrative and Operational Enhancements<a href="#administrative-and-operational-enhancements" class="hash-link" aria-label="Direct link to Administrative and Operational Enhancements" title="Direct link to Administrative and Operational Enhancements">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="time-based-message-consumption">Time-Based Message Consumption<a href="#time-based-message-consumption" class="hash-link" aria-label="Direct link to Time-Based Message Consumption" title="Direct link to Time-Based Message Consumption">​</a></h3>
<p><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-435.md" class="blacklink" target="_blank">PIP-435</a></strong> adds startTimestamp and endTimestamp parameters to the client CLI for consuming messages. This feature enables precise time-based message consumption, particularly useful for:</p>
<ul>
<li>Debugging and troubleshooting specific time windows</li>
<li>Data recovery operations with temporal boundaries</li>
<li>Time-based message processing and analysis</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="topic-statistics-and-monitoring">Topic Statistics and Monitoring<a href="#topic-statistics-and-monitoring" class="hash-link" aria-label="Direct link to Topic Statistics and Monitoring" title="Direct link to Topic Statistics and Monitoring">​</a></h3>
<p><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-431.md" class="blacklink" target="_blank">PIP-431</a></strong> enhances topic statistics by adding creation and last publish timestamps. This improvement provides better visibility into topic lifecycle and usage patterns, enabling more informed operational decisions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="global-topic-level-policies">Global Topic-Level Policies<a href="#global-topic-level-policies" class="hash-link" aria-label="Direct link to Global Topic-Level Policies" title="Direct link to Global Topic-Level Policies">​</a></h3>
<p><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-422.md" class="blacklink" target="_blank">PIP-422</a></strong> introduces support for global topic-level replicated clusters policy and new APIs to delete topic-level policies. This enhancement provides more granular control over topic replication and policy management across clusters.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="function-and-connector-improvements">Function and Connector Improvements<a href="#function-and-connector-improvements" class="hash-link" aria-label="Direct link to Function and Connector Improvements" title="Direct link to Function and Connector Improvements">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="schema-registry-integration">Schema Registry Integration<a href="#schema-registry-integration" class="hash-link" aria-label="Direct link to Schema Registry Integration" title="Direct link to Schema Registry Integration">​</a></h3>
<p><strong><a href="https://github.com/apache/pulsar/blob/master/pip/pip-420.md" class="blacklink" target="_blank">PIP-420</a></strong> provides the ability for Pulsar clients to integrate with third-party schema registry services. This enhancement expands schema management options beyond Pulsar&#x27;s built-in schema registry, enabling integration with popular schema management platforms.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enhanced-error-handling">Enhanced Error Handling<a href="#enhanced-error-handling" class="hash-link" aria-label="Direct link to Enhanced Error Handling" title="Direct link to Enhanced Error Handling">​</a></h3>
<p>The release improves error handling in various scenarios:</p>
<ul>
<li>Added decryptFailListener to consumers for better encryption error handling</li>
<li>Improved exception handling in Pulsar Functions and IO connectors</li>
<li>Enhanced retry mechanisms and circuit breaker patterns</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="connector-updates">Connector Updates<a href="#connector-updates" class="hash-link" aria-label="Direct link to Connector Updates" title="Direct link to Connector Updates">​</a></h3>
<p>Multiple IO connectors received improvements:</p>
<ul>
<li>Enhanced Kafka connector with better bootstrap server logging</li>
<li>Improved Kinesis connector with better configuration support</li>
<li>Updated RabbitMQ connector with proper message acknowledgment</li>
<li>Enhanced monitoring and metrics for connector performance</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="infrastructure-and-performance">Infrastructure and Performance<a href="#infrastructure-and-performance" class="hash-link" aria-label="Direct link to Infrastructure and Performance" title="Direct link to Infrastructure and Performance">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="load-balancing-optimizations">Load Balancing Optimizations<a href="#load-balancing-optimizations" class="hash-link" aria-label="Direct link to Load Balancing Optimizations" title="Direct link to Load Balancing Optimizations">​</a></h3>
<p>Enhanced the ExtensibleLoadManagerImpl with several optimizations:</p>
<ul>
<li>Skip unloading when bundle throughput is zero</li>
<li>Improved service unit state management</li>
<li>Better load distribution algorithms</li>
<li>Reduced unnecessary load balancing operations</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="blue-green-migration-support">Blue-Green Migration Support<a href="#blue-green-migration-support" class="hash-link" aria-label="Direct link to Blue-Green Migration Support" title="Direct link to Blue-Green Migration Support">​</a></h3>
<p>Added comprehensive support for blue-green cluster migrations:</p>
<ul>
<li>Validation for migration cluster existence</li>
<li>Improved migration state handling</li>
<li>Better error handling during migration processes</li>
<li>Enhanced monitoring and metrics for migration progress</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="metrics-and-observability">Metrics and Observability<a href="#metrics-and-observability" class="hash-link" aria-label="Direct link to Metrics and Observability" title="Direct link to Metrics and Observability">​</a></h3>
<p>Improved monitoring capabilities with:</p>
<ul>
<li>Fixed metric naming for delayed queues (<a href="https://github.com/apache/pulsar/blob/master/pip/pip-399.md" class="blacklink" target="_blank">PIP-399</a>)</li>
<li>Added dispatch throttling metrics (<a href="https://github.com/apache/pulsar/blob/master/pip/pip-406.md" class="blacklink" target="_blank">PIP-406</a>)</li>
<li>Enhanced topic statistics with timestamp information</li>
<li>Better error categorization and monitoring</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="library-updates-and-dependency-management">Library Updates and Dependency Management<a href="#library-updates-and-dependency-management" class="hash-link" aria-label="Direct link to Library Updates and Dependency Management" title="Direct link to Library Updates and Dependency Management">​</a></h2>
<p>Pulsar 4.1 includes extensive library updates to ensure security, performance, and compatibility:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="major-framework-updates">Major Framework Updates<a href="#major-framework-updates" class="hash-link" aria-label="Direct link to Major Framework Updates" title="Direct link to Major Framework Updates">​</a></h3>
<ul>
<li><strong>Apache BookKeeper</strong>: Upgraded to 4.17.2 with improved performance and stability</li>
<li><strong>Netty</strong>: Updated to 4.1.122.Final with security fixes and performance improvements</li>
<li><strong>Avro</strong>: Upgraded to 1.12.0 for better schema handling</li>
<li><strong>OpenTelemetry</strong>: Updated to 1.45.0 for enhanced observability</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="build-and-development-tools">Build and Development Tools<a href="#build-and-development-tools" class="hash-link" aria-label="Direct link to Build and Development Tools" title="Direct link to Build and Development Tools">​</a></h3>
<ul>
<li><strong>Java 17 Requirement</strong>: <a href="https://github.com/apache/pulsar/blob/master/pip/pip-421.md" class="blacklink" target="_blank">PIP-421</a> establishes Java 17 as the minimum requirement for the Java client SDK</li>
<li><strong>Caffeine</strong>: Upgraded from 2.9.1 to 3.2.1 for improved caching performance</li>
<li><strong>Guava</strong>: Updated to 33.4.8 with JSpecify annotations</li>
<li><strong>Spring Framework</strong>: Updated to 6.1.14 in IO connectors</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="start-using-pulsar-41">Start using Pulsar 4.1<a href="#start-using-pulsar-41" class="hash-link" aria-label="Direct link to Start using Pulsar 4.1" title="Direct link to Start using Pulsar 4.1">​</a></h2>
<p>Pulsar 4.1.0 is now available for <a href="https://pulsar.apache.org/download/" target="_blank" rel="noopener noreferrer">download</a>. The download page also includes details about the Docker image. To get started with Pulsar, you can run a Pulsar cluster <a href="https://pulsar.apache.org/docs/4.1.x/getting-started-home/" target="_blank" rel="noopener noreferrer">on your local machine, Docker, or Kubernetes</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrading-existing-clusters-to-pulsar-41">Upgrading existing clusters to Pulsar 4.1<a href="#upgrading-existing-clusters-to-pulsar-41" class="hash-link" aria-label="Direct link to Upgrading existing clusters to Pulsar 4.1" title="Direct link to Upgrading existing clusters to Pulsar 4.1">​</a></h2>
<p>As a feature release within the 4.x series, Pulsar 4.1 maintains compatibility with Pulsar 4.0 deployments. Users running Pulsar 4.0.x can upgrade directly to Pulsar 4.1.0 following standard upgrade procedures.</p>
<p>Pulsar changes in releases are designed to allow upgrading an existing Pulsar cluster to a newer release and then rolling back to the original release version if issues arise. This is considered when changes are made in Pulsar and the default BookKeeper configuration for Pulsar. Since Apache Pulsar is an open-source project, there is no guarantee that a specific configuration can be upgraded and downgraded.</p>
<p>Each Pulsar user is responsible for operating their cluster, and Pulsar cluster upgrades should be tested in testing and staging environments to ensure that a specific configuration can be upgraded and downgraded. When something is supported in the Apache Project, it means that the project is committed to addressing reported issues. This also applies to release upgrade compatibility.</p>
<p>For users upgrading from earlier versions, please follow the standard upgrade path: first upgrade to Pulsar 4.0.x, then proceed to Pulsar 4.1.0.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrading-clients-to-use-pulsar-41">Upgrading clients to use Pulsar 4.1<a href="#upgrading-clients-to-use-pulsar-41" class="hash-link" aria-label="Direct link to Upgrading clients to use Pulsar 4.1" title="Direct link to Upgrading clients to use Pulsar 4.1">​</a></h2>
<p>Pulsar 4.1 clients are compatible with Pulsar 4.0 clusters, and Pulsar 4.0 clients are compatible with Pulsar 4.1 clusters. When upgrading clients, you can upgrade directly to the latest supported version. It is recommended to keep the clients up-to-date with the latest security patches and bug fixes.</p>
<p><strong>Important Note</strong>: <a href="https://github.com/apache/pulsar/blob/master/pip/pip-421.md" class="blacklink" target="_blank">PIP-421</a> establishes Java 17 as the minimum requirement for the Pulsar Java client SDK starting with 4.1. Please ensure your client applications are running on Java 17 or later before upgrading.</p>
<p>When upgrading Java clients, it is a common problem that client module library versions are not aligned. It is recommended to use the <a href="https://pulsar.apache.org/docs/4.1.x/client-libraries-java-setup/#pulsar-bom" target="_blank" rel="noopener noreferrer">Pulsar BOM</a> to manage the Pulsar Java client version in Maven and Gradle builds. There are also specific instructions for <a href="https://pulsar.apache.org/docs/4.1.x/client-libraries-java-setup/#spring-boot" target="_blank" rel="noopener noreferrer">selecting the Pulsar client version in Spring Boot projects</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="thank-you-to-apache-pulsar-contributors">Thank You to Apache Pulsar Contributors<a href="#thank-you-to-apache-pulsar-contributors" class="hash-link" aria-label="Direct link to Thank You to Apache Pulsar Contributors" title="Direct link to Thank You to Apache Pulsar Contributors">​</a></h2>
<p>Apache Pulsar 4.1 represents the continued collaborative effort of our vibrant open-source community. This release demonstrates the dedication of developers, organizations, and users worldwide who have contributed to making data streaming more reliable and accessible.</p>
<p>We extend our deepest gratitude to:</p>
<ul>
<li>The individual contributors who developed new features, reported bugs, fixed bugs, and improved documentation</li>
<li>The committers and PMC members who participated in Apache Pulsar project security issue handling, PIP decision making, and voting for releases</li>
<li>The organizations that have deployed Pulsar in production and shared their valuable feedback</li>
<li>The users who participated in testing and provided invaluable input during the release process</li>
<li>The broader Apache Software Foundation community for their continued support</li>
</ul>
<p>The strength of Apache Pulsar lies in its community-driven development. Whether you&#x27;re running Pulsar in production or evaluating it for your technology stack, we encourage you to join the conversation on the <a href="https://pulsar.apache.org/contact/#mailing-lists" target="_blank" rel="noopener noreferrer">dev@pulsar.apache.org</a> mailing list or the <a href="https://pulsar.apache.org/community/#section-discussions" target="_blank" rel="noopener noreferrer">Pulsar Slack community</a>. Your experience and feedback help shape the future of this platform.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/apache/pulsar-site/edit/main/blog/2025-09-09-announcing-apache-pulsar-4-1.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav blog-post-pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2024/10/24/announcing-apache-pulsar-4-0/"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">What&#x27;s New in Apache Pulsar 4.0</div></a><div class="blog-post-pagination-nav-more"><a href="/blog">Show All</a></div></div></nav></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.apache.org/events/current-event.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="footer__link-item">License<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/security/">Security</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/policies/privacy.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/contact/">Contact</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item">
                <div class="social-icons">
                  <a target="_blank" href="https://communityinviter.com/apps/apache-pulsar/apache-pulsar" aria-label="Join the Apache Pulsar Slack workspace">
                    <img alt="Slack logo" src="/img/slack-white.svg" width="26">
                  </a>
                  <a target="_blank" href="https://github.com/apache/pulsar/" aria-label="View the Apache Pulsar project on GitHub">
                    <img alt="GitHub logo" src="/img/github-white.svg" width="26">
                  </a>
                </div>
              </li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/"><img src="/img/pulsar-white.svg" alt="Pulsar Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/pulsar-white.svg" alt="Pulsar Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">
        <div>
          <img class="footer-apache-logo" src="/img/feather-logo-white.svg" alt="" width="20">
          The Apache Software Foundation
        </div>
        <p>Apache Pulsar is available under the Apache License, version 2.0. Apache Pulsar is an open-source, distributed messaging and streaming platform built for the cloud.</p>
        <p>Copyright © 2025 The Apache Software Foundation. All Rights Reserved. Apache, Pulsar, Apache Pulsar, and the Apache feather logo are trademarks or registered trademarks of The Apache Software Foundation.</p>
      </div></div></div></footer></div>
</body>
</html>