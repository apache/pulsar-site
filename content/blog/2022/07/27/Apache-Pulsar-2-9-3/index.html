<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Pulsar RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Pulsar Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-102219959-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>


<link rel="search" type="application/opensearchdescription+xml" title="Apache Pulsar" href="/opensearch.xml">




<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@300;400;600,900&display=swap">
<script src="https://pulsar.apache.org/js/sine-waves.min.js" async></script><title data-rh="true">Whatâ€™s New in Apache Pulsar 2.9.3 | Apache Pulsar</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://pulsar.apache.org/blog/2022/07/27/Apache-Pulsar-2-9-3"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Whatâ€™s New in Apache Pulsar 2.9.3 | Apache Pulsar"><meta data-rh="true" name="description" content="The Apache Pulsar community releases version 2.9.3! 50 contributors provided improvements and bug fixes that delivered 200+ commits. Thanks for all your contributions."><meta data-rh="true" property="og:description" content="The Apache Pulsar community releases version 2.9.3! 50 contributors provided improvements and bug fixes that delivered 200+ commits. Thanks for all your contributions."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-07-27T00:00:00.000Z"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pulsar.apache.org/blog/2022/07/27/Apache-Pulsar-2-9-3"><link data-rh="true" rel="alternate" href="https://pulsar.apache.org/blog/2022/07/27/Apache-Pulsar-2-9-3" hreflang="en"><link data-rh="true" rel="alternate" href="https://pulsar.apache.org/blog/2022/07/27/Apache-Pulsar-2-9-3" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://WK2YL0SALL-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.54a1dc12.css">
<link rel="preload" href="/assets/js/runtime~main.36485124.js" as="script">
<link rel="preload" href="/assets/js/main.0b5d4233.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#198fff;color:#fff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="announcementBarContent_xLdY">ðŸš€ Pulsar Summit Asia 2022 will take place on November 19th and 20th, 2022. The CFP is open now! <a target="_blank" href="https://sessionize.com/pulsar-summit-asia-2022/">Submit a proposal</a> to share your Pulsar story!</div><button type="button" class="clean-btn close announcementBarClose_gvF7" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="pulasr logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="pulasr logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Get Started</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/concepts-overview">Pulsar Concepts</a></li><li><a class="dropdown__link" href="/docs">Quickstart</a></li><li><a class="dropdown__link" href="/ecosystem">Ecosystem</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/contribute/">Contribute</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link community-dropdown">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link scroll-link scroll-welcome" id="scroll-welcome" href="/community#section-welcome">Welcome</a></li><li><a class="dropdown__link scroll-link scroll-discussions" id="scroll-discussions" href="/community#section-discussions">Discussions</a></li><li><a class="dropdown__link scroll-link" id="scroll-governance" href="/community#section-governance">Governance</a></li><li><a class="dropdown__link scroll-link" id="scroll-community" href="/community#section-community">Meet the Community</a></li><li><a class="dropdown__link scroll-link" id="scroll-contribute" href="/community#section-contribute">Contribute</a></li><li><a href="https://github.com/apache/pulsar/wiki" target="_blank" rel="noopener noreferrer" class="dropdown__link">Wiki</a></li><li><a href="https://github.com/apache/pulsar/issues" target="_blank" rel="noopener noreferrer" class="dropdown__link">Issue Tracking</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Learn</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/blog">Blog</a></li><li><a class="dropdown__link" href="/case-studies">Case Studies</a></li><li><a class="dropdown__link" href="/resources">Resources</a></li><li><a class="dropdown__link" href="/events">Events</a></li></ul></div><a class="navbar__item navbar__link download-btn pill-btn" href="/download">Download</a><a href="https://github.com/apache/pulsar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link github-nav">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/09/09/Apache-Pulsar-2-7-5">Whatâ€™s New in Apache Pulsar 2.7.5</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/08/22/pulsar-summit-asia-2022-cfp">Pulsar Summit Asia 2022: CFP Is Open Now!</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/2022/07/27/Apache-Pulsar-2-9-3">Whatâ€™s New in Apache Pulsar 2.9.3</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/07/26/pulsar-sessions-in-apachecon-aisa-2022">Apache Pulsar Sessions in ApacheCon Asia 2022: Join Us Now and Check the Schedule</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/07/15/pulsar-summit-san-francisco">Speakers and Sponsorship Prospectus Announced for Pulsar Summit San Francisco 2022</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Whatâ€™s New in Apache Pulsar 2.9.3</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-07-27T00:00:00.000Z" itemprop="datePublished">July 27, 2022</time> Â· <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">mattisonchao, momo-jun</span></div></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>The Apache Pulsar community releases version 2.9.3! 50 contributors provided improvements and bug fixes that delivered 200+ commits. Thanks for all your contributions.</p><p>The highlight of the 2.9.3 release is introducing 30+ transaction fixes and improvements. Earlier-adoption users of Pulsar transactions have documented long-term use in their production environments and reported valuable findings in real applications. This provides the Pulsar community with the opportunity to make a difference. </p><p>This blog walks through the most noteworthy changes. For the complete list including all feature enhancements and bug fixes, check out the <a href="https://pulsar.apache.org/release-notes/versioned/pulsar-2.9.3/" target="_blank" rel="noopener noreferrer">Pulsar 2.9.3 Release Notes</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enabled-cursor-data-compression-to-reduce-persistent-cursor-data-size-14542">Enabled cursor data compression to reduce persistent cursor data size. <a href="https://github.com/apache/pulsar/pull/14542" target="_blank" rel="noopener noreferrer">14542</a><a class="hash-link" href="#enabled-cursor-data-compression-to-reduce-persistent-cursor-data-size-14542" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="issue">Issue<a class="hash-link" href="#issue" title="Direct link to heading">â€‹</a></h4><p>The cursor data is managed by the ZooKeeper/Etcd metadata store. When the data size increases, it may take too much time to pull the data, and brokers may end up writing large chunks of data to the ZooKeeper/Etcd metadata store.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="resolution">Resolution<a class="hash-link" href="#resolution" title="Direct link to heading">â€‹</a></h4><p>Provide the ability to enable compression mechanisms to reduce cursor data size and the pulling time.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reduced-the-memory-occupied-by-metadatapositions-and-avoid-oom-15137">Reduced the memory occupied by <code>metadataPositions</code> and avoid OOM. <a href="https://github.com/apache/pulsar/pull/15137" target="_blank" rel="noopener noreferrer">15137</a><a class="hash-link" href="#reduced-the-memory-occupied-by-metadatapositions-and-avoid-oom-15137" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="issue-1">Issue<a class="hash-link" href="#issue-1" title="Direct link to heading">â€‹</a></h4><p>The map <code>metadataPositions</code> in MLPendingAckStore is used to clear useless data in PendingAck, where the key is the position that is persistent in PendingAck and the value is the max position acked by an operation. It judges whether the max subscription cursor position is smaller than the subscription cursorâ€™s <code>markDeletePosition</code>. If the max position is smaller, then the log cursor will mark to delete the position. It causes two main issues:</p><ul><li>In normal cases, this map stores all transaction ack operations. This is a waste of memory and CPU.</li><li>If a transaction that has not been committed for a long time acks a message in a later position, the map will not be cleaned up, which finally leads to OOM (out-of-memory).</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="resolution-1">Resolution<a class="hash-link" href="#resolution-1" title="Direct link to heading">â€‹</a></h4><p>Regularly store a small amount of data according to certain rules. For more detailed implementation, refer to <a href="https://github.com/apache/pulsar/issues/15073" target="_blank" rel="noopener noreferrer">PIP-153</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="checked-lowwatermark-before-appending-transaction-entries-to-transaction-buffer-15424">Checked <code>lowWaterMark</code> before appending transaction entries to Transaction Buffer. <a href="https://github.com/apache/pulsar/pull/15424" target="_blank" rel="noopener noreferrer">15424</a><a class="hash-link" href="#checked-lowwatermark-before-appending-transaction-entries-to-transaction-buffer-15424" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="issue-2">Issue<a class="hash-link" href="#issue-2" title="Direct link to heading">â€‹</a></h4><p>When a client sends messages using a previously committed transaction, these messages are visible to consumers unexpectedly.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="resolution-2">Resolution<a class="hash-link" href="#resolution-2" title="Direct link to heading">â€‹</a></h4><p>Add a map to store the <code>lowWaterMark</code> of Transaction Coordinator in Trasanction Buffer, and check <code>lowWaterMark</code> before appending transaction entries to Trasanction Buffer. So when sending messages using an invalid transaction, clients will receive <code>NotAllowedException</code>. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-the-consumption-performance-regression-pr-15162">Fixed the consumption performance regression. <a href="https://github.com/apache/pulsar/pull/15162" target="_blank" rel="noopener noreferrer">PR-15162</a><a class="hash-link" href="#fixed-the-consumption-performance-regression-pr-15162" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="issue-3">Issue<a class="hash-link" href="#issue-3" title="Direct link to heading">â€‹</a></h4><p>This performance regression was introduced in 2.10.0, 2.9.1, and 2.8.3. You may find a significant performance drop with message listeners while using Java Client. The root cause is each message will introduce the thread switching from the external thread pool to the internal thread poll and then to the external thread pool.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="resolution-3">Resolution<a class="hash-link" href="#resolution-3" title="Direct link to heading">â€‹</a></h4><p>Avoid the thread switching for each message to improve consumption throughput.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-a-deadlock-issue-of-topic-creation-pr-15570">Fixed a deadlock issue of topic creation. <a href="https://github.com/apache/pulsar/pull/15570" target="_blank" rel="noopener noreferrer">PR-15570</a><a class="hash-link" href="#fixed-a-deadlock-issue-of-topic-creation-pr-15570" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="issue-4">Issue<a class="hash-link" href="#issue-4" title="Direct link to heading">â€‹</a></h4><p>This deadlock issue occurred during topic creation by trying to re-acquire the same <code>StampedLock</code> from the same thread when removing it. This will cause the topic to stop service for a long time, and ultimately with a failure in the deduplication or geo-replication check. The workaround is restarting the broker.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="optimized-the-memory-usage-of-brokers">Optimized the memory usage of brokers.<a class="hash-link" href="#optimized-the-memory-usage-of-brokers" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="issue-5">Issue<a class="hash-link" href="#issue-5" title="Direct link to heading">â€‹</a></h4><p>Pulsar has some internal data structures, such as <code>ConcurrentLongLongPairHashMap</code>, and <code>ConcurrentLongPairHashMap</code>, which can reduce the memory usage rather than using the Boxing type. However, in earlier versions, the data structures were not supported for shrinking even if the data was removed, which wasted a certain amount of memory in certain situations.</p><p><strong>Pull requests</strong></p><ul><li><a href="https://github.com/apache/pulsar/pull/15354" target="_blank" rel="noopener noreferrer">https://github.com/apache/pulsar/pull/15354</a></li><li><a href="https://github.com/apache/pulsar/pull/15342" target="_blank" rel="noopener noreferrer">https://github.com/apache/pulsar/pull/15342</a></li><li><a href="https://github.com/apache/pulsar/pull/14663" target="_blank" rel="noopener noreferrer">https://github.com/apache/pulsar/pull/14663</a></li><li><a href="https://github.com/apache/pulsar/pull/14515" target="_blank" rel="noopener noreferrer">https://github.com/apache/pulsar/pull/14515</a></li><li><a href="https://github.com/apache/pulsar/pull/14497" target="_blank" rel="noopener noreferrer">https://github.com/apache/pulsar/pull/14497</a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="resolution-4">Resolution<a class="hash-link" href="#resolution-4" title="Direct link to heading">â€‹</a></h4><p>Support the shrinking of the internal data structures, such as <code>ConcurrentSortedLongPairSet</code>, <code>ConcurrentOpenHashMap</code>, and so on.</p><h1>Whatâ€™s Next?</h1><p>If you are interested in learning more about Pulsar 2.9.3, you can <a href="https://pulsar.apache.org/versions/" target="_blank" rel="noopener noreferrer">download</a> and try it out now! </p><p><strong>Pulsar Summit San Francisco 2022</strong> will take place on August 18th, 2022. <a href="https://pulsar-summit.org/" target="_blank" rel="noopener noreferrer">Register now</a> and help us make it an even bigger success by spreading the word on social media!</p><p>For more information about the Apache Pulsar project and current progress, visit
the <a href="https://pulsar.apache.org" target="_blank" rel="noopener noreferrer">Pulsar website</a>, follow the project on Twitter
<a href="https://twitter.com/apache_pulsar" target="_blank" rel="noopener noreferrer">@apache_pulsar</a>, and join <a href="https://apache-pulsar.herokuapp.com/" target="_blank" rel="noopener noreferrer">Pulsar Slack</a>!</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col margin-top--sm"><a href="https://github.com/apache/pulsar-site/edit/main/site2/website-next/blog/2022-07-27-Apache-Pulsar-2-9-3.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2022/08/22/pulsar-summit-asia-2022-cfp"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Pulsar Summit Asia 2022: CFP Is Open Now!</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2022/07/26/pulsar-sessions-in-apachecon-aisa-2022"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Apache Pulsar Sessions in ApacheCon Asia 2022: Join Us Now and Check the Schedule</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#enabled-cursor-data-compression-to-reduce-persistent-cursor-data-size-14542" class="table-of-contents__link toc-highlight">Enabled cursor data compression to reduce persistent cursor data size. 14542</a></li><li><a href="#reduced-the-memory-occupied-by-metadatapositions-and-avoid-oom-15137" class="table-of-contents__link toc-highlight">Reduced the memory occupied by <code>metadataPositions</code> and avoid OOM. 15137</a></li><li><a href="#checked-lowwatermark-before-appending-transaction-entries-to-transaction-buffer-15424" class="table-of-contents__link toc-highlight">Checked <code>lowWaterMark</code> before appending transaction entries to Transaction Buffer. 15424</a></li><li><a href="#fixed-the-consumption-performance-regression-pr-15162" class="table-of-contents__link toc-highlight">Fixed the consumption performance regression. PR-15162</a></li><li><a href="#fixed-a-deadlock-issue-of-topic-creation-pr-15570" class="table-of-contents__link toc-highlight">Fixed a deadlock issue of topic creation. PR-15570</a></li><li><a href="#optimized-the-memory-usage-of-brokers" class="table-of-contents__link toc-highlight">Optimized the memory usage of brokers.</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Apache Foundation.</div><ul class="footer__items clean-list"><li class="footer__item">
	              <img class="footer-apache-logo" src="/img/Apache_Feather_Logo.svg" alt="" width="20">
	              </li><li class="footer__item"><a href="http://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.apache.org/events/current-event.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="footer__link-item">License<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.apache.org/security" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/policies/privacy.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"> </div><ul class="footer__items clean-list"><li class="footer__item">
	              <div><small><strong>Apache Pulsar is available under the <a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License, version 2.0.</a></strong></small></div>
                <div>Apache Pulsar is a distributed, open source pub-sub messaging and streaming platform for real-time workloads, managing hundreds of billions of events per day.</div>
	              </li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/"><img src="/img/pulsar-white.svg" alt="Pulsar Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/pulsar-white.svg" alt="Pulsar Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright"><p>Apache Pulsar is available under the Apache License, version 2.0.</p>
      <p>Copyright Â© 2022 The Apache Software Foundation. All Rights Reserved. Apache, Pulsar, Apache Pulsar, and the Apache feather logo are trademarks or registered trademarks of The Apache Software Foundation.</p></div></div></div></footer></div>
<script src="/assets/js/runtime~main.36485124.js"></script>
<script src="/assets/js/main.0b5d4233.js"></script>
</body>
</html>