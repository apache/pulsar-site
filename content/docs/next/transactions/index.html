<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-transactions" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Transactions | Apache Pulsar</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://pulsar.apache.org/img/pulsar-social-media-card.png"><meta data-rh="true" name="twitter:image" content="https://pulsar.apache.org/img/pulsar-social-media-card.png"><meta data-rh="true" property="og:url" content="https://pulsar.apache.org/docs/next/transactions/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Transactions | Apache Pulsar"><meta data-rh="true" name="description" content="Transactional semantics enable event streaming applications to consume, process, and produce messages in one atomic operation. In Pulsar, a producer or consumer can work with messages across multiple topics and partitions and ensure those messages are processed as a single unit."><meta data-rh="true" property="og:description" content="Transactional semantics enable event streaming applications to consume, process, and produce messages in one atomic operation. In Pulsar, a producer or consumer can work with messages across multiple topics and partitions and ensure those messages are processed as a single unit."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pulsar.apache.org/docs/next/transactions/"><link data-rh="true" rel="alternate" href="https://pulsar.apache.org/docs/next/transactions/" hreflang="en"><link data-rh="true" rel="alternate" href="https://pulsar.apache.org/docs/next/transactions/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://WK2YL0SALL-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Pulsar RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Pulsar Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Apache Pulsar" href="/opensearch.xml">







<link rel="stylesheet" href="/css/katex-0.13.24.min.css" media="print" onload="this.media=&#39;all&#39;">
<script src="/js/sine-waves.min.js" async></script>
<script src="/js/matomo-agent.js"></script><link rel="stylesheet" href="/assets/css/styles.8505adb1.css">
<script src="/assets/js/runtime~main.f898f007.js" defer="defer"></script>
<script src="/assets/js/main.46e2eebc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#282826;color:#fff" role="banner"><div class="content_knG7 announcementBarContent_xLdY">
    <a class="announcement-bar" href="/blog/2025/09/09/announcing-apache-pulsar-4-1/" target="_blank">
      <div class="announcement-bar__content">
        <!-- <svg class="announcement-bar__icon">
          
<svg viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.5 19.6001H16.1L15.3 29.2001L26.5 12.4H17.06L18.1 2.80005L6.5 19.6001Z" stroke="#F7F7F7" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        </svg> -->

        <span>
          ✨ Apache Pulsar 4.1 is here! ✨
        </span>

        <svg class="announcement-bar__icon">
          
<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="20" height="20" transform="translate(6 6)" fill="white" fill-opacity="0.01"/>
<path d="M17.6667 10.1667L23.5 16.0001M23.5 16.0001L17.6667 21.8334M23.5 16.0001L8.5 16.0001" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
<rect x="0.5" y="0.5" width="31" height="31" rx="15.5" stroke="white"/>
</svg>

        </svg>
      </div>
    </a>
  </div></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-black.svg" alt="Apache Pulsar logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="25" width="127"><img src="/img/logo-black.svg" alt="Apache Pulsar logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="25" width="127"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Get Started</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/4.1.x/concepts-overview/">Concepts</a></li><li><a class="dropdown__link" href="/docs/4.1.x/">Quickstart</a></li><li><a class="dropdown__link" href="/ecosystem/">Ecosystem</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/next/">Docs</a><a class="navbar__item navbar__link" href="/features/">Features</a><a class="navbar__item navbar__link" href="/use-cases/">Use Cases</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link community-dropdown">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link scroll-link scroll-welcome" id="scroll-welcome" href="/community/">Welcome</a></li><li><a class="dropdown__link scroll-link scroll-discussions" id="scroll-discussions" href="/community/#section-discussions">Discussions</a></li><li><a class="dropdown__link scroll-link" id="scroll-governance" href="/community/#section-governance">Governance</a></li><li><a class="dropdown__link scroll-link" id="scroll-community" href="/community/#section-community">Meet the Community</a></li><li><a class="dropdown__link scroll-link" id="scroll-contribute" href="/community/#section-contribute">Contribute</a></li><li><a class="dropdown__link" href="/contribute/">Contribution Guide</a></li><li><a href="https://github.com/apache/pulsar/wiki" target="_blank" rel="noopener noreferrer" class="dropdown__link">Wiki</a></li><li><a href="https://github.com/apache/pulsar/issues" target="_blank" rel="noopener noreferrer" class="dropdown__link">Issue Tracking</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/blog/">Blog</a></li><li><a class="dropdown__link" href="/books/">Books</a></li><li><a class="dropdown__link" href="/case-studies/">Case Studies</a></li><li><a class="dropdown__link" href="/articles/">Articles</a></li><li><a class="dropdown__link" href="/presentations/">Presentations</a></li><li><a class="dropdown__link" href="/events/">Events</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link navbar_download_button" href="/download/">Download</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Transactions</h1></header><p>Transactional semantics enable event streaming applications to consume, process, and produce messages in one atomic operation. In Pulsar, a producer or consumer can work with messages across multiple topics and partitions and ensure those messages are processed as a single unit.</p>
<p>The following concepts help you understand Pulsar transactions.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-coordinator-and-transaction-log">Transaction coordinator and transaction log<a href="#transaction-coordinator-and-transaction-log" class="hash-link" aria-label="Direct link to Transaction coordinator and transaction log" title="Direct link to Transaction coordinator and transaction log">​</a></h2>
<p>The transaction coordinator maintains the topics and subscriptions that interact in a transaction. When a transaction is committed, the transaction coordinator interacts with the topic owner broker to complete the transaction.</p>
<p>The transaction coordinator maintains the entire life cycle of transactions and prevents a transaction from incorrect status.</p>
<p>The transaction coordinator handles transaction timeout and ensures that the transaction is aborted after a transaction timeout.</p>
<p>All the transaction metadata is persisted in the transaction log. The transaction log is backed by a Pulsar topic. After the transaction coordinator crashes, it can restore the transaction metadata from the transaction log.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-id">Transaction ID<a href="#transaction-id" class="hash-link" aria-label="Direct link to Transaction ID" title="Direct link to Transaction ID">​</a></h2>
<p>The transaction ID (TxnID) identifies a unique transaction in Pulsar. The transaction ID is 128-bit. The highest 16 bits are reserved for the ID of the transaction coordinator, and the remaining bits are used for monotonically increasing numbers in each transaction coordinator. It is easy to locate the transaction crash with the TxnID.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-buffer">Transaction buffer<a href="#transaction-buffer" class="hash-link" aria-label="Direct link to Transaction buffer" title="Direct link to Transaction buffer">​</a></h2>
<p>Messages produced within a transaction are stored in the transaction buffer. The messages in transaction buffer are not materialized (visible) to consumers until the transactions are committed. The messages in the transaction buffer are discarded when the transactions are aborted.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pending-acknowledge-state">Pending acknowledge state<a href="#pending-acknowledge-state" class="hash-link" aria-label="Direct link to Pending acknowledge state" title="Direct link to Pending acknowledge state">​</a></h2>
<p>Message acknowledges within a transaction are maintained by the pending acknowledge state before the transaction completes. If a message is in the pending acknowledge state, the message cannot be acknowledged by other transactions until the message is removed from the pending acknowledge state.</p>
<p>The pending acknowledge state is persisted in the pending acknowledge log. The pending acknowledge log is backed by a Pulsar topic. A new broker can restore the state from the pending acknowledge log to ensure the acknowledgment is not lost.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance-optimizations">Performance Optimizations<a href="#performance-optimizations" class="hash-link" aria-label="Direct link to Performance Optimizations" title="Direct link to Performance Optimizations">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-log-batching">Transaction Log Batching<a href="#transaction-log-batching" class="hash-link" aria-label="Direct link to Transaction Log Batching" title="Direct link to Transaction Log Batching">​</a></h3>
<p>Pulsar supports batched writing to transaction logs to improve performance and reduce the overhead of maintaining transaction state. When enabled, multiple transaction log entries are batched together before writing to storage, reducing I/O operations and improving throughput.</p>
<p><strong>Key configuration parameters:</strong></p>
<ul>
<li><code>transactionLogBatchedWriteEnabled</code>: Enable batched writing for transaction logs</li>
<li><code>transactionLogBatchedWriteMaxRecords</code>: Maximum number of records in a batch</li>
<li><code>transactionLogBatchedWriteMaxSize</code>: Maximum size of a batch in bytes</li>
<li><code>transactionLogBatchedWriteMaxDelayInMillis</code>: Maximum delay before flushing a batch</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pending-acknowledgment-batching">Pending Acknowledgment Batching<a href="#pending-acknowledgment-batching" class="hash-link" aria-label="Direct link to Pending Acknowledgment Batching" title="Direct link to Pending Acknowledgment Batching">​</a></h3>
<p>To improve performance when handling large numbers of pending acknowledgments, Pulsar supports batching of pending acknowledgment operations. This reduces the overhead of maintaining pending ack state for high-throughput transactional workloads.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="segmented-transaction-buffer-snapshots">Segmented Transaction Buffer Snapshots<a href="#segmented-transaction-buffer-snapshots" class="hash-link" aria-label="Direct link to Segmented Transaction Buffer Snapshots" title="Direct link to Segmented Transaction Buffer Snapshots">​</a></h3>
<p>For handling large numbers of aborted transactions efficiently, Pulsar implements segmented snapshot functionality. This feature helps manage transaction buffer snapshots more effectively when dealing with scenarios involving many aborted transactions.</p>
<p><strong>Benefits:</strong></p>
<ul>
<li>Improved memory management for transaction buffers</li>
<li>Better handling of abort scenarios with large transaction volumes</li>
<li>Reduced snapshot overhead for transaction recovery</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-buffer-performance-tuning">Transaction Buffer Performance Tuning<a href="#transaction-buffer-performance-tuning" class="hash-link" aria-label="Direct link to Transaction Buffer Performance Tuning" title="Direct link to Transaction Buffer Performance Tuning">​</a></h3>
<p>Recent improvements include enhanced transaction buffer configurations for performance tuning:</p>
<ul>
<li><strong>Buffer size optimization</strong>: Configurable buffer sizes for different workload patterns</li>
<li><strong>Batch processing</strong>: Improved batching within transaction buffers</li>
<li><strong>Memory management</strong>: Better memory allocation strategies for transaction data</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-isolation-and-consistency">Transaction Isolation and Consistency<a href="#transaction-isolation-and-consistency" class="hash-link" aria-label="Direct link to Transaction Isolation and Consistency" title="Direct link to Transaction Isolation and Consistency">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="read-committed-isolation">Read Committed Isolation<a href="#read-committed-isolation" class="hash-link" aria-label="Direct link to Read Committed Isolation" title="Direct link to Read Committed Isolation">​</a></h3>
<p>Pulsar transactions provide <strong>read committed</strong> isolation level, ensuring that:</p>
<ul>
<li>Consumers only see messages from committed transactions</li>
<li>Uncommitted messages remain invisible until transaction commit</li>
<li>Aborted transactions have their messages discarded automatically</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cross-partition-consistency">Cross-Partition Consistency<a href="#cross-partition-consistency" class="hash-link" aria-label="Direct link to Cross-Partition Consistency" title="Direct link to Cross-Partition Consistency">​</a></h3>
<p>Transactions in Pulsar can span multiple topics and partitions while maintaining consistency:</p>
<ul>
<li><strong>Atomic commits</strong>: All operations within a transaction succeed or fail together</li>
<li><strong>Coordinator-managed state</strong>: Transaction coordinator ensures consistent state across partitions</li>
<li><strong>Failure recovery</strong>: System can recover to consistent state after coordinator failures</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-timeouts-and-recovery">Transaction Timeouts and Recovery<a href="#transaction-timeouts-and-recovery" class="hash-link" aria-label="Direct link to Transaction Timeouts and Recovery" title="Direct link to Transaction Timeouts and Recovery">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="timeout-management">Timeout Management<a href="#timeout-management" class="hash-link" aria-label="Direct link to Timeout Management" title="Direct link to Timeout Management">​</a></h3>
<p>The transaction coordinator handles transaction timeouts to prevent indefinitely hanging transactions:</p>
<ul>
<li><strong>Configurable timeouts</strong>: Set appropriate timeout values for different use cases</li>
<li><strong>Automatic abort</strong>: Transactions are automatically aborted when they exceed timeout</li>
<li><strong>Resource cleanup</strong>: Timed-out transactions have their resources cleaned up automatically</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-recovery">Coordinator Recovery<a href="#coordinator-recovery" class="hash-link" aria-label="Direct link to Coordinator Recovery" title="Direct link to Coordinator Recovery">​</a></h3>
<p>When a transaction coordinator fails, recovery mechanisms ensure transaction consistency:</p>
<ul>
<li><strong>State restoration</strong>: Transaction state is restored from transaction logs</li>
<li><strong>Pending transaction handling</strong>: In-progress transactions are properly handled during recovery</li>
<li><strong>Metadata consistency</strong>: Transaction metadata remains consistent across coordinator restarts</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-and-best-practices">Configuration and Best Practices<a href="#configuration-and-best-practices" class="hash-link" aria-label="Direct link to Configuration and Best Practices" title="Direct link to Configuration and Best Practices">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-configuration-parameters">Key Configuration Parameters<a href="#key-configuration-parameters" class="hash-link" aria-label="Direct link to Key Configuration Parameters" title="Direct link to Key Configuration Parameters">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="core-transaction-settings">Core Transaction Settings<a href="#core-transaction-settings" class="hash-link" aria-label="Direct link to Core Transaction Settings" title="Direct link to Core Transaction Settings">​</a></h4>
<ul>
<li><code>transactionCoordinatorEnabled</code>: Enable transaction coordinator in broker (default: <code>false</code>)</li>
<li><code>transactionMetadataStoreProviderClassName</code>: Transaction metadata store provider class (default: <code>org.apache.pulsar.transaction.coordinator.impl.MLTransactionMetadataStoreProvider</code>)</li>
<li><code>transactionBufferProviderClassName</code>: Transaction buffer provider class (default: <code>org.apache.pulsar.broker.transaction.buffer.impl.TopicTransactionBufferProvider</code>)</li>
<li><code>transactionPendingAckStoreProviderClassName</code>: Transaction pending ack store provider class (default: <code>org.apache.pulsar.broker.transaction.pendingack.impl.MLPendingAckStoreProvider</code>)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="batched-write-settings">Batched Write Settings<a href="#batched-write-settings" class="hash-link" aria-label="Direct link to Batched Write Settings" title="Direct link to Batched Write Settings">​</a></h4>
<ul>
<li><code>transactionLogBatchedWriteEnabled</code>: Enable batched transaction log writes for better efficiency (default: <code>false</code>)</li>
<li><code>transactionLogBatchedWriteMaxRecords</code>: Maximum log records count in a batch (default: <code>512</code>)</li>
<li><code>transactionLogBatchedWriteMaxSize</code>: Maximum bytes size in a batch (default: <code>4194304</code> - 4 MB)</li>
<li><code>transactionLogBatchedWriteMaxDelayInMillis</code>: Maximum wait time for first record in batch (default: <code>1</code>)</li>
<li><code>transactionPendingAckBatchedWriteEnabled</code>: Enable batched writes for pending ack store (default: <code>false</code>)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="buffer-and-snapshot-settings">Buffer and Snapshot Settings<a href="#buffer-and-snapshot-settings" class="hash-link" aria-label="Direct link to Buffer and Snapshot Settings" title="Direct link to Buffer and Snapshot Settings">​</a></h4>
<ul>
<li><code>transactionBufferSegmentedSnapshotEnabled</code>: Enable segmented buffer snapshots for handling large numbers of aborted transactions (default: <code>false</code>)</li>
<li><code>transactionBufferSnapshotMaxTransactionCount</code>: Take snapshot after this many transaction operations (default: <code>1000</code>)</li>
<li><code>transactionBufferSnapshotMinTimeInMillis</code>: Interval for taking snapshots in milliseconds (default: <code>5000</code>)</li>
<li><code>transactionBufferSnapshotSegmentSize</code>: Size of snapshot segment in bytes (default: <code>262144</code> - 256 KB)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="performance-and-limits">Performance and Limits<a href="#performance-and-limits" class="hash-link" aria-label="Direct link to Performance and Limits" title="Direct link to Performance and Limits">​</a></h4>
<ul>
<li><code>maxActiveTransactionsPerCoordinator</code>: Maximum active transactions per coordinator (default: <code>0</code> - no limit)</li>
<li><code>numTransactionReplayThreadPoolSize</code>: Thread pool size for transaction replay (default: number of CPU cores)</li>
<li><code>transactionBufferClientMaxConcurrentRequests</code>: Maximum concurrent requests for buffer client (default: <code>1000</code>)</li>
<li><code>transactionBufferClientOperationTimeoutInMills</code>: Buffer client operation timeout in milliseconds (default: <code>3000</code>)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-considerations">Performance Considerations<a href="#performance-considerations" class="hash-link" aria-label="Direct link to Performance Considerations" title="Direct link to Performance Considerations">​</a></h3>
<ul>
<li><strong>Batch size tuning</strong>: Optimize batch sizes for your workload characteristics</li>
<li><strong>Coordinator placement</strong>: Distribute transaction coordinators appropriately</li>
<li><strong>Resource allocation</strong>: Ensure adequate resources for transaction processing</li>
<li><strong>Monitoring</strong>: Monitor transaction metrics for performance optimization</li>
</ul>
<p>For detailed configuration and usage examples, see <a href="/docs/next/txn-what/">Pulsar transactions</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/apache/pulsar-site/edit/main/docs/concepts-transactions.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_jeP5 thin-scrollbar theme-doc-toc-desktop"><div class="border"><div style="color:var(--ifm-toc-link-color)">Was this helpful?</div><div style="border-width:1px;padding:3px;display:flex"><div style="justify-content:center;display:flex;border-radius:99999px;width:2.5rem;height:2.5rem;cursor:pointer"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="24" fill="none" style="width:initial;height:initial" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M10.086 1.594A1 1 0 0 1 11 1a4 4 0 0 1 4 4v3h4.655a3 3 0 0 1 2.994 3.45l-1.38 9A3 3 0 0 1 18.275 23H4a3 3 0 0 1-3-3v-7a3 3 0 0 1 3-3h2.35zM8 11.212l3.608-8.117A2 2 0 0 1 13 5v4a1 1 0 0 0 1 1h5.671a1 1 0 0 1 1 1.15l-1.38 9a1 1 0 0 1-1 .85H8zM6 21v-9H4a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1z" clip-rule="evenodd"></path></svg></div><div style="justify-content:center;display:flex;border-radius:99999px;width:2.5rem;height:2.5rem;cursor:pointer"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="24" fill="none" style="width:initial;height:initial" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M20.563 3.316A1.3 1.3 0 0 0 19.687 3h-1.688v9h1.688a1.31 1.31 0 0 0 1.312-1.077V4.077a1.3 1.3 0 0 0-.436-.761M16 12.788l-3.608 8.118A2 2 0 0 1 11 19v-4a1 1 0 0 0-1-1H4.328a1.002 1.002 0 0 1-1-1.15l1.38-9a1 1 0 0 1 1-.85h10.291zM19.661 1a3.31 3.31 0 0 1 3.329 2.866Q23 3.933 23 4v7q0 .068-.01.134A3.31 3.31 0 0 1 19.661 14h-2.012l-3.736 8.406a1 1 0 0 1-.914.594 4 4 0 0 1-4-4v-3H4.344a3 3 0 0 1-2.994-3.45l1.38-9A3 3 0 0 1 5.724 1z" clip-rule="evenodd"></path></svg></div></div><div class="Actions_uugI"><a target="_blank" class="Action_iBHd" href="https://github.com/apache/pulsar/issues/new?assignees=&amp;labels=doc-required&amp;projects=&amp;template=doc.yml&amp;title=%5BDoc%5D+">💡 Suggest changes</a><a target="_blank" class="Action_iBHd" href="https://github.com/apache/pulsar/discussions/new?category=q-a">🛟 Get support</a></div></div><ul class="table-of-contents table-of-contents__left-border"><li><a href="#transaction-coordinator-and-transaction-log" class="table-of-contents__link toc-highlight">Transaction coordinator and transaction log</a></li><li><a href="#transaction-id" class="table-of-contents__link toc-highlight">Transaction ID</a></li><li><a href="#transaction-buffer" class="table-of-contents__link toc-highlight">Transaction buffer</a></li><li><a href="#pending-acknowledge-state" class="table-of-contents__link toc-highlight">Pending acknowledge state</a></li><li><a href="#performance-optimizations" class="table-of-contents__link toc-highlight">Performance Optimizations</a><ul><li><a href="#transaction-log-batching" class="table-of-contents__link toc-highlight">Transaction Log Batching</a></li><li><a href="#pending-acknowledgment-batching" class="table-of-contents__link toc-highlight">Pending Acknowledgment Batching</a></li><li><a href="#segmented-transaction-buffer-snapshots" class="table-of-contents__link toc-highlight">Segmented Transaction Buffer Snapshots</a></li><li><a href="#transaction-buffer-performance-tuning" class="table-of-contents__link toc-highlight">Transaction Buffer Performance Tuning</a></li></ul></li><li><a href="#transaction-isolation-and-consistency" class="table-of-contents__link toc-highlight">Transaction Isolation and Consistency</a><ul><li><a href="#read-committed-isolation" class="table-of-contents__link toc-highlight">Read Committed Isolation</a></li><li><a href="#cross-partition-consistency" class="table-of-contents__link toc-highlight">Cross-Partition Consistency</a></li></ul></li><li><a href="#transaction-timeouts-and-recovery" class="table-of-contents__link toc-highlight">Transaction Timeouts and Recovery</a><ul><li><a href="#timeout-management" class="table-of-contents__link toc-highlight">Timeout Management</a></li><li><a href="#coordinator-recovery" class="table-of-contents__link toc-highlight">Coordinator Recovery</a></li></ul></li><li><a href="#configuration-and-best-practices" class="table-of-contents__link toc-highlight">Configuration and Best Practices</a><ul><li><a href="#key-configuration-parameters" class="table-of-contents__link toc-highlight">Key Configuration Parameters</a></li><li><a href="#performance-considerations" class="table-of-contents__link toc-highlight">Performance Considerations</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.apache.org/events/current-event.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="footer__link-item">License<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/security/">Security</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/policies/privacy.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/contact/">Contact</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item">
                <div class="social-icons">
                  <a target="_blank" href="https://communityinviter.com/apps/apache-pulsar/apache-pulsar" aria-label="Join the Apache Pulsar Slack workspace">
                    <img alt="Slack logo" src="/img/slack-white.svg" width="26">
                  </a>
                  <a target="_blank" href="https://github.com/apache/pulsar/" aria-label="View the Apache Pulsar project on GitHub">
                    <img alt="GitHub logo" src="/img/github-white.svg" width="26">
                  </a>
                </div>
              </li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/"><img src="/img/pulsar-white.svg" alt="Pulsar Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/pulsar-white.svg" alt="Pulsar Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">
        <div>
          <img class="footer-apache-logo" src="/img/feather-logo-white.svg" alt="" width="20">
          The Apache Software Foundation
        </div>
        <p>Apache Pulsar is available under the Apache License, version 2.0. Apache Pulsar is an open-source, distributed messaging and streaming platform built for the cloud.</p>
        <p>Copyright © 2025 The Apache Software Foundation. All Rights Reserved. Apache, Pulsar, Apache Pulsar, and the Apache feather logo are trademarks or registered trademarks of The Apache Software Foundation.</p>
      </div></div></div></footer></div>
</body>
</html>