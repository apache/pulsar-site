<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>AbstractBaseDispatcher (Pulsar Broker 2.10.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AbstractBaseDispatcher (Pulsar Broker 2.10.1 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":10,"i2":10,"i3":6,"i4":10,"i5":10,"i6":10,"i7":6,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractBaseDispatcher.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.pulsar.broker.service</a></div>
<h2 title="Class AbstractBaseDispatcher" class="title">Class AbstractBaseDispatcher</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.pulsar.broker.service.AbstractBaseDispatcher</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="Dispatcher.html" title="interface in org.apache.pulsar.broker.service">Dispatcher</a></code></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="AbstractDispatcherMultipleConsumers.html" title="class in org.apache.pulsar.broker.service">AbstractDispatcherMultipleConsumers</a></code>, <code><a href="AbstractDispatcherSingleActiveConsumer.html" title="class in org.apache.pulsar.broker.service">AbstractDispatcherSingleActiveConsumer</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">AbstractBaseDispatcher</span>
extends java.lang.Object
implements <a href="Dispatcher.html" title="interface in org.apache.pulsar.broker.service">Dispatcher</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#dispatchThrottlingOnBatchMessageEnabled">dispatchThrottlingOnBatchMessageEnabled</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected com.google.common.collect.ImmutableList&lt;<a href="plugin/EntryFilterWithClassLoader.html" title="class in org.apache.pulsar.broker.service.plugin">EntryFilterWithClassLoader</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#entryFilters">entryFilters</a></span></code></th>
<td class="colLast">
<div class="block">Entry filters in Broker.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="plugin/FilterContext.html" title="class in org.apache.pulsar.broker.service.plugin">FilterContext</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#filterContext">filterContext</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.apache.pulsar.broker.ServiceConfiguration</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#serviceConfig">serviceConfig</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="Subscription.html" title="interface in org.apache.pulsar.broker.service">Subscription</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#subscription">subscription</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colSecond" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.pulsar.broker.service.Subscription,org.apache.pulsar.broker.ServiceConfiguration)">AbstractBaseDispatcher</a></span>&#8203;(<a href="Subscription.html" title="interface in org.apache.pulsar.broker.service">Subscription</a>&nbsp;subscription,
                      org.apache.pulsar.broker.ServiceConfiguration&nbsp;serviceConfig)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected static org.apache.commons.lang3.tuple.Pair&lt;java.lang.Integer,&#8203;java.lang.Long&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#computeReadLimits(int,int,long,long)">computeReadLimits</a></span>&#8203;(int&nbsp;messagesToRead,
                 int&nbsp;availablePermitsOnMsg,
                 long&nbsp;bytesToRead,
                 long&nbsp;availablePermitsOnByte)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#filterEntriesForConsumer(java.util.List,org.apache.pulsar.broker.service.EntryBatchSizes,org.apache.pulsar.broker.service.SendMessageInfo,org.apache.pulsar.broker.service.EntryBatchIndexesAcks,org.apache.bookkeeper.mledger.ManagedCursor,boolean,org.apache.pulsar.broker.service.Consumer)">filterEntriesForConsumer</a></span>&#8203;(java.util.List&lt;org.apache.bookkeeper.mledger.Entry&gt;&nbsp;entries,
                        <a href="EntryBatchSizes.html" title="class in org.apache.pulsar.broker.service">EntryBatchSizes</a>&nbsp;batchSizes,
                        <a href="SendMessageInfo.html" title="class in org.apache.pulsar.broker.service">SendMessageInfo</a>&nbsp;sendMessageInfo,
                        <a href="EntryBatchIndexesAcks.html" title="class in org.apache.pulsar.broker.service">EntryBatchIndexesAcks</a>&nbsp;indexesAcks,
                        org.apache.bookkeeper.mledger.ManagedCursor&nbsp;cursor,
                        boolean&nbsp;isReplayRead,
                        <a href="Consumer.html" title="class in org.apache.pulsar.broker.service">Consumer</a>&nbsp;consumer)</code></th>
<td class="colLast">
<div class="block">Filter messages that are being sent to a consumers.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#filterEntriesForConsumer(java.util.Optional,int,java.util.List,org.apache.pulsar.broker.service.EntryBatchSizes,org.apache.pulsar.broker.service.SendMessageInfo,org.apache.pulsar.broker.service.EntryBatchIndexesAcks,org.apache.bookkeeper.mledger.ManagedCursor,boolean,org.apache.pulsar.broker.service.Consumer)">filterEntriesForConsumer</a></span>&#8203;(java.util.Optional&lt;<a href="EntryWrapper.html" title="class in org.apache.pulsar.broker.service">EntryWrapper</a>[]&gt;&nbsp;entryWrapper,
                        int&nbsp;entryWrapperOffset,
                        java.util.List&lt;org.apache.bookkeeper.mledger.Entry&gt;&nbsp;entries,
                        <a href="EntryBatchSizes.html" title="class in org.apache.pulsar.broker.service">EntryBatchSizes</a>&nbsp;batchSizes,
                        <a href="SendMessageInfo.html" title="class in org.apache.pulsar.broker.service">SendMessageInfo</a>&nbsp;sendMessageInfo,
                        <a href="EntryBatchIndexesAcks.html" title="class in org.apache.pulsar.broker.service">EntryBatchIndexesAcks</a>&nbsp;indexesAcks,
                        org.apache.bookkeeper.mledger.ManagedCursor&nbsp;cursor,
                        boolean&nbsp;isReplayRead,
                        <a href="Consumer.html" title="class in org.apache.pulsar.broker.service">Consumer</a>&nbsp;consumer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isConsumersExceededOnSubscription()">isConsumersExceededOnSubscription</a></span>()</code></th>
<td class="colLast">
<div class="block">Determine whether the number of consumers on the subscription reaches the threshold.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isConsumersExceededOnSubscription(org.apache.pulsar.broker.service.AbstractTopic,int)">isConsumersExceededOnSubscription</a></span>&#8203;(<a href="AbstractTopic.html" title="class in org.apache.pulsar.broker.service">AbstractTopic</a>&nbsp;topic,
                                 int&nbsp;consumerSize)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#peekStickyKey(io.netty.buffer.ByteBuf)">peekStickyKey</a></span>&#8203;(io.netty.buffer.ByteBuf&nbsp;metadataAndPayload)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reachDispatchRateLimit(org.apache.pulsar.broker.service.persistent.DispatchRateLimiter)">reachDispatchRateLimit</a></span>&#8203;(<a href="persistent/DispatchRateLimiter.html" title="class in org.apache.pulsar.broker.service.persistent">DispatchRateLimiter</a>&nbsp;dispatchRateLimiter)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reScheduleRead()">reScheduleRead</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resetCloseFuture()">resetCloseFuture</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateEntryWrapperWithMetadata(org.apache.pulsar.broker.service.EntryWrapper%5B%5D,java.util.List)">updateEntryWrapperWithMetadata</a></span>&#8203;(<a href="EntryWrapper.html" title="class in org.apache.pulsar.broker.service">EntryWrapper</a>[]&nbsp;entryWrappers,
                              java.util.List&lt;org.apache.bookkeeper.mledger.Entry&gt;&nbsp;entries)</code></th>
<td class="colLast">
<div class="block">Update Entries with the metadata of each entry.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected org.apache.commons.lang3.tuple.Pair&lt;java.lang.Integer,&#8203;java.lang.Long&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateMessagesToRead(org.apache.pulsar.broker.service.persistent.DispatchRateLimiter,int,long)">updateMessagesToRead</a></span>&#8203;(<a href="persistent/DispatchRateLimiter.html" title="class in org.apache.pulsar.broker.service.persistent">DispatchRateLimiter</a>&nbsp;dispatchRateLimiter,
                    int&nbsp;messagesToRead,
                    long&nbsp;bytesToRead)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.pulsar.broker.service.Dispatcher">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.pulsar.broker.service.<a href="Dispatcher.html" title="interface in org.apache.pulsar.broker.service">Dispatcher</a></h3>
<code><a href="Dispatcher.html#addConsumer(org.apache.pulsar.broker.service.Consumer)">addConsumer</a>, <a href="Dispatcher.html#addUnAckedMessages(int)">addUnAckedMessages</a>, <a href="Dispatcher.html#canUnsubscribe(org.apache.pulsar.broker.service.Consumer)">canUnsubscribe</a>, <a href="Dispatcher.html#checkAndUnblockIfStuck()">checkAndUnblockIfStuck</a>, <a href="Dispatcher.html#clearDelayedMessages()">clearDelayedMessages</a>, <a href="Dispatcher.html#close()">close</a>, <a href="Dispatcher.html#consumerFlow(org.apache.pulsar.broker.service.Consumer,int)">consumerFlow</a>, <a href="Dispatcher.html#cursorIsReset()">cursorIsReset</a>, <a href="Dispatcher.html#disconnectActiveConsumers(boolean)">disconnectActiveConsumers</a>, <a href="Dispatcher.html#disconnectAllConsumers()">disconnectAllConsumers</a>, <a href="Dispatcher.html#disconnectAllConsumers(boolean)">disconnectAllConsumers</a>, <a href="Dispatcher.html#getConsumers()">getConsumers</a>, <a href="Dispatcher.html#getNumberOfDelayedMessages()">getNumberOfDelayedMessages</a>, <a href="Dispatcher.html#getRateLimiter()">getRateLimiter</a>, <a href="Dispatcher.html#getRedeliveryTracker()">getRedeliveryTracker</a>, <a href="Dispatcher.html#getType()">getType</a>, <a href="Dispatcher.html#initializeDispatchRateLimiterIfNeeded()">initializeDispatchRateLimiterIfNeeded</a>, <a href="Dispatcher.html#isClosed()">isClosed</a>, <a href="Dispatcher.html#isConsumerConnected()">isConsumerConnected</a>, <a href="Dispatcher.html#markDeletePositionMoveForward()">markDeletePositionMoveForward</a>, <a href="Dispatcher.html#redeliverUnacknowledgedMessages(org.apache.pulsar.broker.service.Consumer,long)">redeliverUnacknowledgedMessages</a>, <a href="Dispatcher.html#redeliverUnacknowledgedMessages(org.apache.pulsar.broker.service.Consumer,java.util.List)">redeliverUnacknowledgedMessages</a>, <a href="Dispatcher.html#removeConsumer(org.apache.pulsar.broker.service.Consumer)">removeConsumer</a>, <a href="Dispatcher.html#reset()">reset</a>, <a href="Dispatcher.html#trackDelayedDelivery(long,long,org.apache.pulsar.common.api.proto.MessageMetadata)">trackDelayedDelivery</a>, <a href="Dispatcher.html#updateRateLimiter()">updateRateLimiter</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="subscription">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscription</h4>
<pre>protected final&nbsp;<a href="Subscription.html" title="interface in org.apache.pulsar.broker.service">Subscription</a> subscription</pre>
</li>
</ul>
<a id="serviceConfig">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serviceConfig</h4>
<pre>protected final&nbsp;org.apache.pulsar.broker.ServiceConfiguration serviceConfig</pre>
</li>
</ul>
<a id="dispatchThrottlingOnBatchMessageEnabled">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dispatchThrottlingOnBatchMessageEnabled</h4>
<pre>protected final&nbsp;boolean dispatchThrottlingOnBatchMessageEnabled</pre>
</li>
</ul>
<a id="entryFilters">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>entryFilters</h4>
<pre>protected&nbsp;com.google.common.collect.ImmutableList&lt;<a href="plugin/EntryFilterWithClassLoader.html" title="class in org.apache.pulsar.broker.service.plugin">EntryFilterWithClassLoader</a>&gt; entryFilters</pre>
<div class="block">Entry filters in Broker.
 Not set to final, for the convenience of testing mock.</div>
</li>
</ul>
<a id="filterContext">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>filterContext</h4>
<pre>protected final&nbsp;<a href="plugin/FilterContext.html" title="class in org.apache.pulsar.broker.service.plugin">FilterContext</a> filterContext</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.apache.pulsar.broker.service.Subscription,org.apache.pulsar.broker.ServiceConfiguration)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AbstractBaseDispatcher</h4>
<pre>protected&nbsp;AbstractBaseDispatcher&#8203;(<a href="Subscription.html" title="interface in org.apache.pulsar.broker.service">Subscription</a>&nbsp;subscription,
                                 org.apache.pulsar.broker.ServiceConfiguration&nbsp;serviceConfig)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="updateEntryWrapperWithMetadata(org.apache.pulsar.broker.service.EntryWrapper[],java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateEntryWrapperWithMetadata</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;updateEntryWrapperWithMetadata&#8203;(<a href="EntryWrapper.html" title="class in org.apache.pulsar.broker.service">EntryWrapper</a>[]&nbsp;entryWrappers,
                                             java.util.List&lt;org.apache.bookkeeper.mledger.Entry&gt;&nbsp;entries)</pre>
<div class="block">Update Entries with the metadata of each entry.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entries</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a id="filterEntriesForConsumer(java.util.List,org.apache.pulsar.broker.service.EntryBatchSizes,org.apache.pulsar.broker.service.SendMessageInfo,org.apache.pulsar.broker.service.EntryBatchIndexesAcks,org.apache.bookkeeper.mledger.ManagedCursor,boolean,org.apache.pulsar.broker.service.Consumer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filterEntriesForConsumer</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;filterEntriesForConsumer&#8203;(java.util.List&lt;org.apache.bookkeeper.mledger.Entry&gt;&nbsp;entries,
                                    <a href="EntryBatchSizes.html" title="class in org.apache.pulsar.broker.service">EntryBatchSizes</a>&nbsp;batchSizes,
                                    <a href="SendMessageInfo.html" title="class in org.apache.pulsar.broker.service">SendMessageInfo</a>&nbsp;sendMessageInfo,
                                    <a href="EntryBatchIndexesAcks.html" title="class in org.apache.pulsar.broker.service">EntryBatchIndexesAcks</a>&nbsp;indexesAcks,
                                    org.apache.bookkeeper.mledger.ManagedCursor&nbsp;cursor,
                                    boolean&nbsp;isReplayRead,
                                    <a href="Consumer.html" title="class in org.apache.pulsar.broker.service">Consumer</a>&nbsp;consumer)</pre>
<div class="block">Filter messages that are being sent to a consumers.
 <p>
 Messages can be filtered out for multiple reasons:
 <ul>
 <li>Checksum or metadata corrupted
 <li>Message is an internal marker
 <li>Message is not meant to be delivered immediately
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entries</code> - a list of entries as read from storage</dd>
<dd><code>batchSizes</code> - an array where the batch size for each entry (the number of messages within an entry) is stored. This
            array needs to be of at least the same size as the entries list</dd>
<dd><code>sendMessageInfo</code> - an object where the total size in messages and bytes will be returned back to the caller</dd>
</dl>
</li>
</ul>
<a id="filterEntriesForConsumer(java.util.Optional,int,java.util.List,org.apache.pulsar.broker.service.EntryBatchSizes,org.apache.pulsar.broker.service.SendMessageInfo,org.apache.pulsar.broker.service.EntryBatchIndexesAcks,org.apache.bookkeeper.mledger.ManagedCursor,boolean,org.apache.pulsar.broker.service.Consumer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filterEntriesForConsumer</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;filterEntriesForConsumer&#8203;(java.util.Optional&lt;<a href="EntryWrapper.html" title="class in org.apache.pulsar.broker.service">EntryWrapper</a>[]&gt;&nbsp;entryWrapper,
                                    int&nbsp;entryWrapperOffset,
                                    java.util.List&lt;org.apache.bookkeeper.mledger.Entry&gt;&nbsp;entries,
                                    <a href="EntryBatchSizes.html" title="class in org.apache.pulsar.broker.service">EntryBatchSizes</a>&nbsp;batchSizes,
                                    <a href="SendMessageInfo.html" title="class in org.apache.pulsar.broker.service">SendMessageInfo</a>&nbsp;sendMessageInfo,
                                    <a href="EntryBatchIndexesAcks.html" title="class in org.apache.pulsar.broker.service">EntryBatchIndexesAcks</a>&nbsp;indexesAcks,
                                    org.apache.bookkeeper.mledger.ManagedCursor&nbsp;cursor,
                                    boolean&nbsp;isReplayRead,
                                    <a href="Consumer.html" title="class in org.apache.pulsar.broker.service">Consumer</a>&nbsp;consumer)</pre>
</li>
</ul>
<a id="isConsumersExceededOnSubscription()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isConsumersExceededOnSubscription</h4>
<pre class="methodSignature">protected abstract&nbsp;boolean&nbsp;isConsumersExceededOnSubscription()</pre>
<div class="block">Determine whether the number of consumers on the subscription reaches the threshold.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a id="isConsumersExceededOnSubscription(org.apache.pulsar.broker.service.AbstractTopic,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isConsumersExceededOnSubscription</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;isConsumersExceededOnSubscription&#8203;(<a href="AbstractTopic.html" title="class in org.apache.pulsar.broker.service">AbstractTopic</a>&nbsp;topic,
                                                    int&nbsp;consumerSize)</pre>
</li>
</ul>
<a id="resetCloseFuture()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetCloseFuture</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;resetCloseFuture()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Dispatcher.html#resetCloseFuture()">resetCloseFuture</a></code>&nbsp;in interface&nbsp;<code><a href="Dispatcher.html" title="interface in org.apache.pulsar.broker.service">Dispatcher</a></code></dd>
</dl>
</li>
</ul>
<a id="reScheduleRead()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reScheduleRead</h4>
<pre class="methodSignature">protected abstract&nbsp;void&nbsp;reScheduleRead()</pre>
</li>
</ul>
<a id="reachDispatchRateLimit(org.apache.pulsar.broker.service.persistent.DispatchRateLimiter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reachDispatchRateLimit</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;reachDispatchRateLimit&#8203;(<a href="persistent/DispatchRateLimiter.html" title="class in org.apache.pulsar.broker.service.persistent">DispatchRateLimiter</a>&nbsp;dispatchRateLimiter)</pre>
</li>
</ul>
<a id="updateMessagesToRead(org.apache.pulsar.broker.service.persistent.DispatchRateLimiter,int,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateMessagesToRead</h4>
<pre class="methodSignature">protected&nbsp;org.apache.commons.lang3.tuple.Pair&lt;java.lang.Integer,&#8203;java.lang.Long&gt;&nbsp;updateMessagesToRead&#8203;(<a href="persistent/DispatchRateLimiter.html" title="class in org.apache.pulsar.broker.service.persistent">DispatchRateLimiter</a>&nbsp;dispatchRateLimiter,
                                                                                                           int&nbsp;messagesToRead,
                                                                                                           long&nbsp;bytesToRead)</pre>
</li>
</ul>
<a id="computeReadLimits(int,int,long,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeReadLimits</h4>
<pre class="methodSignature">protected static&nbsp;org.apache.commons.lang3.tuple.Pair&lt;java.lang.Integer,&#8203;java.lang.Long&gt;&nbsp;computeReadLimits&#8203;(int&nbsp;messagesToRead,
                                                                                                               int&nbsp;availablePermitsOnMsg,
                                                                                                               long&nbsp;bytesToRead,
                                                                                                               long&nbsp;availablePermitsOnByte)</pre>
</li>
</ul>
<a id="peekStickyKey(io.netty.buffer.ByteBuf)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>peekStickyKey</h4>
<pre class="methodSignature">protected&nbsp;byte[]&nbsp;peekStickyKey&#8203;(io.netty.buffer.ByteBuf&nbsp;metadataAndPayload)</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractBaseDispatcher.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2017&#x2013;2022 <a href="http://www.apache.org/">Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
